function ec(a,t){const r=Object.create(null),i=a.split(",");for(let e=0;e<i.length;e++)r[i[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}const $y="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ky=ec($y);function sh(a){return!!a||a===""}function tc(a){if(tt(a)){const t={};for(let r=0;r<a.length;r++){const i=a[r],e=zt(i)?Qy(i):tc(i);if(e)for(const n in e)t[n]=e[n]}return t}else{if(zt(a))return a;if(Xt(a))return a}}const Xy=/;(?![^(]*\))/g,Yy=/:(.+)/;function Qy(a){const t={};return a.split(Xy).forEach(r=>{if(r){const i=r.split(Yy);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function rc(a){let t="";if(zt(a))t=a;else if(tt(a))for(let r=0;r<a.length;r++){const i=rc(a[r]);i&&(t+=i+" ")}else if(Xt(a))for(const r in a)a[r]&&(t+=r+" ");return t.trim()}const ht={},ia=[],Rr=()=>{},Jy=()=>!1,Zy=/^on[^a-z]/,Zo=a=>Zy.test(a),nc=a=>a.startsWith("onUpdate:"),Ht=Object.assign,ic=(a,t)=>{const r=a.indexOf(t);r>-1&&a.splice(r,1)},e0=Object.prototype.hasOwnProperty,lt=(a,t)=>e0.call(a,t),tt=Array.isArray,xs=a=>el(a)==="[object Map]",t0=a=>el(a)==="[object Set]",rt=a=>typeof a=="function",zt=a=>typeof a=="string",ac=a=>typeof a=="symbol",Xt=a=>a!==null&&typeof a=="object",oh=a=>Xt(a)&&rt(a.then)&&rt(a.catch),r0=Object.prototype.toString,el=a=>r0.call(a),n0=a=>el(a).slice(8,-1),i0=a=>el(a)==="[object Object]",sc=a=>zt(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,tl=ec(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rl=a=>{const t=Object.create(null);return r=>t[r]||(t[r]=a(r))},a0=/-(\w)/g,aa=rl(a=>a.replace(a0,(t,r)=>r?r.toUpperCase():"")),s0=/\B([A-Z])/g,sa=rl(a=>a.replace(s0,"-$1").toLowerCase()),lh=rl(a=>a.charAt(0).toUpperCase()+a.slice(1)),oc=rl(a=>a?`on${lh(a)}`:""),_s=(a,t)=>!Object.is(a,t),lc=(a,t)=>{for(let r=0;r<a.length;r++)a[r](t)},nl=(a,t,r)=>{Object.defineProperty(a,t,{configurable:!0,enumerable:!1,value:r})},o0=a=>{const t=parseFloat(a);return isNaN(t)?a:t};let uh;const l0=()=>uh||(uh=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let mi;const il=[];class u0{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&mi&&(this.parent=mi,this.index=(mi.scopes||(mi.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(il.push(this),mi=this)}off(){this.active&&(il.pop(),mi=il[il.length-1])}stop(t){if(this.active){if(this.effects.forEach(r=>r.stop()),this.cleanups.forEach(r=>r()),this.scopes&&this.scopes.forEach(r=>r.stop(!0)),this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function c0(a,t){t=t||mi,t&&t.active&&t.effects.push(a)}const uc=a=>{const t=new Set(a);return t.w=0,t.n=0,t},ch=a=>(a.w&zn)>0,fh=a=>(a.n&zn)>0,f0=({deps:a})=>{if(a.length)for(let t=0;t<a.length;t++)a[t].w|=zn},d0=a=>{const{deps:t}=a;if(t.length){let r=0;for(let i=0;i<t.length;i++){const e=t[i];ch(e)&&!fh(e)?e.delete(a):t[r++]=e,e.w&=~zn,e.n&=~zn}t.length=r}},cc=new WeakMap;let bs=0,zn=1;const fc=30,oa=[];let vi;const yi=Symbol(""),dc=Symbol("");class hc{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],c0(this,i)}run(){if(!this.active)return this.fn();if(!oa.length||!oa.includes(this))try{return oa.push(vi=this),h0(),zn=1<<++bs,bs<=fc?f0(this):dh(this),this.fn()}finally{bs<=fc&&d0(this),zn=1<<--bs,xi(),oa.pop();const t=oa.length;vi=t>0?oa[t-1]:void 0}}stop(){this.active&&(dh(this),this.onStop&&this.onStop(),this.active=!1)}}function dh(a){const{deps:t}=a;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(a);t.length=0}}let la=!0;const pc=[];function ua(){pc.push(la),la=!1}function h0(){pc.push(la),la=!0}function xi(){const a=pc.pop();la=a===void 0?!0:a}function pr(a,t,r){if(!hh())return;let i=cc.get(a);i||cc.set(a,i=new Map);let e=i.get(r);e||i.set(r,e=uc()),ph(e)}function hh(){return la&&vi!==void 0}function ph(a,t){let r=!1;bs<=fc?fh(a)||(a.n|=zn,r=!ch(a)):r=!a.has(vi),r&&(a.add(vi),vi.deps.push(a))}function un(a,t,r,i,e,n){const s=cc.get(a);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(r==="length"&&tt(a))s.forEach((l,u)=>{(u==="length"||u>=i)&&o.push(l)});else switch(r!==void 0&&o.push(s.get(r)),t){case"add":tt(a)?sc(r)&&o.push(s.get("length")):(o.push(s.get(yi)),xs(a)&&o.push(s.get(dc)));break;case"delete":tt(a)||(o.push(s.get(yi)),xs(a)&&o.push(s.get(dc)));break;case"set":xs(a)&&o.push(s.get(yi));break}if(o.length===1)o[0]&&gc(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);gc(uc(l))}}function gc(a,t){for(const r of tt(a)?a:[...a])(r!==vi||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const p0=ec("__proto__,__v_isRef,__isVue"),gh=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(ac)),g0=mc(),m0=mc(!1,!0),v0=mc(!0),mh=y0();function y0(){const a={};return["includes","indexOf","lastIndexOf"].forEach(t=>{a[t]=function(...r){const i=ct(this);for(let n=0,s=this.length;n<s;n++)pr(i,"get",n+"");const e=i[t](...r);return e===-1||e===!1?i[t](...r.map(ct)):e}}),["push","pop","shift","unshift","splice"].forEach(t=>{a[t]=function(...r){ua();const i=ct(this)[t].apply(this,r);return xi(),i}}),a}function mc(a=!1,t=!1){return function(i,e,n){if(e==="__v_isReactive")return!a;if(e==="__v_isReadonly")return a;if(e==="__v_isShallow")return t;if(e==="__v_raw"&&n===(a?t?R0:Ch:t?Eh:Sh).get(i))return i;const s=tt(i);if(!a&&s&&lt(mh,e))return Reflect.get(mh,e,n);const o=Reflect.get(i,e,n);return(ac(e)?gh.has(e):p0(e))||(a||pr(i,"get",e),t)?o:Mt(o)?!s||!sc(e)?o.value:o:Xt(o)?a?kh(o):xc(o):o}}const x0=vh(),_0=vh(!0);function vh(a=!1){return function(r,i,e,n){let s=r[i];if(Ts(s)&&Mt(s)&&!Mt(e))return!1;if(!a&&!Ts(e)&&(wh(e)||(e=ct(e),s=ct(s)),!tt(r)&&Mt(s)&&!Mt(e)))return s.value=e,!0;const o=tt(r)&&sc(i)?Number(i)<r.length:lt(r,i),l=Reflect.set(r,i,e,n);return r===ct(n)&&(o?_s(e,s)&&un(r,"set",i,e):un(r,"add",i,e)),l}}function b0(a,t){const r=lt(a,t);a[t];const i=Reflect.deleteProperty(a,t);return i&&r&&un(a,"delete",t,void 0),i}function T0(a,t){const r=Reflect.has(a,t);return(!ac(t)||!gh.has(t))&&pr(a,"has",t),r}function S0(a){return pr(a,"iterate",tt(a)?"length":yi),Reflect.ownKeys(a)}const yh={get:g0,set:x0,deleteProperty:b0,has:T0,ownKeys:S0},E0={get:v0,set(a,t){return!0},deleteProperty(a,t){return!0}},C0=Ht({},yh,{get:m0,set:_0}),vc=a=>a,al=a=>Reflect.getPrototypeOf(a);function sl(a,t,r=!1,i=!1){a=a.__v_raw;const e=ct(a),n=ct(t);t!==n&&!r&&pr(e,"get",t),!r&&pr(e,"get",n);const{has:s}=al(e),o=i?vc:r?bc:Ss;if(s.call(e,t))return o(a.get(t));if(s.call(e,n))return o(a.get(n));a!==e&&a.get(t)}function ol(a,t=!1){const r=this.__v_raw,i=ct(r),e=ct(a);return a!==e&&!t&&pr(i,"has",a),!t&&pr(i,"has",e),a===e?r.has(a):r.has(a)||r.has(e)}function ll(a,t=!1){return a=a.__v_raw,!t&&pr(ct(a),"iterate",yi),Reflect.get(a,"size",a)}function xh(a){a=ct(a);const t=ct(this);return al(t).has.call(t,a)||(t.add(a),un(t,"add",a,a)),this}function _h(a,t){t=ct(t);const r=ct(this),{has:i,get:e}=al(r);let n=i.call(r,a);n||(a=ct(a),n=i.call(r,a));const s=e.call(r,a);return r.set(a,t),n?_s(t,s)&&un(r,"set",a,t):un(r,"add",a,t),this}function bh(a){const t=ct(this),{has:r,get:i}=al(t);let e=r.call(t,a);e||(a=ct(a),e=r.call(t,a)),i&&i.call(t,a);const n=t.delete(a);return e&&un(t,"delete",a,void 0),n}function Th(){const a=ct(this),t=a.size!==0,r=a.clear();return t&&un(a,"clear",void 0,void 0),r}function ul(a,t){return function(i,e){const n=this,s=n.__v_raw,o=ct(s),l=t?vc:a?bc:Ss;return!a&&pr(o,"iterate",yi),s.forEach((u,f)=>i.call(e,l(u),l(f),n))}}function cl(a,t,r){return function(...i){const e=this.__v_raw,n=ct(e),s=xs(n),o=a==="entries"||a===Symbol.iterator&&s,l=a==="keys"&&s,u=e[a](...i),f=r?vc:t?bc:Ss;return!t&&pr(n,"iterate",l?dc:yi),{next(){const{value:c,done:d}=u.next();return d?{value:c,done:d}:{value:o?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function Vn(a){return function(...t){return a==="delete"?!1:this}}function k0(){const a={get(n){return sl(this,n)},get size(){return ll(this)},has:ol,add:xh,set:_h,delete:bh,clear:Th,forEach:ul(!1,!1)},t={get(n){return sl(this,n,!1,!0)},get size(){return ll(this)},has:ol,add:xh,set:_h,delete:bh,clear:Th,forEach:ul(!1,!0)},r={get(n){return sl(this,n,!0)},get size(){return ll(this,!0)},has(n){return ol.call(this,n,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:ul(!0,!1)},i={get(n){return sl(this,n,!0,!0)},get size(){return ll(this,!0)},has(n){return ol.call(this,n,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:ul(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{a[n]=cl(n,!1,!1),r[n]=cl(n,!0,!1),t[n]=cl(n,!1,!0),i[n]=cl(n,!0,!0)}),[a,r,t,i]}const[w0,P0,A0,O0]=k0();function yc(a,t){const r=t?a?O0:A0:a?P0:w0;return(i,e,n)=>e==="__v_isReactive"?!a:e==="__v_isReadonly"?a:e==="__v_raw"?i:Reflect.get(lt(r,e)&&e in i?r:i,e,n)}const D0={get:yc(!1,!1)},I0={get:yc(!1,!0)},L0={get:yc(!0,!1)},Sh=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,R0=new WeakMap;function M0(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function F0(a){return a.__v_skip||!Object.isExtensible(a)?0:M0(n0(a))}function xc(a){return Ts(a)?a:_c(a,!1,yh,D0,Sh)}function N0(a){return _c(a,!1,C0,I0,Eh)}function kh(a){return _c(a,!0,E0,L0,Ch)}function _c(a,t,r,i,e){if(!Xt(a)||a.__v_raw&&!(t&&a.__v_isReactive))return a;const n=e.get(a);if(n)return n;const s=F0(a);if(s===0)return a;const o=new Proxy(a,s===2?i:r);return e.set(a,o),o}function ca(a){return Ts(a)?ca(a.__v_raw):!!(a&&a.__v_isReactive)}function Ts(a){return!!(a&&a.__v_isReadonly)}function wh(a){return!!(a&&a.__v_isShallow)}function Ph(a){return ca(a)||Ts(a)}function ct(a){const t=a&&a.__v_raw;return t?ct(t):a}function Ah(a){return nl(a,"__v_skip",!0),a}const Ss=a=>Xt(a)?xc(a):a,bc=a=>Xt(a)?kh(a):a;function Oh(a){hh()&&(a=ct(a),a.dep||(a.dep=uc()),ph(a.dep))}function Dh(a,t){a=ct(a),a.dep&&gc(a.dep)}function Mt(a){return Boolean(a&&a.__v_isRef===!0)}function hk(a){return B0(a,!1)}function B0(a,t){return Mt(a)?a:new U0(a,t)}class U0{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ct(t),this._value=r?t:Ss(t)}get value(){return Oh(this),this._value}set value(t){t=this.__v_isShallow?t:ct(t),_s(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ss(t),Dh(this))}}function j0(a){return Mt(a)?a.value:a}const H0={get:(a,t,r)=>j0(Reflect.get(a,t,r)),set:(a,t,r,i)=>{const e=a[t];return Mt(e)&&!Mt(r)?(e.value=r,!0):Reflect.set(a,t,r,i)}};function Ih(a){return ca(a)?a:new Proxy(a,H0)}class z0{constructor(t,r,i,e){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new hc(t,()=>{this._dirty||(this._dirty=!0,Dh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!e,this.__v_isReadonly=i}get value(){const t=ct(this);return Oh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function V0(a,t,r=!1){let i,e;const n=rt(a);return n?(i=a,e=Rr):(i=a.get,e=a.set),new z0(i,e,n||!e,r)}Promise.resolve();function Wn(a,t,r,i){let e;try{e=i?a(...i):a()}catch(n){fl(n,t,r)}return e}function Cr(a,t,r,i){if(rt(a)){const n=Wn(a,t,r,i);return n&&oh(n)&&n.catch(s=>{fl(s,t,r)}),n}const e=[];for(let n=0;n<a.length;n++)e.push(Cr(a[n],t,r,i));return e}function fl(a,t,r,i=!0){const e=t?t.vnode:null;if(t){let n=t.parent;const s=t.proxy,o=r;for(;n;){const u=n.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](a,s,o)===!1)return}n=n.parent}const l=t.appContext.config.errorHandler;if(l){Wn(l,null,10,[a,s,o]);return}}W0(a,r,e,i)}function W0(a,t,r,i=!0){console.error(a)}let dl=!1,Tc=!1;const gr=[];let cn=0;const Es=[];let Cs=null,fa=0;const ks=[];let qn=null,da=0;const Lh=Promise.resolve();let Sc=null,Ec=null;function q0(a){const t=Sc||Lh;return a?t.then(this?a.bind(this):a):t}function G0(a){let t=cn+1,r=gr.length;for(;t<r;){const i=t+r>>>1;ws(gr[i])<a?t=i+1:r=i}return t}function Rh(a){(!gr.length||!gr.includes(a,dl&&a.allowRecurse?cn+1:cn))&&a!==Ec&&(a.id==null?gr.push(a):gr.splice(G0(a.id),0,a),Mh())}function Mh(){!dl&&!Tc&&(Tc=!0,Sc=Lh.then(Bh))}function $0(a){const t=gr.indexOf(a);t>cn&&gr.splice(t,1)}function Fh(a,t,r,i){tt(a)?r.push(...a):(!t||!t.includes(a,a.allowRecurse?i+1:i))&&r.push(a),Mh()}function K0(a){Fh(a,Cs,Es,fa)}function X0(a){Fh(a,qn,ks,da)}function Cc(a,t=null){if(Es.length){for(Ec=t,Cs=[...new Set(Es)],Es.length=0,fa=0;fa<Cs.length;fa++)Cs[fa]();Cs=null,fa=0,Ec=null,Cc(a,t)}}function Nh(a){if(ks.length){const t=[...new Set(ks)];if(ks.length=0,qn){qn.push(...t);return}for(qn=t,qn.sort((r,i)=>ws(r)-ws(i)),da=0;da<qn.length;da++)qn[da]();qn=null,da=0}}const ws=a=>a.id==null?1/0:a.id;function Bh(a){Tc=!1,dl=!0,Cc(a),gr.sort((r,i)=>ws(r)-ws(i));const t=Rr;try{for(cn=0;cn<gr.length;cn++){const r=gr[cn];r&&r.active!==!1&&Wn(r,null,14)}}finally{cn=0,gr.length=0,Nh(),dl=!1,Sc=null,(gr.length||Es.length||ks.length)&&Bh(a)}}function Y0(a,t,...r){const i=a.vnode.props||ht;let e=r;const n=t.startsWith("update:"),s=n&&t.slice(7);if(s&&s in i){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:d}=i[f]||ht;d?e=r.map(h=>h.trim()):c&&(e=r.map(o0))}let o,l=i[o=oc(t)]||i[o=oc(aa(t))];!l&&n&&(l=i[o=oc(sa(t))]),l&&Cr(l,a,6,e);const u=i[o+"Once"];if(u){if(!a.emitted)a.emitted={};else if(a.emitted[o])return;a.emitted[o]=!0,Cr(u,a,6,e)}}function Uh(a,t,r=!1){const i=t.emitsCache,e=i.get(a);if(e!==void 0)return e;const n=a.emits;let s={},o=!1;if(!rt(a)){const l=u=>{const f=Uh(u,t,!0);f&&(o=!0,Ht(s,f))};!r&&t.mixins.length&&t.mixins.forEach(l),a.extends&&l(a.extends),a.mixins&&a.mixins.forEach(l)}return!n&&!o?(i.set(a,null),null):(tt(n)?n.forEach(l=>s[l]=null):Ht(s,n),i.set(a,s),s)}function kc(a,t){return!a||!Zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),lt(a,t[0].toLowerCase()+t.slice(1))||lt(a,sa(t))||lt(a,t))}let Gr=null,hl=null;function pl(a){const t=Gr;return Gr=a,hl=a&&a.type.__scopeId||null,t}function pk(a){hl=a}function gk(){hl=null}function Q0(a,t=Gr,r){if(!t||a._n)return a;const i=(...e)=>{i._d&&dp(-1);const n=pl(t),s=a(...e);return pl(n),i._d&&dp(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function wc(a){const{type:t,vnode:r,proxy:i,withProxy:e,props:n,propsOptions:[s],slots:o,attrs:l,emit:u,render:f,renderCache:c,data:d,setupState:h,ctx:p,inheritAttrs:g}=a;let v,b;const S=pl(a);try{if(r.shapeFlag&4){const A=e||i;v=Xr(f.call(A,A,c,n,h,d,p)),b=l}else{const A=t;v=Xr(A.length>1?A(n,{attrs:l,slots:o,emit:u}):A(n,null)),b=t.props?l:J0(l)}}catch(A){Ps.length=0,fl(A,a,1),v=dn(Kr)}let C=v;if(b&&g!==!1){const A=Object.keys(b),{shapeFlag:_}=C;A.length&&_&(1|6)&&(s&&A.some(nc)&&(b=Z0(b,s)),C=pa(C,b))}return r.dirs&&(C.dirs=C.dirs?C.dirs.concat(r.dirs):r.dirs),r.transition&&(C.transition=r.transition),v=C,pl(S),v}const J0=a=>{let t;for(const r in a)(r==="class"||r==="style"||Zo(r))&&((t||(t={}))[r]=a[r]);return t},Z0=(a,t)=>{const r={};for(const i in a)(!nc(i)||!(i.slice(9)in t))&&(r[i]=a[i]);return r};function ex(a,t,r){const{props:i,children:e,component:n}=a,{props:s,children:o,patchFlag:l}=t,u=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?jh(i,s,u):!!s;if(l&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(s[d]!==i[d]&&!kc(u,d))return!0}}}else return(e||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?jh(i,s,u):!0:!!s;return!1}function jh(a,t,r){const i=Object.keys(t);if(i.length!==Object.keys(a).length)return!0;for(let e=0;e<i.length;e++){const n=i[e];if(t[n]!==a[n]&&!kc(r,n))return!0}return!1}function tx({vnode:a,parent:t},r){for(;t&&t.subTree===a;)(a=t.vnode).el=r,t=t.parent}const rx=a=>a.__isSuspense;function nx(a,t){t&&t.pendingBranch?tt(a)?t.effects.push(...a):t.effects.push(a):X0(a)}function ix(a,t){if(Ft){let r=Ft.provides;const i=Ft.parent&&Ft.parent.provides;i===r&&(r=Ft.provides=Object.create(i)),r[a]=t}}function Pc(a,t,r=!1){const i=Ft||Gr;if(i){const e=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(e&&a in e)return e[a];if(arguments.length>1)return r&&rt(t)?t.call(i.proxy):t}}const Hh={};function Ac(a,t,r){return zh(a,t,r)}function zh(a,t,{immediate:r,deep:i,flush:e,onTrack:n,onTrigger:s}=ht){const o=Ft;let l,u=!1,f=!1;if(Mt(a)?(l=()=>a.value,u=wh(a)):ca(a)?(l=()=>a,i=!0):tt(a)?(f=!0,u=a.some(ca),l=()=>a.map(b=>{if(Mt(b))return b.value;if(ca(b))return ha(b);if(rt(b))return Wn(b,o,2)})):rt(a)?t?l=()=>Wn(a,o,2):l=()=>{if(!(o&&o.isUnmounted))return c&&c(),Cr(a,o,3,[d])}:l=Rr,t&&i){const b=l;l=()=>ha(b())}let c,d=b=>{c=v.onStop=()=>{Wn(b,o,4)}};if(As)return d=Rr,t?r&&Cr(t,o,3,[l(),f?[]:void 0,d]):l(),Rr;let h=f?[]:Hh;const p=()=>{if(!!v.active)if(t){const b=v.run();(i||u||(f?b.some((S,C)=>_s(S,h[C])):_s(b,h)))&&(c&&c(),Cr(t,o,3,[b,h===Hh?void 0:h,d]),h=b)}else v.run()};p.allowRecurse=!!t;let g;e==="sync"?g=p:e==="post"?g=()=>ar(p,o&&o.suspense):g=()=>{!o||o.isMounted?K0(p):p()};const v=new hc(l,g);return t?r?p():h=v.run():e==="post"?ar(v.run.bind(v),o&&o.suspense):v.run(),()=>{v.stop(),o&&o.scope&&ic(o.scope.effects,v)}}function ax(a,t,r){const i=this.proxy,e=zt(a)?a.includes(".")?Vh(i,a):()=>i[a]:a.bind(i,i);let n;rt(t)?n=t:(n=t.handler,r=t);const s=Ft;ga(this);const o=zh(e,n.bind(i),r);return s?ga(s):Ci(),o}function Vh(a,t){const r=t.split(".");return()=>{let i=a;for(let e=0;e<r.length&&i;e++)i=i[r[e]];return i}}function ha(a,t){if(!Xt(a)||a.__v_skip||(t=t||new Set,t.has(a)))return a;if(t.add(a),Mt(a))ha(a.value,t);else if(tt(a))for(let r=0;r<a.length;r++)ha(a[r],t);else if(t0(a)||xs(a))a.forEach(r=>{ha(r,t)});else if(i0(a))for(const r in a)ha(a[r],t);return a}function sx(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kh(()=>{a.isMounted=!0}),Xh(()=>{a.isUnmounting=!0}),a}const kr=[Function,Array],ox={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},setup(a,{slots:t}){const r=Kx(),i=sx();let e;return()=>{const n=t.default&&Gh(t.default(),!0);if(!n||!n.length)return;const s=ct(a),{mode:o}=s,l=n[0];if(i.isLeaving)return Dc(l);const u=qh(l);if(!u)return Dc(l);const f=Oc(u,s,i,r);Ic(u,f);const c=r.subTree,d=c&&qh(c);let h=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();e===void 0?e=g:g!==e&&(e=g,h=!0)}if(d&&d.type!==Kr&&(!Ei(u,d)||h)){const g=Oc(d,s,i,r);if(Ic(d,g),o==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,r.update()},Dc(l);o==="in-out"&&u.type!==Kr&&(g.delayLeave=(v,b,S)=>{const C=Wh(i,d);C[String(d.key)]=d,v._leaveCb=()=>{b(),v._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=S})}return l}}},lx=ox;function Wh(a,t){const{leavingVNodes:r}=a;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Oc(a,t,r,i){const{appear:e,mode:n,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:g,onAppear:v,onAfterAppear:b,onAppearCancelled:S}=t,C=String(a.key),A=Wh(r,a),_=(k,R)=>{k&&Cr(k,i,9,R)},w={mode:n,persisted:s,beforeEnter(k){let R=o;if(!r.isMounted)if(e)R=g||o;else return;k._leaveCb&&k._leaveCb(!0);const j=A[C];j&&Ei(a,j)&&j.el._leaveCb&&j.el._leaveCb(),_(R,[k])},enter(k){let R=l,j=u,N=f;if(!r.isMounted)if(e)R=v||l,j=b||u,N=S||f;else return;let M=!1;const z=k._enterCb=I=>{M||(M=!0,I?_(N,[k]):_(j,[k]),w.delayedLeave&&w.delayedLeave(),k._enterCb=void 0)};R?(R(k,z),R.length<=1&&z()):z()},leave(k,R){const j=String(a.key);if(k._enterCb&&k._enterCb(!0),r.isUnmounting)return R();_(c,[k]);let N=!1;const M=k._leaveCb=z=>{N||(N=!0,R(),z?_(p,[k]):_(h,[k]),k._leaveCb=void 0,A[j]===a&&delete A[j])};A[j]=a,d?(d(k,M),d.length<=1&&M()):M()},clone(k){return Oc(k,t,r,i)}};return w}function Dc(a){if(gl(a))return a=pa(a),a.children=null,a}function qh(a){return gl(a)?a.children?a.children[0]:void 0:a}function Ic(a,t){a.shapeFlag&6&&a.component?Ic(a.component.subTree,t):a.shapeFlag&128?(a.ssContent.transition=t.clone(a.ssContent),a.ssFallback.transition=t.clone(a.ssFallback)):a.transition=t}function Gh(a,t=!1){let r=[],i=0;for(let e=0;e<a.length;e++){const n=a[e];n.type===$r?(n.patchFlag&128&&i++,r=r.concat(Gh(n.children,t))):(t||n.type!==Kr)&&r.push(n)}if(i>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}function mk(a){return rt(a)?{setup:a,name:a.name}:a}const Lc=a=>!!a.type.__asyncLoader,gl=a=>a.type.__isKeepAlive;function ux(a,t){$h(a,"a",t)}function cx(a,t){$h(a,"da",t)}function $h(a,t,r=Ft){const i=a.__wdc||(a.__wdc=()=>{let e=r;for(;e;){if(e.isDeactivated)return;e=e.parent}return a()});if(ml(t,i,r),r){let e=r.parent;for(;e&&e.parent;)gl(e.parent.vnode)&&fx(i,t,r,e),e=e.parent}}function fx(a,t,r,i){const e=ml(t,a,i,!0);Yh(()=>{ic(i[t],e)},r)}function ml(a,t,r=Ft,i=!1){if(r){const e=r[a]||(r[a]=[]),n=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;ua(),ga(r);const o=Cr(t,r,a,s);return Ci(),xi(),o});return i?e.unshift(n):e.push(n),n}}const fn=a=>(t,r=Ft)=>(!As||a==="sp")&&ml(a,t,r),dx=fn("bm"),Kh=fn("m"),hx=fn("bu"),px=fn("u"),Xh=fn("bum"),Yh=fn("um"),gx=fn("sp"),mx=fn("rtg"),vx=fn("rtc");function yx(a,t=Ft){ml("ec",a,t)}let Rc=!0;function xx(a){const t=Zh(a),r=a.proxy,i=a.ctx;Rc=!1,t.beforeCreate&&Qh(t.beforeCreate,a,"bc");const{data:e,computed:n,methods:s,watch:o,provide:l,inject:u,created:f,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:v,beforeDestroy:b,beforeUnmount:S,destroyed:C,unmounted:A,render:_,renderTracked:w,renderTriggered:k,errorCaptured:R,serverPrefetch:j,expose:N,inheritAttrs:M,components:z,directives:I,filters:U}=t;if(u&&_x(u,i,null,a.appContext.config.unwrapInjectedRef),s)for(const oe in s){const G=s[oe];rt(G)&&(i[oe]=G.bind(r))}if(e){const oe=e.call(r,r);Xt(oe)&&(a.data=xc(oe))}if(Rc=!0,n)for(const oe in n){const G=n[oe],q=rt(G)?G.bind(r,r):rt(G.get)?G.get.bind(r,r):Rr,Z=!rt(G)&&rt(G.set)?G.set.bind(r):Rr,ae=e_({get:q,set:Z});Object.defineProperty(i,oe,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Y=>ae.value=Y})}if(o)for(const oe in o)Jh(o[oe],i,r,oe);if(l){const oe=rt(l)?l.call(r):l;Reflect.ownKeys(oe).forEach(G=>{ix(G,oe[G])})}f&&Qh(f,a,"c");function te(oe,G){tt(G)?G.forEach(q=>oe(q.bind(r))):G&&oe(G.bind(r))}if(te(dx,c),te(Kh,d),te(hx,h),te(px,p),te(ux,g),te(cx,v),te(yx,R),te(vx,w),te(mx,k),te(Xh,S),te(Yh,A),te(gx,j),tt(N))if(N.length){const oe=a.exposed||(a.exposed={});N.forEach(G=>{Object.defineProperty(oe,G,{get:()=>r[G],set:q=>r[G]=q})})}else a.exposed||(a.exposed={});_&&a.render===Rr&&(a.render=_),M!=null&&(a.inheritAttrs=M),z&&(a.components=z),I&&(a.directives=I)}function _x(a,t,r=Rr,i=!1){tt(a)&&(a=Mc(a));for(const e in a){const n=a[e];let s;Xt(n)?"default"in n?s=Pc(n.from||e,n.default,!0):s=Pc(n.from||e):s=Pc(n),Mt(s)&&i?Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[e]=s}}function Qh(a,t,r){Cr(tt(a)?a.map(i=>i.bind(t.proxy)):a.bind(t.proxy),t,r)}function Jh(a,t,r,i){const e=i.includes(".")?Vh(r,i):()=>r[i];if(zt(a)){const n=t[a];rt(n)&&Ac(e,n)}else if(rt(a))Ac(e,a.bind(r));else if(Xt(a))if(tt(a))a.forEach(n=>Jh(n,t,r,i));else{const n=rt(a.handler)?a.handler.bind(r):t[a.handler];rt(n)&&Ac(e,n,a)}}function Zh(a){const t=a.type,{mixins:r,extends:i}=t,{mixins:e,optionsCache:n,config:{optionMergeStrategies:s}}=a.appContext,o=n.get(t);let l;return o?l=o:!e.length&&!r&&!i?l=t:(l={},e.length&&e.forEach(u=>vl(l,u,s,!0)),vl(l,t,s)),n.set(t,l),l}function vl(a,t,r,i=!1){const{mixins:e,extends:n}=t;n&&vl(a,n,r,!0),e&&e.forEach(s=>vl(a,s,r,!0));for(const s in t)if(!(i&&s==="expose")){const o=bx[s]||r&&r[s];a[s]=o?o(a[s],t[s]):t[s]}return a}const bx={data:ep,props:_i,emits:_i,methods:_i,computed:_i,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:_i,directives:_i,watch:Sx,provide:ep,inject:Tx};function ep(a,t){return t?a?function(){return Ht(rt(a)?a.call(this,this):a,rt(t)?t.call(this,this):t)}:t:a}function Tx(a,t){return _i(Mc(a),Mc(t))}function Mc(a){if(tt(a)){const t={};for(let r=0;r<a.length;r++)t[a[r]]=a[r];return t}return a}function Yt(a,t){return a?[...new Set([].concat(a,t))]:t}function _i(a,t){return a?Ht(Ht(Object.create(null),a),t):t}function Sx(a,t){if(!a)return t;if(!t)return a;const r=Ht(Object.create(null),a);for(const i in t)r[i]=Yt(a[i],t[i]);return r}function Ex(a,t,r,i=!1){const e={},n={};nl(n,xl,1),a.propsDefaults=Object.create(null),tp(a,t,e,n);for(const s in a.propsOptions[0])s in e||(e[s]=void 0);r?a.props=i?e:N0(e):a.type.props?a.props=e:a.props=n,a.attrs=n}function Cx(a,t,r,i){const{props:e,attrs:n,vnode:{patchFlag:s}}=a,o=ct(e),[l]=a.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const f=a.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];const h=t[d];if(l)if(lt(n,d))h!==n[d]&&(n[d]=h,u=!0);else{const p=aa(d);e[p]=Fc(l,o,p,h,a,!1)}else h!==n[d]&&(n[d]=h,u=!0)}}}else{tp(a,t,e,n)&&(u=!0);let f;for(const c in o)(!t||!lt(t,c)&&((f=sa(c))===c||!lt(t,f)))&&(l?r&&(r[c]!==void 0||r[f]!==void 0)&&(e[c]=Fc(l,o,c,void 0,a,!0)):delete e[c]);if(n!==o)for(const c in n)(!t||!lt(t,c)&&!0)&&(delete n[c],u=!0)}u&&un(a,"set","$attrs")}function tp(a,t,r,i){const[e,n]=a.propsOptions;let s=!1,o;if(t)for(let l in t){if(tl(l))continue;const u=t[l];let f;e&&lt(e,f=aa(l))?!n||!n.includes(f)?r[f]=u:(o||(o={}))[f]=u:kc(a.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(n){const l=ct(r),u=o||ht;for(let f=0;f<n.length;f++){const c=n[f];r[c]=Fc(e,l,c,u[c],a,!lt(u,c))}}return s}function Fc(a,t,r,i,e,n){const s=a[r];if(s!=null){const o=lt(s,"default");if(o&&i===void 0){const l=s.default;if(s.type!==Function&&rt(l)){const{propsDefaults:u}=e;r in u?i=u[r]:(ga(e),i=u[r]=l.call(null,t),Ci())}else i=l}s[0]&&(n&&!o?i=!1:s[1]&&(i===""||i===sa(r))&&(i=!0))}return i}function rp(a,t,r=!1){const i=t.propsCache,e=i.get(a);if(e)return e;const n=a.props,s={},o=[];let l=!1;if(!rt(a)){const f=c=>{l=!0;const[d,h]=rp(c,t,!0);Ht(s,d),h&&o.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(f),a.extends&&f(a.extends),a.mixins&&a.mixins.forEach(f)}if(!n&&!l)return i.set(a,ia),ia;if(tt(n))for(let f=0;f<n.length;f++){const c=aa(n[f]);np(c)&&(s[c]=ht)}else if(n)for(const f in n){const c=aa(f);if(np(c)){const d=n[f],h=s[c]=tt(d)||rt(d)?{type:d}:d;if(h){const p=sp(Boolean,h.type),g=sp(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||lt(h,"default"))&&o.push(c)}}}const u=[s,o];return i.set(a,u),u}function np(a){return a[0]!=="$"}function ip(a){const t=a&&a.toString().match(/^\s*function (\w+)/);return t?t[1]:a===null?"null":""}function ap(a,t){return ip(a)===ip(t)}function sp(a,t){return tt(t)?t.findIndex(r=>ap(r,a)):rt(t)&&ap(t,a)?0:-1}const op=a=>a[0]==="_"||a==="$stable",Nc=a=>tt(a)?a.map(Xr):[Xr(a)],kx=(a,t,r)=>{const i=Q0((...e)=>Nc(t(...e)),r);return i._c=!1,i},lp=(a,t,r)=>{const i=a._ctx;for(const e in a){if(op(e))continue;const n=a[e];if(rt(n))t[e]=kx(e,n,i);else if(n!=null){const s=Nc(n);t[e]=()=>s}}},up=(a,t)=>{const r=Nc(t);a.slots.default=()=>r},wx=(a,t)=>{if(a.vnode.shapeFlag&32){const r=t._;r?(a.slots=ct(t),nl(t,"_",r)):lp(t,a.slots={})}else a.slots={},t&&up(a,t);nl(a.slots,xl,1)},Px=(a,t,r)=>{const{vnode:i,slots:e}=a;let n=!0,s=ht;if(i.shapeFlag&32){const o=t._;o?r&&o===1?n=!1:(Ht(e,t),!r&&o===1&&delete e._):(n=!t.$stable,lp(t,e)),s=t}else t&&(up(a,t),s={default:1});if(n)for(const o in e)!op(o)&&!(o in s)&&delete e[o]};function bi(a,t,r,i){const e=a.dirs,n=t&&t.dirs;for(let s=0;s<e.length;s++){const o=e[s];n&&(o.oldValue=n[s].value);let l=o.dir[i];l&&(ua(),Cr(l,r,8,[a.el,o,a,t]),xi())}}function cp(){return{app:null,config:{isNativeTag:Jy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ax=0;function Ox(a,t){return function(i,e=null){e!=null&&!Xt(e)&&(e=null);const n=cp(),s=new Set;let o=!1;const l=n.app={_uid:Ax++,_component:i,_props:e,_container:null,_context:n,_instance:null,version:t_,get config(){return n.config},set config(u){},use(u,...f){return s.has(u)||(u&&rt(u.install)?(s.add(u),u.install(l,...f)):rt(u)&&(s.add(u),u(l,...f))),l},mixin(u){return n.mixins.includes(u)||n.mixins.push(u),l},component(u,f){return f?(n.components[u]=f,l):n.components[u]},directive(u,f){return f?(n.directives[u]=f,l):n.directives[u]},mount(u,f,c){if(!o){const d=dn(i,e);return d.appContext=n,f&&t?t(d,u):a(d,u,c),o=!0,l._container=u,u.__vue_app__=l,Vc(d.component)||d.component.proxy}},unmount(){o&&(a(null,l._container),delete l._container.__vue_app__)},provide(u,f){return n.provides[u]=f,l}};return l}}function Bc(a,t,r,i,e=!1){if(tt(a)){a.forEach((d,h)=>Bc(d,t&&(tt(t)?t[h]:t),r,i,e));return}if(Lc(i)&&!e)return;const n=i.shapeFlag&4?Vc(i.component)||i.component.proxy:i.el,s=e?null:n,{i:o,r:l}=a,u=t&&t.r,f=o.refs===ht?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(zt(u)?(f[u]=null,lt(c,u)&&(c[u]=null)):Mt(u)&&(u.value=null)),rt(l))Wn(l,o,12,[s,f]);else{const d=zt(l),h=Mt(l);if(d||h){const p=()=>{if(a.f){const g=d?f[l]:l.value;e?tt(g)&&ic(g,n):tt(g)?g.includes(n)||g.push(n):d?f[l]=[n]:(l.value=[n],a.k&&(f[a.k]=l.value))}else d?(f[l]=s,lt(c,l)&&(c[l]=s)):Mt(l)&&(l.value=s,a.k&&(f[a.k]=s))};s?(p.id=-1,ar(p,r)):p()}}}const ar=nx;function Dx(a){return Ix(a)}function Ix(a,t){const r=l0();r.__VUE__=!0;const{insert:i,remove:e,patchProp:n,createElement:s,createText:o,createComment:l,setText:u,setElementText:f,parentNode:c,nextSibling:d,setScopeId:h=Rr,cloneNode:p,insertStaticContent:g}=a,v=($,re,fe,le=null,pe=null,ye=null,ve=!1,_e=null,xe=!!re.dynamicChildren)=>{if($===re)return;$&&!Ei($,re)&&(le=st($),ie($,pe,ye,!0),$=null),re.patchFlag===-2&&(xe=!1,re.dynamicChildren=null);const{type:ce,ref:Ce,shapeFlag:Re}=re;switch(ce){case Uc:b($,re,fe,le);break;case Kr:S($,re,fe,le);break;case jc:$==null&&C(re,fe,le,ve);break;case $r:I($,re,fe,le,pe,ye,ve,_e,xe);break;default:Re&1?w($,re,fe,le,pe,ye,ve,_e,xe):Re&6?U($,re,fe,le,pe,ye,ve,_e,xe):(Re&64||Re&128)&&ce.process($,re,fe,le,pe,ye,ve,_e,xe,Ke)}Ce!=null&&pe&&Bc(Ce,$&&$.ref,ye,re||$,!re)},b=($,re,fe,le)=>{if($==null)i(re.el=o(re.children),fe,le);else{const pe=re.el=$.el;re.children!==$.children&&u(pe,re.children)}},S=($,re,fe,le)=>{$==null?i(re.el=l(re.children||""),fe,le):re.el=$.el},C=($,re,fe,le)=>{[$.el,$.anchor]=g($.children,re,fe,le,$.el,$.anchor)},A=({el:$,anchor:re},fe,le)=>{let pe;for(;$&&$!==re;)pe=d($),i($,fe,le),$=pe;i(re,fe,le)},_=({el:$,anchor:re})=>{let fe;for(;$&&$!==re;)fe=d($),e($),$=fe;e(re)},w=($,re,fe,le,pe,ye,ve,_e,xe)=>{ve=ve||re.type==="svg",$==null?k(re,fe,le,pe,ye,ve,_e,xe):N($,re,pe,ye,ve,_e,xe)},k=($,re,fe,le,pe,ye,ve,_e)=>{let xe,ce;const{type:Ce,props:Re,shapeFlag:Ue,transition:ze,patchFlag:Ze,dirs:je}=$;if($.el&&p!==void 0&&Ze===-1)xe=$.el=p($.el);else{if(xe=$.el=s($.type,ye,Re&&Re.is,Re),Ue&8?f(xe,$.children):Ue&16&&j($.children,xe,null,le,pe,ye&&Ce!=="foreignObject",ve,_e),je&&bi($,null,le,"created"),Re){for(const at in Re)at!=="value"&&!tl(at)&&n(xe,at,null,Re[at],ye,$.children,le,pe,Ie);"value"in Re&&n(xe,"value",null,Re.value),(ce=Re.onVnodeBeforeMount)&&Yr(ce,le,$)}R(xe,$,$.scopeId,ve,le)}je&&bi($,null,le,"beforeMount");const Ne=(!pe||pe&&!pe.pendingBranch)&&ze&&!ze.persisted;Ne&&ze.beforeEnter(xe),i(xe,re,fe),((ce=Re&&Re.onVnodeMounted)||Ne||je)&&ar(()=>{ce&&Yr(ce,le,$),Ne&&ze.enter(xe),je&&bi($,null,le,"mounted")},pe)},R=($,re,fe,le,pe)=>{if(fe&&h($,fe),le)for(let ye=0;ye<le.length;ye++)h($,le[ye]);if(pe){let ye=pe.subTree;if(re===ye){const ve=pe.vnode;R($,ve,ve.scopeId,ve.slotScopeIds,pe.parent)}}},j=($,re,fe,le,pe,ye,ve,_e,xe=0)=>{for(let ce=xe;ce<$.length;ce++){const Ce=$[ce]=_e?Gn($[ce]):Xr($[ce]);v(null,Ce,re,fe,le,pe,ye,ve,_e)}},N=($,re,fe,le,pe,ye,ve)=>{const _e=re.el=$.el;let{patchFlag:xe,dynamicChildren:ce,dirs:Ce}=re;xe|=$.patchFlag&16;const Re=$.props||ht,Ue=re.props||ht;let ze;fe&&Ti(fe,!1),(ze=Ue.onVnodeBeforeUpdate)&&Yr(ze,fe,re,$),Ce&&bi(re,$,fe,"beforeUpdate"),fe&&Ti(fe,!0);const Ze=pe&&re.type!=="foreignObject";if(ce?M($.dynamicChildren,ce,_e,fe,le,Ze,ye):ve||q($,re,_e,null,fe,le,Ze,ye,!1),xe>0){if(xe&16)z(_e,re,Re,Ue,fe,le,pe);else if(xe&2&&Re.class!==Ue.class&&n(_e,"class",null,Ue.class,pe),xe&4&&n(_e,"style",Re.style,Ue.style,pe),xe&8){const je=re.dynamicProps;for(let Ne=0;Ne<je.length;Ne++){const at=je[Ne],_t=Re[at],Hr=Ue[at];(Hr!==_t||at==="value")&&n(_e,at,_t,Hr,pe,$.children,fe,le,Ie)}}xe&1&&$.children!==re.children&&f(_e,re.children)}else!ve&&ce==null&&z(_e,re,Re,Ue,fe,le,pe);((ze=Ue.onVnodeUpdated)||Ce)&&ar(()=>{ze&&Yr(ze,fe,re,$),Ce&&bi(re,$,fe,"updated")},le)},M=($,re,fe,le,pe,ye,ve)=>{for(let _e=0;_e<re.length;_e++){const xe=$[_e],ce=re[_e],Ce=xe.el&&(xe.type===$r||!Ei(xe,ce)||xe.shapeFlag&(6|64))?c(xe.el):fe;v(xe,ce,Ce,null,le,pe,ye,ve,!0)}},z=($,re,fe,le,pe,ye,ve)=>{if(fe!==le){for(const _e in le){if(tl(_e))continue;const xe=le[_e],ce=fe[_e];xe!==ce&&_e!=="value"&&n($,_e,ce,xe,ve,re.children,pe,ye,Ie)}if(fe!==ht)for(const _e in fe)!tl(_e)&&!(_e in le)&&n($,_e,fe[_e],null,ve,re.children,pe,ye,Ie);"value"in le&&n($,"value",fe.value,le.value)}},I=($,re,fe,le,pe,ye,ve,_e,xe)=>{const ce=re.el=$?$.el:o(""),Ce=re.anchor=$?$.anchor:o("");let{patchFlag:Re,dynamicChildren:Ue,slotScopeIds:ze}=re;ze&&(_e=_e?_e.concat(ze):ze),$==null?(i(ce,fe,le),i(Ce,fe,le),j(re.children,fe,Ce,pe,ye,ve,_e,xe)):Re>0&&Re&64&&Ue&&$.dynamicChildren?(M($.dynamicChildren,Ue,fe,pe,ye,ve,_e),(re.key!=null||pe&&re===pe.subTree)&&fp($,re,!0)):q($,re,fe,Ce,pe,ye,ve,_e,xe)},U=($,re,fe,le,pe,ye,ve,_e,xe)=>{re.slotScopeIds=_e,$==null?re.shapeFlag&512?pe.ctx.activate(re,fe,le,ve,xe):K(re,fe,le,pe,ye,ve,xe):te($,re,xe)},K=($,re,fe,le,pe,ye,ve)=>{const _e=$.component=$x($,le,pe);if(gl($)&&(_e.ctx.renderer=Ke),Xx(_e),_e.asyncDep){if(pe&&pe.registerDep(_e,oe),!$.el){const xe=_e.subTree=dn(Kr);S(null,xe,re,fe)}return}oe(_e,$,re,fe,pe,ye,ve)},te=($,re,fe)=>{const le=re.component=$.component;if(ex($,re,fe))if(le.asyncDep&&!le.asyncResolved){G(le,re,fe);return}else le.next=re,$0(le.update),le.update();else re.component=$.component,re.el=$.el,le.vnode=re},oe=($,re,fe,le,pe,ye,ve)=>{const _e=()=>{if($.isMounted){let{next:Ce,bu:Re,u:Ue,parent:ze,vnode:Ze}=$,je=Ce,Ne;Ti($,!1),Ce?(Ce.el=Ze.el,G($,Ce,ve)):Ce=Ze,Re&&lc(Re),(Ne=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&Yr(Ne,ze,Ce,Ze),Ti($,!0);const at=wc($),_t=$.subTree;$.subTree=at,v(_t,at,c(_t.el),st(_t),$,pe,ye),Ce.el=at.el,je===null&&tx($,at.el),Ue&&ar(Ue,pe),(Ne=Ce.props&&Ce.props.onVnodeUpdated)&&ar(()=>Yr(Ne,ze,Ce,Ze),pe)}else{let Ce;const{el:Re,props:Ue}=re,{bm:ze,m:Ze,parent:je}=$,Ne=Lc(re);if(Ti($,!1),ze&&lc(ze),!Ne&&(Ce=Ue&&Ue.onVnodeBeforeMount)&&Yr(Ce,je,re),Ti($,!0),Re&&it){const at=()=>{$.subTree=wc($),it(Re,$.subTree,$,pe,null)};Ne?re.type.__asyncLoader().then(()=>!$.isUnmounted&&at()):at()}else{const at=$.subTree=wc($);v(null,at,fe,le,$,pe,ye),re.el=at.el}if(Ze&&ar(Ze,pe),!Ne&&(Ce=Ue&&Ue.onVnodeMounted)){const at=re;ar(()=>Yr(Ce,je,at),pe)}re.shapeFlag&256&&$.a&&ar($.a,pe),$.isMounted=!0,re=fe=le=null}},xe=$.effect=new hc(_e,()=>Rh($.update),$.scope),ce=$.update=xe.run.bind(xe);ce.id=$.uid,Ti($,!0),ce()},G=($,re,fe)=>{re.component=$;const le=$.vnode.props;$.vnode=re,$.next=null,Cx($,re.props,le,fe),Px($,re.children,fe),ua(),Cc(void 0,$.update),xi()},q=($,re,fe,le,pe,ye,ve,_e,xe=!1)=>{const ce=$&&$.children,Ce=$?$.shapeFlag:0,Re=re.children,{patchFlag:Ue,shapeFlag:ze}=re;if(Ue>0){if(Ue&128){ae(ce,Re,fe,le,pe,ye,ve,_e,xe);return}else if(Ue&256){Z(ce,Re,fe,le,pe,ye,ve,_e,xe);return}}ze&8?(Ce&16&&Ie(ce,pe,ye),Re!==ce&&f(fe,Re)):Ce&16?ze&16?ae(ce,Re,fe,le,pe,ye,ve,_e,xe):Ie(ce,pe,ye,!0):(Ce&8&&f(fe,""),ze&16&&j(Re,fe,le,pe,ye,ve,_e,xe))},Z=($,re,fe,le,pe,ye,ve,_e,xe)=>{$=$||ia,re=re||ia;const ce=$.length,Ce=re.length,Re=Math.min(ce,Ce);let Ue;for(Ue=0;Ue<Re;Ue++){const ze=re[Ue]=xe?Gn(re[Ue]):Xr(re[Ue]);v($[Ue],ze,fe,null,pe,ye,ve,_e,xe)}ce>Ce?Ie($,pe,ye,!0,!1,Re):j(re,fe,le,pe,ye,ve,_e,xe,Re)},ae=($,re,fe,le,pe,ye,ve,_e,xe)=>{let ce=0;const Ce=re.length;let Re=$.length-1,Ue=Ce-1;for(;ce<=Re&&ce<=Ue;){const ze=$[ce],Ze=re[ce]=xe?Gn(re[ce]):Xr(re[ce]);if(Ei(ze,Ze))v(ze,Ze,fe,null,pe,ye,ve,_e,xe);else break;ce++}for(;ce<=Re&&ce<=Ue;){const ze=$[Re],Ze=re[Ue]=xe?Gn(re[Ue]):Xr(re[Ue]);if(Ei(ze,Ze))v(ze,Ze,fe,null,pe,ye,ve,_e,xe);else break;Re--,Ue--}if(ce>Re){if(ce<=Ue){const ze=Ue+1,Ze=ze<Ce?re[ze].el:le;for(;ce<=Ue;)v(null,re[ce]=xe?Gn(re[ce]):Xr(re[ce]),fe,Ze,pe,ye,ve,_e,xe),ce++}}else if(ce>Ue)for(;ce<=Re;)ie($[ce],pe,ye,!0),ce++;else{const ze=ce,Ze=ce,je=new Map;for(ce=Ze;ce<=Ue;ce++){const Lt=re[ce]=xe?Gn(re[ce]):Xr(re[ce]);Lt.key!=null&&je.set(Lt.key,ce)}let Ne,at=0;const _t=Ue-Ze+1;let Hr=!1,_r=0;const br=new Array(_t);for(ce=0;ce<_t;ce++)br[ce]=0;for(ce=ze;ce<=Re;ce++){const Lt=$[ce];if(at>=_t){ie(Lt,pe,ye,!0);continue}let $t;if(Lt.key!=null)$t=je.get(Lt.key);else for(Ne=Ze;Ne<=Ue;Ne++)if(br[Ne-Ze]===0&&Ei(Lt,re[Ne])){$t=Ne;break}$t===void 0?ie(Lt,pe,ye,!0):(br[$t-Ze]=ce+1,$t>=_r?_r=$t:Hr=!0,v(Lt,re[$t],fe,null,pe,ye,ve,_e,xe),at++)}const nr=Hr?Lx(br):ia;for(Ne=nr.length-1,ce=_t-1;ce>=0;ce--){const Lt=Ze+ce,$t=re[Lt],ji=Lt+1<Ce?re[Lt+1].el:le;br[ce]===0?v(null,$t,fe,ji,pe,ye,ve,_e,xe):Hr&&(Ne<0||ce!==nr[Ne]?Y($t,fe,ji,2):Ne--)}}},Y=($,re,fe,le,pe=null)=>{const{el:ye,type:ve,transition:_e,children:xe,shapeFlag:ce}=$;if(ce&6){Y($.component.subTree,re,fe,le);return}if(ce&128){$.suspense.move(re,fe,le);return}if(ce&64){ve.move($,re,fe,Ke);return}if(ve===$r){i(ye,re,fe);for(let Re=0;Re<xe.length;Re++)Y(xe[Re],re,fe,le);i($.anchor,re,fe);return}if(ve===jc){A($,re,fe);return}if(le!==2&&ce&1&&_e)if(le===0)_e.beforeEnter(ye),i(ye,re,fe),ar(()=>_e.enter(ye),pe);else{const{leave:Re,delayLeave:Ue,afterLeave:ze}=_e,Ze=()=>i(ye,re,fe),je=()=>{Re(ye,()=>{Ze(),ze&&ze()})};Ue?Ue(ye,Ze,je):je()}else i(ye,re,fe)},ie=($,re,fe,le=!1,pe=!1)=>{const{type:ye,props:ve,ref:_e,children:xe,dynamicChildren:ce,shapeFlag:Ce,patchFlag:Re,dirs:Ue}=$;if(_e!=null&&Bc(_e,null,fe,$,!0),Ce&256){re.ctx.deactivate($);return}const ze=Ce&1&&Ue,Ze=!Lc($);let je;if(Ze&&(je=ve&&ve.onVnodeBeforeUnmount)&&Yr(je,re,$),Ce&6)Pe($.component,fe,le);else{if(Ce&128){$.suspense.unmount(fe,le);return}ze&&bi($,null,re,"beforeUnmount"),Ce&64?$.type.remove($,re,fe,pe,Ke,le):ce&&(ye!==$r||Re>0&&Re&64)?Ie(ce,re,fe,!1,!0):(ye===$r&&Re&(128|256)||!pe&&Ce&16)&&Ie(xe,re,fe),le&&he($)}(Ze&&(je=ve&&ve.onVnodeUnmounted)||ze)&&ar(()=>{je&&Yr(je,re,$),ze&&bi($,null,re,"unmounted")},fe)},he=$=>{const{type:re,el:fe,anchor:le,transition:pe}=$;if(re===$r){Te(fe,le);return}if(re===jc){_($);return}const ye=()=>{e(fe),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if($.shapeFlag&1&&pe&&!pe.persisted){const{leave:ve,delayLeave:_e}=pe,xe=()=>ve(fe,ye);_e?_e($.el,ye,xe):xe()}else ye()},Te=($,re)=>{let fe;for(;$!==re;)fe=d($),e($),$=fe;e(re)},Pe=($,re,fe)=>{const{bum:le,scope:pe,update:ye,subTree:ve,um:_e}=$;le&&lc(le),pe.stop(),ye&&(ye.active=!1,ie(ve,$,re,fe)),_e&&ar(_e,re),ar(()=>{$.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},Ie=($,re,fe,le=!1,pe=!1,ye=0)=>{for(let ve=ye;ve<$.length;ve++)ie($[ve],re,fe,le,pe)},st=$=>$.shapeFlag&6?st($.component.subTree):$.shapeFlag&128?$.suspense.next():d($.anchor||$.el),nt=($,re,fe)=>{$==null?re._vnode&&ie(re._vnode,null,null,!0):v(re._vnode||null,$,re,null,null,null,fe),Nh(),re._vnode=$},Ke={p:v,um:ie,m:Y,r:he,mt:K,mc:j,pc:q,pbc:M,n:st,o:a};let Je,it;return t&&([Je,it]=t(Ke)),{render:nt,hydrate:Je,createApp:Ox(nt,Je)}}function Ti({effect:a,update:t},r){a.allowRecurse=t.allowRecurse=r}function fp(a,t,r=!1){const i=a.children,e=t.children;if(tt(i)&&tt(e))for(let n=0;n<i.length;n++){const s=i[n];let o=e[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=e[n]=Gn(e[n]),o.el=s.el),r||fp(s,o))}}function Lx(a){const t=a.slice(),r=[0];let i,e,n,s,o;const l=a.length;for(i=0;i<l;i++){const u=a[i];if(u!==0){if(e=r[r.length-1],a[e]<u){t[i]=e,r.push(i);continue}for(n=0,s=r.length-1;n<s;)o=n+s>>1,a[r[o]]<u?n=o+1:s=o;u<a[r[n]]&&(n>0&&(t[i]=r[n-1]),r[n]=i)}}for(n=r.length,s=r[n-1];n-- >0;)r[n]=s,s=t[s];return r}const Rx=a=>a.__isTeleport,Mx=Symbol(),$r=Symbol(void 0),Uc=Symbol(void 0),Kr=Symbol(void 0),jc=Symbol(void 0),Ps=[];let Si=null;function Fx(a=!1){Ps.push(Si=a?null:[])}function Nx(){Ps.pop(),Si=Ps[Ps.length-1]||null}let yl=1;function dp(a){yl+=a}function hp(a){return a.dynamicChildren=yl>0?Si||ia:null,Nx(),yl>0&&Si&&Si.push(a),a}function vk(a,t,r,i,e,n){return hp(gp(a,t,r,i,e,n,!0))}function Bx(a,t,r,i,e){return hp(dn(a,t,r,i,e,!0))}function Ux(a){return a?a.__v_isVNode===!0:!1}function Ei(a,t){return a.type===t.type&&a.key===t.key}const xl="__vInternal",pp=({key:a})=>a!=null?a:null,_l=({ref:a,ref_key:t,ref_for:r})=>a!=null?zt(a)||Mt(a)||rt(a)?{i:Gr,r:a,k:t,f:!!r}:a:null;function gp(a,t=null,r=null,i=0,e=null,n=a===$r?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:a,props:t,key:t&&pp(t),ref:t&&_l(t),scopeId:hl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:e,dynamicChildren:null,appContext:null};return o?(Hc(l,r),n&128&&a.normalize(l)):r&&(l.shapeFlag|=zt(r)?8:16),yl>0&&!s&&Si&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Si.push(l),l}const dn=jx;function jx(a,t=null,r=null,i=0,e=null,n=!1){if((!a||a===Mx)&&(a=Kr),Ux(a)){const o=pa(a,t,!0);return r&&Hc(o,r),o}if(Zx(a)&&(a=a.__vccOpts),t){t=Hx(t);let{class:o,style:l}=t;o&&!zt(o)&&(t.class=rc(o)),Xt(l)&&(Ph(l)&&!tt(l)&&(l=Ht({},l)),t.style=tc(l))}const s=zt(a)?1:rx(a)?128:Rx(a)?64:Xt(a)?4:rt(a)?2:0;return gp(a,t,r,i,e,s,n,!0)}function Hx(a){return a?Ph(a)||xl in a?Ht({},a):a:null}function pa(a,t,r=!1){const{props:i,ref:e,patchFlag:n,children:s}=a,o=t?Vx(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:o,key:o&&pp(o),ref:t&&t.ref?r&&e?tt(e)?e.concat(_l(t)):[e,_l(t)]:_l(t):e,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:s,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:t&&a.type!==$r?n===-1?16:n|16:n,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&pa(a.ssContent),ssFallback:a.ssFallback&&pa(a.ssFallback),el:a.el,anchor:a.anchor}}function zx(a=" ",t=0){return dn(Uc,null,a,t)}function yk(a="",t=!1){return t?(Fx(),Bx(Kr,null,a)):dn(Kr,null,a)}function Xr(a){return a==null||typeof a=="boolean"?dn(Kr):tt(a)?dn($r,null,a.slice()):typeof a=="object"?Gn(a):dn(Uc,null,String(a))}function Gn(a){return a.el===null||a.memo?a:pa(a)}function Hc(a,t){let r=0;const{shapeFlag:i}=a;if(t==null)t=null;else if(tt(t))r=16;else if(typeof t=="object")if(i&(1|64)){const e=t.default;e&&(e._c&&(e._d=!1),Hc(a,e()),e._c&&(e._d=!0));return}else{r=32;const e=t._;!e&&!(xl in t)?t._ctx=Gr:e===3&&Gr&&(Gr.slots._===1?t._=1:(t._=2,a.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:Gr},r=32):(t=String(t),i&64?(r=16,t=[zx(t)]):r=8);a.children=t,a.shapeFlag|=r}function Vx(...a){const t={};for(let r=0;r<a.length;r++){const i=a[r];for(const e in i)if(e==="class")t.class!==i.class&&(t.class=rc([t.class,i.class]));else if(e==="style")t.style=tc([t.style,i.style]);else if(Zo(e)){const n=t[e],s=i[e];s&&n!==s&&!(tt(n)&&n.includes(s))&&(t[e]=n?[].concat(n,s):s)}else e!==""&&(t[e]=i[e])}return t}function Yr(a,t,r,i=null){Cr(a,t,7,[r,i])}const zc=a=>a?mp(a)?Vc(a)||a.proxy:zc(a.parent):null,bl=Ht(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>zc(a.parent),$root:a=>zc(a.root),$emit:a=>a.emit,$options:a=>Zh(a),$forceUpdate:a=>()=>Rh(a.update),$nextTick:a=>q0.bind(a.proxy),$watch:a=>ax.bind(a)}),Wx={get({_:a},t){const{ctx:r,setupState:i,data:e,props:n,accessCache:s,type:o,appContext:l}=a;let u;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return e[t];case 4:return r[t];case 3:return n[t]}else{if(i!==ht&&lt(i,t))return s[t]=1,i[t];if(e!==ht&&lt(e,t))return s[t]=2,e[t];if((u=a.propsOptions[0])&&lt(u,t))return s[t]=3,n[t];if(r!==ht&&lt(r,t))return s[t]=4,r[t];Rc&&(s[t]=0)}}const f=bl[t];let c,d;if(f)return t==="$attrs"&&pr(a,"get",t),f(a);if((c=o.__cssModules)&&(c=c[t]))return c;if(r!==ht&&lt(r,t))return s[t]=4,r[t];if(d=l.config.globalProperties,lt(d,t))return d[t]},set({_:a},t,r){const{data:i,setupState:e,ctx:n}=a;if(e!==ht&&lt(e,t))e[t]=r;else if(i!==ht&&lt(i,t))i[t]=r;else if(lt(a.props,t))return!1;return t[0]==="$"&&t.slice(1)in a?!1:(n[t]=r,!0)},has({_:{data:a,setupState:t,accessCache:r,ctx:i,appContext:e,propsOptions:n}},s){let o;return!!r[s]||a!==ht&&lt(a,s)||t!==ht&&lt(t,s)||(o=n[0])&&lt(o,s)||lt(i,s)||lt(bl,s)||lt(e.config.globalProperties,s)}},qx=cp();let Gx=0;function $x(a,t,r){const i=a.type,e=(t?t.appContext:a.appContext)||qx,n={uid:Gx++,vnode:a,type:i,parent:t,appContext:e,root:null,next:null,subTree:null,effect:null,update:null,scope:new u0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(e.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rp(i,e),emitsOptions:Uh(i,e),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:i.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Y0.bind(null,n),a.ce&&a.ce(n),n}let Ft=null;const Kx=()=>Ft||Gr,ga=a=>{Ft=a,a.scope.on()},Ci=()=>{Ft&&Ft.scope.off(),Ft=null};function mp(a){return a.vnode.shapeFlag&4}let As=!1;function Xx(a,t=!1){As=t;const{props:r,children:i}=a.vnode,e=mp(a);Ex(a,r,e,t),wx(a,i);const n=e?Yx(a,t):void 0;return As=!1,n}function Yx(a,t){const r=a.type;a.accessCache=Object.create(null),a.proxy=Ah(new Proxy(a.ctx,Wx));const{setup:i}=r;if(i){const e=a.setupContext=i.length>1?Jx(a):null;ga(a),ua();const n=Wn(i,a,0,[a.props,e]);if(xi(),Ci(),oh(n)){if(n.then(Ci,Ci),t)return n.then(s=>{vp(a,s,t)}).catch(s=>{fl(s,a,0)});a.asyncDep=n}else vp(a,n,t)}else xp(a,t)}function vp(a,t,r){rt(t)?a.type.__ssrInlineRender?a.ssrRender=t:a.render=t:Xt(t)&&(a.setupState=Ih(t)),xp(a,r)}let yp;function xp(a,t,r){const i=a.type;if(!a.render){if(!t&&yp&&!i.render){const e=i.template;if(e){const{isCustomElement:n,compilerOptions:s}=a.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Ht(Ht({isCustomElement:n,delimiters:o},s),l);i.render=yp(e,u)}}a.render=i.render||Rr}ga(a),ua(),xx(a),xi(),Ci()}function Qx(a){return new Proxy(a.attrs,{get(t,r){return pr(a,"get","$attrs"),t[r]}})}function Jx(a){const t=i=>{a.exposed=i||{}};let r;return{get attrs(){return r||(r=Qx(a))},slots:a.slots,emit:a.emit,expose:t}}function Vc(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(Ih(Ah(a.exposed)),{get(t,r){if(r in t)return t[r];if(r in bl)return bl[r](a)}}))}function Zx(a){return rt(a)&&"__vccOpts"in a}const e_=(a,t)=>V0(a,t,As),t_="3.2.29",r_="http://www.w3.org/2000/svg",ki=typeof document!="undefined"?document:null,_p=ki&&ki.createElement("template"),n_={insert:(a,t,r)=>{t.insertBefore(a,r||null)},remove:a=>{const t=a.parentNode;t&&t.removeChild(a)},createElement:(a,t,r,i)=>{const e=t?ki.createElementNS(r_,a):ki.createElement(a,r?{is:r}:void 0);return a==="select"&&i&&i.multiple!=null&&e.setAttribute("multiple",i.multiple),e},createText:a=>ki.createTextNode(a),createComment:a=>ki.createComment(a),setText:(a,t)=>{a.nodeValue=t},setElementText:(a,t)=>{a.textContent=t},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>ki.querySelector(a),setScopeId(a,t){a.setAttribute(t,"")},cloneNode(a){const t=a.cloneNode(!0);return"_value"in a&&(t._value=a._value),t},insertStaticContent(a,t,r,i,e,n){const s=r?r.previousSibling:t.lastChild;if(e&&(e===n||e.nextSibling))for(;t.insertBefore(e.cloneNode(!0),r),!(e===n||!(e=e.nextSibling)););else{_p.innerHTML=i?`<svg>${a}</svg>`:a;const o=_p.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function i_(a,t,r){const i=a._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?a.removeAttribute("class"):r?a.setAttribute("class",t):a.className=t}function a_(a,t,r){const i=a.style,e=zt(r);if(r&&!e){for(const n in r)Wc(i,n,r[n]);if(t&&!zt(t))for(const n in t)r[n]==null&&Wc(i,n,"")}else{const n=i.display;e?t!==r&&(i.cssText=r):t&&a.removeAttribute("style"),"_vod"in a&&(i.display=n)}}const bp=/\s*!important$/;function Wc(a,t,r){if(tt(r))r.forEach(i=>Wc(a,t,i));else if(t.startsWith("--"))a.setProperty(t,r);else{const i=s_(a,t);bp.test(r)?a.setProperty(sa(i),r.replace(bp,""),"important"):a[i]=r}}const Tp=["Webkit","Moz","ms"],qc={};function s_(a,t){const r=qc[t];if(r)return r;let i=aa(t);if(i!=="filter"&&i in a)return qc[t]=i;i=lh(i);for(let e=0;e<Tp.length;e++){const n=Tp[e]+i;if(n in a)return qc[t]=n}return t}const Sp="http://www.w3.org/1999/xlink";function o_(a,t,r,i,e){if(i&&t.startsWith("xlink:"))r==null?a.removeAttributeNS(Sp,t.slice(6,t.length)):a.setAttributeNS(Sp,t,r);else{const n=Ky(t);r==null||n&&!sh(r)?a.removeAttribute(t):a.setAttribute(t,n?"":r)}}function l_(a,t,r,i,e,n,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,e,n),a[t]=r==null?"":r;return}if(t==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=r;const o=r==null?"":r;(a.value!==o||a.tagName==="OPTION")&&(a.value=o),r==null&&a.removeAttribute(t);return}if(r===""||r==null){const o=typeof a[t];if(o==="boolean"){a[t]=sh(r);return}else if(r==null&&o==="string"){a[t]="",a.removeAttribute(t);return}else if(o==="number"){try{a[t]=0}catch{}a.removeAttribute(t);return}}try{a[t]=r}catch{}}let Tl=Date.now,Ep=!1;if(typeof window!="undefined"){Tl()>document.createEvent("Event").timeStamp&&(Tl=()=>performance.now());const a=navigator.userAgent.match(/firefox\/(\d+)/i);Ep=!!(a&&Number(a[1])<=53)}let Gc=0;const u_=Promise.resolve(),c_=()=>{Gc=0},f_=()=>Gc||(u_.then(c_),Gc=Tl());function d_(a,t,r,i){a.addEventListener(t,r,i)}function h_(a,t,r,i){a.removeEventListener(t,r,i)}function p_(a,t,r,i,e=null){const n=a._vei||(a._vei={}),s=n[t];if(i&&s)s.value=i;else{const[o,l]=g_(t);if(i){const u=n[t]=m_(i,e);d_(a,o,u,l)}else s&&(h_(a,o,s,l),n[t]=void 0)}}const Cp=/(?:Once|Passive|Capture)$/;function g_(a){let t;if(Cp.test(a)){t={};let r;for(;r=a.match(Cp);)a=a.slice(0,a.length-r[0].length),t[r[0].toLowerCase()]=!0}return[sa(a.slice(2)),t]}function m_(a,t){const r=i=>{const e=i.timeStamp||Tl();(Ep||e>=r.attached-1)&&Cr(v_(i,r.value),t,5,[i])};return r.value=a,r.attached=f_(),r}function v_(a,t){if(tt(t)){const r=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{r.call(a),a._stopped=!0},t.map(i=>e=>!e._stopped&&i&&i(e))}else return t}const kp=/^on[a-z]/,y_=(a,t,r,i,e=!1,n,s,o,l)=>{t==="class"?i_(a,i,e):t==="style"?a_(a,r,i):Zo(t)?nc(t)||p_(a,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):x_(a,t,i,e))?l_(a,t,i,n,s,o,l):(t==="true-value"?a._trueValue=i:t==="false-value"&&(a._falseValue=i),o_(a,t,i,e))};function x_(a,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in a&&kp.test(t)&&rt(r)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&a.tagName==="INPUT"||t==="type"&&a.tagName==="TEXTAREA"||kp.test(t)&&zt(r)?!1:t in a}const __={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};lx.props;const b_=Ht({patchProp:y_},n_);let wp;function T_(){return wp||(wp=Dx(b_))}const xk=(...a)=>{const t=T_().createApp(...a),{mount:r}=t;return t.mount=i=>{const e=S_(i);if(!e)return;const n=t._component;!rt(n)&&!n.render&&!n.template&&(n.template=e.innerHTML),e.innerHTML="";const s=r(e,!1,e instanceof SVGElement);return e instanceof Element&&(e.removeAttribute("v-cloak"),e.setAttribute("data-v-app","")),s},t};function S_(a){return zt(a)?document.querySelector(a):a}var Os=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function E_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Pp(a){if(a.__esModule)return a;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(r){var i=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return a[r]}})}),t}var Ds;typeof window!="undefined"?Ds=window:typeof Os!="undefined"?Ds=Os:typeof self!="undefined"?Ds=self:Ds={};var Q=Ds,C_={},k_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C_}),w_=Pp(k_),Ap=typeof Os!="undefined"?Os:typeof window!="undefined"?window:{},P_=w_,Is;typeof document!="undefined"?Is=document:(Is=Ap["__GLOBAL_DOCUMENT_CACHE@4"],Is||(Is=Ap["__GLOBAL_DOCUMENT_CACHE@4"]=P_));var Ee=Is;function wr(){return wr=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},wr.apply(this,arguments)}var A_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wr});function $e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ls(a,t){return Ls=Object.setPrototypeOf||function(i,e){return i.__proto__=e,i},Ls(a,t)}function we(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a,Ls(a,t)}var O_=D_;function D_(a,t){var r,i=null;try{r=JSON.parse(a,t)}catch(e){i=e}return[i,r]}var $c={exports:{}};(function(a,t){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var f=String(l),c=i[f.toLowerCase()];if(c)return c;var c=e[f.toLowerCase()];if(c)return c;if(f.length===1)return f.charCodeAt(0)}r.isEventKey=function(u,f){if(u&&typeof u=="object"){var c=u.which||u.keyCode||u.charCode;if(c==null)return!1;if(typeof f=="string"){var d=i[f.toLowerCase()];if(d)return d===c;var d=e[f.toLowerCase()];if(d)return d===c}else if(typeof f=="number")return f===c;return!1}},t=a.exports=r;var i=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},e=t.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(n=97;n<123;n++)i[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)i[n-48]=n;for(n=1;n<13;n++)i["f"+n]=n+111;for(n=0;n<10;n++)i["numpad "+n]=n+96;var s=t.names=t.title={};for(n in i)s[i[n]]=n;for(var o in e)i[o]=e[o]})($c,$c.exports);var Qe=$c.exports,Kc={exports:{}},I_=Pp(A_),L_=M_,R_=Object.prototype.toString;function M_(a){if(!a)return!1;var t=R_.call(a);return t==="[object Function]"||typeof a=="function"&&t!=="[object RegExp]"||typeof window!="undefined"&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}var F_=Q,N_=function(t,r){return r===void 0&&(r=!1),function(i,e,n){if(i){t(i);return}if(e.statusCode>=400&&e.statusCode<=599){var s=n;if(r)if(F_.TextDecoder){var o=B_(e.headers&&e.headers["content-type"]);try{s=new TextDecoder(o).decode(n)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(n));t({cause:s});return}t(null,n)}};function B_(a){return a===void 0&&(a=""),a.toLowerCase().split(";").reduce(function(t,r){var i=r.split("="),e=i[0],n=i[1];return e.trim()==="charset"?n.trim():t},"utf-8")}var U_=N_,Op=Q,j_=I_,H_=L_;Qr.httpHandler=U_;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var z_=function(t){var r={};return t&&t.trim().split(`
`).forEach(function(i){var e=i.indexOf(":"),n=i.slice(0,e).trim().toLowerCase(),s=i.slice(e+1).trim();typeof r[n]=="undefined"?r[n]=s:Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]}),r};Kc.exports=Qr;Kc.exports.default=Qr;Qr.XMLHttpRequest=Op.XMLHttpRequest||G_;Qr.XDomainRequest="withCredentials"in new Qr.XMLHttpRequest?Qr.XMLHttpRequest:Op.XDomainRequest;V_(["get","put","post","patch","head","delete"],function(a){Qr[a==="delete"?"del":a]=function(t,r,i){return r=Dp(t,r,i),r.method=a.toUpperCase(),Ip(r)}});function V_(a,t){for(var r=0;r<a.length;r++)t(a[r])}function W_(a){for(var t in a)if(a.hasOwnProperty(t))return!1;return!0}function Dp(a,t,r){var i=a;return H_(t)?(r=t,typeof a=="string"&&(i={uri:a})):i=j_({},t,{uri:a}),i.callback=r,i}function Qr(a,t,r){return t=Dp(a,t,r),Ip(t)}function Ip(a){if(typeof a.callback=="undefined")throw new Error("callback argument missing");var t=!1,r=function(C,A,_){t||(t=!0,a.callback(C,A,_))};function i(){o.readyState===4&&setTimeout(s,0)}function e(){var S=void 0;if(o.response?S=o.response:S=o.responseText||q_(o),g)try{S=JSON.parse(S)}catch{}return S}function n(S){return clearTimeout(v),S instanceof Error||(S=new Error(""+(S||"Unknown XMLHttpRequest Error"))),S.statusCode=0,r(S,b)}function s(){if(!u){var S;clearTimeout(v),a.useXDR&&o.status===void 0?S=200:S=o.status===1223?204:o.status;var C=b,A=null;return S!==0?(C={body:e(),statusCode:S,method:c,headers:{},url:f,rawRequest:o},o.getAllResponseHeaders&&(C.headers=z_(o.getAllResponseHeaders()))):A=new Error("Internal XMLHttpRequest Error"),r(A,C,C.body)}}var o=a.xhr||null;o||(a.cors||a.useXDR?o=new Qr.XDomainRequest:o=new Qr.XMLHttpRequest);var l,u,f=o.url=a.uri||a.url,c=o.method=a.method||"GET",d=a.body||a.data,h=o.headers=a.headers||{},p=!!a.sync,g=!1,v,b={body:void 0,headers:{},statusCode:0,method:c,url:f,rawRequest:o};if("json"in a&&a.json!==!1&&(g=!0,h.accept||h.Accept||(h.Accept="application/json"),c!=="GET"&&c!=="HEAD"&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(a.json===!0?d:a.json))),o.onreadystatechange=i,o.onload=s,o.onerror=n,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=n,o.open(c,f,!p,a.username,a.password),p||(o.withCredentials=!!a.withCredentials),!p&&a.timeout>0&&(v=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var S=new Error("XMLHttpRequest timeout");S.code="ETIMEDOUT",n(S)}},a.timeout)),o.setRequestHeader)for(l in h)h.hasOwnProperty(l)&&o.setRequestHeader(l,h[l]);else if(a.headers&&!W_(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(o.responseType=a.responseType),"beforeSend"in a&&typeof a.beforeSend=="function"&&a.beforeSend(o),o.send(d||null),o}function q_(a){try{if(a.responseType==="document")return a.responseXML;var t=a.responseXML&&a.responseXML.documentElement.nodeName==="parsererror";if(a.responseType===""&&!t)return a.responseXML}catch{}return null}function G_(){}var Lp=Kc.exports,Rp={exports:{}},Mp=Ee,Xc=Object.create||function(){function a(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=t,new a}}();function mr(a,t){this.name="ParsingError",this.code=a.code,this.message=t||a.message}mr.prototype=Xc(Error.prototype);mr.prototype.constructor=mr;mr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Yc(a){function t(i,e,n,s){return(i|0)*3600+(e|0)*60+(n|0)+(s|0)/1e3}var r=a.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function Rs(){this.values=Xc(null)}Rs.prototype={set:function(a,t){!this.get(a)&&t!==""&&(this.values[a]=t)},get:function(a,t,r){return r?this.has(a)?this.values[a]:t[r]:this.has(a)?this.values[a]:t},has:function(a){return a in this.values},alt:function(a,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(a,t);break}},integer:function(a,t){/^-?\d+$/.test(t)&&this.set(a,parseInt(t,10))},percent:function(a,t){return t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(a,t),!0):!1}};function Ms(a,t,r,i){var e=i?a.split(i):[a];for(var n in e)if(typeof e[n]=="string"){var s=e[n].split(r);if(s.length===2){var o=s[0],l=s[1];t(o,l)}}}function $_(a,t,r){var i=a;function e(){var o=Yc(a);if(o===null)throw new mr(mr.Errors.BadTimeStamp,"Malformed timestamp: "+i);return a=a.replace(/^[^\sa-zA-Z-]+/,""),o}function n(o,l){var u=new Rs;Ms(o,function(f,c){switch(f){case"region":for(var d=r.length-1;d>=0;d--)if(r[d].id===c){u.set(f,r[d].region);break}break;case"vertical":u.alt(f,c,["rl","lr"]);break;case"line":var h=c.split(","),p=h[0];u.integer(f,p),u.percent(f,p)&&u.set("snapToLines",!1),u.alt(f,p,["auto"]),h.length===2&&u.alt("lineAlign",h[1],["start","center","end"]);break;case"position":h=c.split(","),u.percent(f,h[0]),h.length===2&&u.alt("positionAlign",h[1],["start","center","end"]);break;case"size":u.percent(f,c);break;case"align":u.alt(f,c,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){a=a.replace(/^\s+/,"")}if(s(),t.startTime=e(),s(),a.substr(0,3)!=="-->")throw new mr(mr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);a=a.substr(3),s(),t.endTime=e(),s(),n(a,t)}var Qc=Mp.createElement&&Mp.createElement("textarea"),K_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Fp={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},X_={v:"title",lang:"lang"},Np={rt:"ruby"};function Bp(a,t){function r(){if(!t)return null;function p(v){return t=t.substr(v.length),v}var g=t.match(/^([^<]*)(<[^>]*>?)?/);return p(g[1]?g[1]:g[2])}function i(p){return Qc.innerHTML=p,p=Qc.textContent,Qc.textContent="",p}function e(p,g){return!Np[g.localName]||Np[g.localName]===p.localName}function n(p,g){var v=K_[p];if(!v)return null;var b=a.document.createElement(v),S=X_[p];return S&&g&&(b[S]=g.trim()),b}for(var s=a.document.createElement("div"),o=s,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var f=Yc(l.substr(1,l.length-2)),c;if(f){c=a.document.createProcessingInstruction("timestamp",f),o.appendChild(c);continue}var d=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d||(c=n(d[1],d[3]),!c)||!e(o,c))continue;if(d[2]){var h=d[2].split(".");h.forEach(function(p){var g=/^bg_/.test(p),v=g?p.slice(3):p;if(Fp.hasOwnProperty(v)){var b=g?"background-color":"color",S=Fp[v];c.style[b]=S}}),c.className=h.join(" ")}u.push(d[1]),o.appendChild(c),o=c;continue}o.appendChild(a.document.createTextNode(i(l)))}return s}var Up=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Y_(a){for(var t=0;t<Up.length;t++){var r=Up[t];if(a>=r[0]&&a<=r[1])return!0}return!1}function Q_(a){var t=[],r="",i;if(!a||!a.childNodes)return"ltr";function e(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function n(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var f=u.match(/^.*(\n|\r)/);return f?(o.length=0,f[0]):u}if(l.tagName==="ruby")return n(o);if(l.childNodes)return e(o,l),n(o)}for(e(t,a);r=n(t);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),Y_(i))return"rtl";return"ltr"}function J_(a){if(typeof a.line=="number"&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var t=a.track,r=t.textTrackList,i=0,e=0;e<r.length&&r[e]!==t;e++)r[e].mode==="showing"&&i++;return++i*-1}function Sl(){}Sl.prototype.applyStyles=function(a,t){t=t||this.div;for(var r in a)a.hasOwnProperty(r)&&(t.style[r]=a[r])};Sl.prototype.formatStyle=function(a,t){return a===0?0:a+t};function El(a,t,r){Sl.call(this),this.cue=t,this.cueDiv=Bp(a,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={direction:Q_(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var e=0;switch(t.positionAlign){case"start":e=t.position;break;case"center":e=t.position-t.size/2;break;case"end":e=t.position-t.size;break}t.vertical===""?this.applyStyles({left:this.formatStyle(e,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(e,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}El.prototype=Xc(Sl.prototype);El.prototype.constructor=El;function Qt(a){var t,r,i,e;if(a.div){r=a.div.offsetHeight,i=a.div.offsetWidth,e=a.div.offsetTop;var n=(n=a.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects();a=a.div.getBoundingClientRect(),t=n?Math.max(n[0]&&n[0].height||0,a.height/n.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||r,this.bottom=a.bottom||e+(a.height||r),this.width=a.width||i,this.lineHeight=t!==void 0?t:a.lineHeight}Qt.prototype.move=function(a,t){switch(t=t!==void 0?t:this.lineHeight,a){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}};Qt.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top};Qt.prototype.overlapsAny=function(a){for(var t=0;t<a.length;t++)if(this.overlaps(a[t]))return!0;return!1};Qt.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right};Qt.prototype.overlapsOppositeAxis=function(a,t){switch(t){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}};Qt.prototype.intersectPercentage=function(a){var t=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),r=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),i=t*r;return i/(this.height*this.width)};Qt.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}};Qt.getSimpleBoxPosition=function(a){var t=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,r=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,i=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||i,height:a.height||t,bottom:a.bottom||i+(a.height||t),width:a.width||r};return e};function Z_(a,t,r,i){function e(v,b){for(var S,C=new Qt(v),A=1,_=0;_<b.length;_++){for(;v.overlapsOppositeAxis(r,b[_])||v.within(r)&&v.overlapsAny(i);)v.move(b[_]);if(v.within(r))return v;var w=v.intersectPercentage(r);A>w&&(S=new Qt(v),A=w),v=new Qt(C)}return S||C}var n=new Qt(t),s=t.cue,o=J_(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var f=n.lineHeight,c=f*Math.round(o),d=r[u]+f,h=l[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/f)*f),o<0&&(c+=s.vertical===""?r.height:r.width,l=l.reverse()),n.move(h,c)}else{var p=n.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=p/2;break;case"end":o-=p;break}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],n=new Qt(t)}var g=e(n,l);t.move(g.toCSSCompatValues(r))}function ma(){}ma.StringDecoder=function(){return{decode:function(a){if(!a)return"";if(typeof a!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}};ma.convertCueToDOMTree=function(a,t){return!a||!t?null:Bp(a,t)};var eb=.05,tb="sans-serif",rb="1.5%";ma.processCues=function(a,t,r){if(!a||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=a.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=rb,r.appendChild(i);function e(f){for(var c=0;c<f.length;c++)if(f[c].hasBeenReset||!f[c].displayState)return!0;return!1}if(!e(t)){for(var n=0;n<t.length;n++)i.appendChild(t[n].displayState);return}var s=[],o=Qt.getSimpleBoxPosition(i),l=Math.round(o.height*eb*100)/100,u={font:l+"px "+tb};(function(){for(var f,c,d=0;d<t.length;d++)c=t[d],f=new El(a,c,u),i.appendChild(f.div),Z_(a,f,o,s),c.displayState=f.div,s.push(Qt.getSimpleBoxPosition(f))})()};ma.Parser=function(a,t,r){r||(r=t,t={}),t||(t={}),this.window=a,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};ma.Parser.prototype={reportOrThrowError:function(a){if(a instanceof mr)this.onparsingerror&&this.onparsingerror(a);else throw a},parse:function(a){var t=this;a&&(t.buffer+=t.decoder.decode(a,{stream:!0}));function r(){for(var f=t.buffer,c=0;c<f.length&&f[c]!=="\r"&&f[c]!==`
`;)++c;var d=f.substr(0,c);return f[c]==="\r"&&++c,f[c]===`
`&&++c,t.buffer=f.substr(c),d}function i(f){var c=new Rs;if(Ms(f,function(h,p){switch(h){case"id":c.set(h,p);break;case"width":c.percent(h,p);break;case"lines":c.integer(h,p);break;case"regionanchor":case"viewportanchor":var g=p.split(",");if(g.length!==2)break;var v=new Rs;if(v.percent("x",g[0]),v.percent("y",g[1]),!v.has("x")||!v.has("y"))break;c.set(h+"X",v.get("x")),c.set(h+"Y",v.get("y"));break;case"scroll":c.alt(h,p,["up"]);break}},/=/,/\s/),c.has("id")){var d=new(t.vttjs.VTTRegion||t.window.VTTRegion);d.width=c.get("width",100),d.lines=c.get("lines",3),d.regionAnchorX=c.get("regionanchorX",0),d.regionAnchorY=c.get("regionanchorY",100),d.viewportAnchorX=c.get("viewportanchorX",0),d.viewportAnchorY=c.get("viewportanchorY",100),d.scroll=c.get("scroll",""),t.onregion&&t.onregion(d),t.regionList.push({id:c.get("id"),region:d})}}function e(f){var c=new Rs;Ms(f,function(d,h){switch(d){case"MPEGT":c.integer(d+"S",h);break;case"LOCA":c.set(d+"L",Yc(h));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:c.get("MPEGTS"),LOCAL:c.get("LOCAL")})}function n(f){f.match(/X-TIMESTAMP-MAP/)?Ms(f,function(c,d){switch(c){case"X-TIMESTAMP-MAP":e(d);break}},/=/):Ms(f,function(c,d){switch(c){case"Region":i(d);break}},/:/)}try{var s;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new mr(mr.Errors.BadSignature);t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:s=r(),t.state){case"HEADER":/:/.test(s)?n(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch{t.cue.align="middle"}if(t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":try{$_(s,t.cue,t.regionList)}catch(f){t.reportOrThrowError(f),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(t.state="ID");continue}}}catch(f){t.reportOrThrowError(f),t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||a.state==="HEADER")&&(a.buffer+=`

`,a.parse()),a.state==="INITIAL")throw new mr(mr.Errors.BadSignature)}catch(t){a.reportOrThrowError(t)}return a.onflush&&a.onflush(),this}};var nb=ma,ib="auto",ab={"":1,lr:1,rl:1},sb={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function ob(a){if(typeof a!="string")return!1;var t=ab[a.toLowerCase()];return t?a.toLowerCase():!1}function Jc(a){if(typeof a!="string")return!1;var t=sb[a.toLowerCase()];return t?a.toLowerCase():!1}function jp(a,t,r){this.hasBeenReset=!1;var i="",e=!1,n=a,s=t,o=r,l=null,u="",f=!0,c="auto",d="start",h="auto",p="auto",g=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(b){i=""+b}},pauseOnExit:{enumerable:!0,get:function(){return e},set:function(b){e=!!b}},startTime:{enumerable:!0,get:function(){return n},set:function(b){if(typeof b!="number")throw new TypeError("Start time must be set to a number.");n=b,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number")throw new TypeError("End time must be set to a number.");s=b,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(b){o=""+b,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(b){l=b,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(b){var S=ob(b);if(S===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=S,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(b){f=!!b,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return c},set:function(b){if(typeof b!="number"&&b!==ib)throw new SyntaxError("Line: an invalid number or illegal string was specified.");c=b,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(b){var S=Jc(b);S?(d=S,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(b){if(b<0||b>100)throw new Error("Position must be between 0 and 100.");h=b,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(b){var S=Jc(b);S?(p=S,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(b){if(b<0||b>100)throw new Error("Size must be between 0 and 100.");g=b,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(b){var S=Jc(b);if(!S)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=S,this.hasBeenReset=!0}}}),this.displayState=void 0}jp.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var lb=jp,ub={"":!0,up:!0};function cb(a){if(typeof a!="string")return!1;var t=ub[a.toLowerCase()];return t?a.toLowerCase():!1}function Fs(a){return typeof a=="number"&&a>=0&&a<=100}function fb(){var a=100,t=3,r=0,i=100,e=0,n=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(o){if(!Fs(o))throw new Error("Width must be between 0 and 100.");a=o}},lines:{enumerable:!0,get:function(){return t},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");t=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Fs(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Fs(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!Fs(o))throw new Error("ViewportAnchorY must be between 0 and 100.");n=o}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(o){if(!Fs(o))throw new Error("ViewportAnchorX must be between 0 and 100.");e=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=cb(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var db=fb,hn=Q,wi=Rp.exports={WebVTT:nb,VTTCue:lb,VTTRegion:db};hn.vttjs=wi;hn.WebVTT=wi.WebVTT;var hb=wi.VTTCue,pb=wi.VTTRegion,gb=hn.VTTCue,mb=hn.VTTRegion;wi.shim=function(){hn.VTTCue=hb,hn.VTTRegion=pb};wi.restore=function(){hn.VTTCue=gb,hn.VTTRegion=mb};hn.VTTCue||wi.shim();var Hp=Rp.exports;function vb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cl(a,t,r){return vb()?Cl=Reflect.construct:Cl=function(e,n,s){var o=[null];o.push.apply(o,n);var l=Function.bind.apply(e,o),u=new l;return s&&Ls(u,s.prototype),u},Cl.apply(null,arguments)}function yb(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),t&&Ls(a,t)}var zp={exports:{}};(function(a,t){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,e=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=o.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=o.normalizePath(c.path),o.buildURLFromParts(c)}var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return f.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):u;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=e.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var g={scheme:h.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(g.netLoc=h.netLoc,d.path[0]!=="/"))if(!d.path)g.path=h.path,d.params||(g.params=h.params,d.query||(g.query=h.query));else{var v=h.path,b=v.substring(0,v.lastIndexOf("/")+1)+d.path;g.path=o.normalizePath(b)}return g.path===null&&(g.path=f.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(g)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(n,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};a.exports=o})()})(zp);var Vp=zp.exports,Wp="http://example.com",kl=function(t,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(t)&&(t=Q.location&&Q.location.href||"");var i=typeof Q.URL=="function",e=/^\/\//.test(t),n=!Q.location&&!/\/\//i.test(t);if(i?t=new Q.URL(t,Q.location||Wp):/\/\//i.test(t)||(t=Vp.buildAbsoluteURL(Q.location&&Q.location.href||"",t)),i){var s=new URL(r,t);return n?s.href.slice(Wp.length):e?s.href.slice(s.protocol.length):s.href}return Vp.buildAbsoluteURL(t,r)},Zc=function(){function a(){this.listeners={}}var t=a.prototype;return t.on=function(i,e){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(e)},t.off=function(i,e){if(!this.listeners[i])return!1;var n=this.listeners[i].indexOf(e);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(n,1),n>-1},t.trigger=function(i){var e=this.listeners[i];if(!!e)if(arguments.length===2)for(var n=e.length,s=0;s<n;++s)e[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=e.length,u=0;u<l;++u)e[u].apply(this,o)},t.dispose=function(){this.listeners={}},t.pipe=function(i){this.on("data",function(e){i.push(e)})},a}(),xb=function(t){return Q.atob?Q.atob(t):Buffer.from(t,"base64").toString("binary")};function qp(a){for(var t=xb(a),r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var _b=function(a){we(t,a);function t(){var i;return i=a.call(this)||this,i.buffer="",i}var r=t.prototype;return r.push=function(e){var n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)},t}(Zc),bb=String.fromCharCode(9),ef=function(t){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},Tb=function(){var t="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},Mr=function(t){for(var r=t.split(Tb()),i={},e=r.length,n;e--;)r[e]!==""&&(n=/([^=]*)=(.*)/.exec(r[e]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),i[n[0]]=n[1]);return i},Sb=function(a){we(t,a);function t(){var i;return i=a.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=t.prototype;return r.push=function(e){var n=this,s,o;if(e=e.trim(),e.length!==0){if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}var l=this.tagMappers.reduce(function(u,f){var c=f(e);return c===e?u:u.concat([c])},[e]);l.forEach(function(u){for(var f=0;f<n.customParsers.length;f++)if(n.customParsers[f].call(n,u))return;if(u.indexOf("#EXT")!==0){n.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){n.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),n.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),n.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),n.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),s){o=wr(ef(s[1]),{type:"tag",tagType:"byterange"}),n.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var c=Mr(s[1]);c.URI&&(o.uri=c.URI),c.BYTERANGE&&(o.byterange=ef(c.BYTERANGE))}n.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=Mr(s[1]),o.attributes.RESOLUTION){var d=o.attributes.RESOLUTION.split("x"),h={};d[0]&&(h.width=parseInt(d[0],10)),d[1]&&(h.height=parseInt(d[1],10)),o.attributes.RESOLUTION=h}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}n.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=Mr(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){n.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){n.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),n.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=Mr(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),n.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=Mr(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),n.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",n.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=Mr(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(bb)),n.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=Mr(s[1]),["DURATION"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=parseFloat(o.attributes[p]))}),["INDEPENDENT","GAP"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=/YES/.test(o.attributes[p]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=ef(o.attributes.BYTERANGE)),n.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=Mr(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=parseFloat(o.attributes[p]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=/YES/.test(o.attributes[p]))}),n.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Mr(s[1]),["PART-TARGET"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=parseFloat(o.attributes[p]))}),n.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Mr(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(p){if(o.attributes.hasOwnProperty(p)){o.attributes[p]=parseInt(o.attributes[p],10);var g=p==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[g]=o.attributes[p],delete o.attributes[p]}}),n.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Mr(s[1]),["LAST-MSN","LAST-PART"].forEach(function(p){o.attributes.hasOwnProperty(p)&&(o.attributes[p]=parseInt(o.attributes[p],10))}),n.trigger("data",o);return}n.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(e){var n=this,s=e.expression,o=e.customType,l=e.dataParser,u=e.segment;typeof l!="function"&&(l=function(c){return c}),this.customParsers.push(function(f){var c=s.exec(f);if(c)return n.trigger("data",{type:"custom",data:l(f),customType:o,segment:u}),!0})},r.addTagMapper=function(e){var n=e.expression,s=e.map,o=function(u){return n.test(u)?s(u):u};this.tagMappers.push(o)},t}(Zc),Eb=function(t){return t.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},va=function(t){var r={};return Object.keys(t).forEach(function(i){r[Eb(i)]=t[i]}),r},tf=function(t){var r=t.serverControl,i=t.targetDuration,e=t.partTargetDuration;if(!!r){var n="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",l=i&&i*3,u=e&&e*2;i&&!r.hasOwnProperty(s)&&(r[s]=l,this.trigger("info",{message:n+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[s]<l&&(this.trigger("warn",{message:n+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+l+")"}),r[s]=l),e&&!r.hasOwnProperty(o)&&(r[o]=e*3,this.trigger("info",{message:n+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),e&&r[o]<u&&(this.trigger("warn",{message:n+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},Cb=function(a){we(t,a);function t(){var i;i=a.call(this)||this,i.lineStream=new _b,i.parseStream=new Sb,i.lineStream.pipe(i.parseStream);var e=$e(i),n=[],s={},o,l,u=!1,f=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",h=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var p=0,g=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof h=="number"&&(s.timeline=h),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(v){var b,S;({tag:function(){({version:function(){v.version&&(this.manifest.version=v.version)},"allow-cache":function(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var _={};"length"in v&&(s.byterange=_,_.length=v.length,"offset"in v||(v.offset=p)),"offset"in v&&(s.byterange=_,_.offset=v.offset),p=_.offset+_.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.duration>0&&(s.duration=v.duration),v.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key:function(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){l=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT===d){var _=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(_.indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:qp(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV!="undefined"&&(l.iv=v.attributes.IV)},"media-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,h=v.number},"playlist-type":function(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map:function(){o={},v.uri&&(o.uri=v.uri),v.byterange&&(o.byterange=v.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),wr(s.attributes,v.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var _=this.manifest.mediaGroups[v.attributes.TYPE];_[v.attributes["GROUP-ID"]]=_[v.attributes["GROUP-ID"]]||{},b=_[v.attributes["GROUP-ID"]],S={default:/yes/i.test(v.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(S.language=v.attributes.LANGUAGE),v.attributes.URI&&(S.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(S.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(S.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(S.forced=/yes/i.test(v.attributes.FORCED)),b[v.attributes.NAME]=S},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),s.dateTimeString=v.dateTimeString,s.dateTimeObject=v.dateTimeObject},targetduration:function(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,tf.call(this,this.manifest)},start:function(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out":function(){s.cueOut=v.data},"cue-out-cont":function(){s.cueOutCont=v.data},"cue-in":function(){s.cueIn=v.data},skip:function(){this.manifest.skip=va(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part:function(){var _=this;u=!0;var w=this.manifest.segments.length,k=va(v.attributes);s.parts=s.parts||[],s.parts.push(k),k.byterange&&(k.byterange.hasOwnProperty("offset")||(k.byterange.offset=g),g=k.byterange.offset+k.byterange.length);var R=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+R+" for segment #"+w,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(j,N){j.hasOwnProperty("lastPart")||_.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+N+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var _=this.manifest.serverControl=va(v.attributes);_.hasOwnProperty("canBlockReload")||(_.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),tf.call(this,this.manifest),_.canSkipDateranges&&!_.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var _=this.manifest.segments.length,w=va(v.attributes),k=w.type&&w.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(w),w.byterange&&(w.byterange.hasOwnProperty("offset")||(w.byterange.offset=k?g:0,k&&(g=w.byterange.offset+w.byterange.length)));var R=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+R+" for segment #"+_,v.attributes,["TYPE","URI"]),!!w.type)for(var j=0;j<s.preloadHints.length-1;j++){var N=s.preloadHints[j];!N.type||N.type===w.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+R+" for segment #"+_+" has the same TYPE "+w.type+" as preload hint #"+j})}},"rendition-report":function(){var _=va(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(_);var w=this.manifest.renditionReports.length-1,k=["LAST-MSN","URI"];u&&k.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+w,v.attributes,k)},"part-inf":function(){this.manifest.partInf=va(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),tf.call(this,this.manifest)}}[v.tagType]||f).call(e)},uri:function(){s.uri=v.uri,n.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=h,o&&(s.map=o),g=0,s={}},comment:function(){},custom:function(){v.segment?(s.custom=s.custom||{},s.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(e)}),i}var r=t.prototype;return r.warnOnMissingAttributes_=function(e,n,s){var o=[];s.forEach(function(l){n.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+o.join(", ")})},r.push=function(e){this.lineStream.push(e)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(e){this.parseStream.addParser(e)},r.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(Zc),Pi={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},kb=["video","audio","text"],Gp=["Video","Audio","Text"],$p=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,e){var n=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(e).toString(16)).slice(-2);return"avc1."+n+"00"+s})},Jr=function(t){t===void 0&&(t="");var r=t.split(","),i=[];return r.forEach(function(e){e=e.trim();var n;kb.forEach(function(s){var o=Pi[s].exec(e.toLowerCase());if(!(!o||o.length<=1)){n=s;var l=e.substring(0,o[1].length),u=e.replace(l,"");i.push({type:l,details:u,mediaType:s})}}),n||i.push({type:e,details:"",mediaType:"unknown"})}),i},wb=function(t,r){if(!t.mediaGroups.AUDIO||!r)return null;var i=t.mediaGroups.AUDIO[r];if(!i)return null;for(var e in i){var n=i[e];if(n.default&&n.playlists)return Jr(n.playlists[0].attributes.CODECS)}return null},Kp=function(t){return t===void 0&&(t=""),Pi.audio.test(t.trim().toLowerCase())},Pb=function(t){return t===void 0&&(t=""),Pi.text.test(t.trim().toLowerCase())},Ns=function(t){if(!(!t||typeof t!="string")){var r=t.toLowerCase().split(",").map(function(n){return $p(n.trim())}),i="video";r.length===1&&Kp(r[0])?i="audio":r.length===1&&Pb(r[0])&&(i="application");var e="mp4";return r.every(function(n){return Pi.mp4.test(n)})?e="mp4":r.every(function(n){return Pi.webm.test(n)})?e="webm":r.every(function(n){return Pi.ogg.test(n)})&&(e="ogg"),i+"/"+e+';codecs="'+t+'"'}},wl=function(t){return t===void 0&&(t=""),Q.MediaSource&&Q.MediaSource.isTypeSupported&&Q.MediaSource.isTypeSupported(Ns(t))||!1},rf=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<Gp.length;i++){var e=Gp[i];if(Pi["muxer"+e].test(r))return!0}return!1})},Xp="mp4a.40.2",Ab="avc1.4d400d",Ob=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Db=/^application\/dash\+xml/i,Yp=function(t){return Ob.test(t)?"hls":Db.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},$n={},Ai={};function nf(a,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(a):a}var Qp=nf({HTML:"text/html",isHTML:function(a){return a===Qp.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Jp=nf({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===Jp.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ai.freeze=nf;Ai.MIME_TYPE=Qp;Ai.NAMESPACE=Jp;var Ib=Ai,Bs=Ib.NAMESPACE;function Lb(a){return a!==""}function Rb(a){return a?a.split(/[\t\n\f\r ]+/).filter(Lb):[]}function Mb(a,t){return a.hasOwnProperty(t)||(a[t]=!0),a}function Zp(a){if(!a)return[];var t=Rb(a);return Object.keys(t.reduce(Mb,{}))}function Fb(a){return function(t){return a&&a.indexOf(t)!==-1}}function Us(a,t){for(var r in a)t[r]=a[r]}function sr(a,t){var r=a.prototype;if(!(r instanceof t)){let i=function(){};i.prototype=t.prototype,i=new i,Us(r,i),a.prototype=r=i}r.constructor!=a&&(typeof a!="function"&&console.error("unknown Class:"+a),r.constructor=a)}var or={},Fr=or.ELEMENT_NODE=1,ya=or.ATTRIBUTE_NODE=2,Pl=or.TEXT_NODE=3,eg=or.CDATA_SECTION_NODE=4,tg=or.ENTITY_REFERENCE_NODE=5,Nb=or.ENTITY_NODE=6,rg=or.PROCESSING_INSTRUCTION_NODE=7,ng=or.COMMENT_NODE=8,ig=or.DOCUMENT_NODE=9,ag=or.DOCUMENT_TYPE_NODE=10,pn=or.DOCUMENT_FRAGMENT_NODE=11,Bb=or.NOTATION_NODE=12,Vt={},At={};Vt.INDEX_SIZE_ERR=(At[1]="Index size error",1);Vt.DOMSTRING_SIZE_ERR=(At[2]="DOMString size error",2);var Ub=Vt.HIERARCHY_REQUEST_ERR=(At[3]="Hierarchy request error",3);Vt.WRONG_DOCUMENT_ERR=(At[4]="Wrong document",4);Vt.INVALID_CHARACTER_ERR=(At[5]="Invalid character",5);Vt.NO_DATA_ALLOWED_ERR=(At[6]="No data allowed",6);Vt.NO_MODIFICATION_ALLOWED_ERR=(At[7]="No modification allowed",7);var jb=Vt.NOT_FOUND_ERR=(At[8]="Not found",8);Vt.NOT_SUPPORTED_ERR=(At[9]="Not supported",9);var sg=Vt.INUSE_ATTRIBUTE_ERR=(At[10]="Attribute in use",10);Vt.INVALID_STATE_ERR=(At[11]="Invalid state",11);Vt.SYNTAX_ERR=(At[12]="Syntax error",12);Vt.INVALID_MODIFICATION_ERR=(At[13]="Invalid modification",13);Vt.NAMESPACE_ERR=(At[14]="Invalid namespace",14);Vt.INVALID_ACCESS_ERR=(At[15]="Invalid access",15);function Oi(a,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,At[a]),this.message=At[a],Error.captureStackTrace&&Error.captureStackTrace(this,Oi);return r.code=a,t&&(this.message=this.message+": "+t),r}Oi.prototype=Error.prototype;Us(Vt,Oi);function gn(){}gn.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,t){for(var r=[],i=0;i<this.length;i++)_a(this[i],r,a,t);return r.join("")}};function xa(a,t){this._node=a,this._refresh=t,af(this)}function af(a){var t=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=t){var r=a._refresh(a._node);bg(a,"length",r.length),Us(r,a),a._inc=t}}xa.prototype.item=function(a){return af(this),this[a]};sr(xa,gn);function Al(){}function og(a,t){for(var r=a.length;r--;)if(a[r]===t)return r}function lg(a,t,r,i){if(i?t[og(t,i)]=r:t[t.length++]=r,a){r.ownerElement=a;var e=a.ownerDocument;e&&(i&&dg(e,a,i),Hb(e,a,r))}}function ug(a,t,r){var i=og(t,r);if(i>=0){for(var e=t.length-1;i<e;)t[i]=t[++i];if(t.length=e,a){var n=a.ownerDocument;n&&(dg(n,a,r),r.ownerElement=null)}}else throw Oi(jb,new Error(a.tagName+"@"+r))}Al.prototype={length:0,item:gn.prototype.item,getNamedItem:function(a){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==a)return r}},setNamedItem:function(a){var t=a.ownerElement;if(t&&t!=this._ownerElement)throw new Oi(sg);var r=this.getNamedItem(a.nodeName);return lg(this._ownerElement,this,a,r),r},setNamedItemNS:function(a){var t=a.ownerElement,r;if(t&&t!=this._ownerElement)throw new Oi(sg);return r=this.getNamedItemNS(a.namespaceURI,a.localName),lg(this._ownerElement,this,a,r),r},removeNamedItem:function(a){var t=this.getNamedItem(a);return ug(this._ownerElement,this,t),t},removeNamedItemNS:function(a,t){var r=this.getNamedItemNS(a,t);return ug(this._ownerElement,this,r),r},getNamedItemNS:function(a,t){for(var r=this.length;r--;){var i=this[r];if(i.localName==t&&i.namespaceURI==a)return i}return null}};function cg(){}cg.prototype={hasFeature:function(a,t){return!0},createDocument:function(a,t,r){var i=new Hs;if(i.implementation=this,i.childNodes=new gn,i.doctype=r||null,r&&i.appendChild(r),t){var e=i.createElementNS(a,t);i.appendChild(e)}return i},createDocumentType:function(a,t,r){var i=new Dl;return i.name=a,i.nodeName=a,i.publicId=t||"",i.systemId=r||"",i}};function Wt(){}Wt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,t){return pg(this,a,t)},replaceChild:function(a,t){this.insertBefore(a,t),t&&this.removeChild(t)},removeChild:function(a){return hg(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(a){return hf(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var t=a.nextSibling;t&&t.nodeType==Pl&&a.nodeType==Pl?(this.removeChild(t),a.appendData(t.data)):(a.normalize(),a=t)}},isSupported:function(a,t){return this.ownerDocument.implementation.hasFeature(a,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var t=this;t;){var r=t._nsMap;if(r){for(var i in r)if(r[i]==a)return i}t=t.nodeType==ya?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(a){for(var t=this;t;){var r=t._nsMap;if(r&&a in r)return r[a];t=t.nodeType==ya?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(a){var t=this.lookupPrefix(a);return t==null}};function fg(a){return a=="<"&&"&lt;"||a==">"&&"&gt;"||a=="&"&&"&amp;"||a=='"'&&"&quot;"||"&#"+a.charCodeAt()+";"}Us(or,Wt);Us(or,Wt.prototype);function js(a,t){if(t(a))return!0;if(a=a.firstChild)do if(js(a,t))return!0;while(a=a.nextSibling)}function Hs(){}function Hb(a,t,r){a&&a._inc++;var i=r.namespaceURI;i===Bs.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function dg(a,t,r,i){a&&a._inc++;var e=r.namespaceURI;e===Bs.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function sf(a,t,r){if(a&&a._inc){a._inc++;var i=t.childNodes;if(r)i[i.length++]=r;else{for(var e=t.firstChild,n=0;e;)i[n++]=e,e=e.nextSibling;i.length=n}}}function hg(a,t){var r=t.previousSibling,i=t.nextSibling;return r?r.nextSibling=i:a.firstChild=i,i?i.previousSibling=r:a.lastChild=r,sf(a.ownerDocument,a),t}function pg(a,t,r){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===pn){var e=t.firstChild;if(e==null)return t;var n=t.lastChild}else e=n=t;var s=r?r.previousSibling:a.lastChild;e.previousSibling=s,n.nextSibling=r,s?s.nextSibling=e:a.firstChild=e,r==null?a.lastChild=n:r.previousSibling=n;do e.parentNode=a;while(e!==n&&(e=e.nextSibling));return sf(a.ownerDocument||a,a),t.nodeType==pn&&(t.firstChild=t.lastChild=null),t}function zb(a,t){var r=t.parentNode;if(r){var i=a.lastChild;r.removeChild(t);var i=a.lastChild}var i=a.lastChild;return t.parentNode=a,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:a.firstChild=t,a.lastChild=t,sf(a.ownerDocument,a,t),t}Hs.prototype={nodeName:"#document",nodeType:ig,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,t){if(a.nodeType==pn){for(var r=a.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,t),r=i}return a}return this.documentElement==null&&a.nodeType==Fr&&(this.documentElement=a),pg(this,a,t),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),hg(this,a)},importNode:function(a,t){return _g(this,a,t)},getElementById:function(a){var t=null;return js(this.documentElement,function(r){if(r.nodeType==Fr&&r.getAttribute("id")==a)return t=r,!0}),t},getElementsByClassName:function(a){var t=Zp(a);return new xa(this,function(r){var i=[];return t.length>0&&js(r.documentElement,function(e){if(e!==r&&e.nodeType===Fr){var n=e.getAttribute("class");if(n){var s=a===n;if(!s){var o=Zp(n);s=t.every(Fb(o))}s&&i.push(e)}}}),i})},createElement:function(a){var t=new Di;t.ownerDocument=this,t.nodeName=a,t.tagName=a,t.localName=a,t.childNodes=new gn;var r=t.attributes=new Al;return r._ownerElement=t,t},createDocumentFragment:function(){var a=new Il;return a.ownerDocument=this,a.childNodes=new gn,a},createTextNode:function(a){var t=new of;return t.ownerDocument=this,t.appendData(a),t},createComment:function(a){var t=new lf;return t.ownerDocument=this,t.appendData(a),t},createCDATASection:function(a){var t=new uf;return t.ownerDocument=this,t.appendData(a),t},createProcessingInstruction:function(a,t){var r=new ff;return r.ownerDocument=this,r.tagName=r.target=a,r.nodeValue=r.data=t,r},createAttribute:function(a){var t=new Ol;return t.ownerDocument=this,t.name=a,t.nodeName=a,t.localName=a,t.specified=!0,t},createEntityReference:function(a){var t=new cf;return t.ownerDocument=this,t.nodeName=a,t},createElementNS:function(a,t){var r=new Di,i=t.split(":"),e=r.attributes=new Al;return r.childNodes=new gn,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=a,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=t,e._ownerElement=r,r},createAttributeNS:function(a,t){var r=new Ol,i=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=a,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=t,r}};sr(Hs,Wt);function Di(){this._nsMap={}}Di.prototype={nodeType:Fr,hasAttribute:function(a){return this.getAttributeNode(a)!=null},getAttribute:function(a){var t=this.getAttributeNode(a);return t&&t.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,t){var r=this.ownerDocument.createAttribute(a);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(a){var t=this.getAttributeNode(a);t&&this.removeAttributeNode(t)},appendChild:function(a){return a.nodeType===pn?this.insertBefore(a,null):zb(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,t){var r=this.getAttributeNodeNS(a,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(a,t){return this.getAttributeNodeNS(a,t)!=null},getAttributeNS:function(a,t){var r=this.getAttributeNodeNS(a,t);return r&&r.value||""},setAttributeNS:function(a,t,r){var i=this.ownerDocument.createAttributeNS(a,t);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(a,t){return this.attributes.getNamedItemNS(a,t)},getElementsByTagName:function(a){return new xa(this,function(t){var r=[];return js(t,function(i){i!==t&&i.nodeType==Fr&&(a==="*"||i.tagName==a)&&r.push(i)}),r})},getElementsByTagNameNS:function(a,t){return new xa(this,function(r){var i=[];return js(r,function(e){e!==r&&e.nodeType===Fr&&(a==="*"||e.namespaceURI===a)&&(t==="*"||e.localName==t)&&i.push(e)}),i})}};Hs.prototype.getElementsByTagName=Di.prototype.getElementsByTagName;Hs.prototype.getElementsByTagNameNS=Di.prototype.getElementsByTagNameNS;sr(Di,Wt);function Ol(){}Ol.prototype.nodeType=ya;sr(Ol,Wt);function zs(){}zs.prototype={data:"",substringData:function(a,t){return this.data.substring(a,a+t)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,t){this.replaceData(a,0,t)},appendChild:function(a){throw new Error(At[Ub])},deleteData:function(a,t){this.replaceData(a,t,"")},replaceData:function(a,t,r){var i=this.data.substring(0,a),e=this.data.substring(a+t);r=i+r+e,this.nodeValue=this.data=r,this.length=r.length}};sr(zs,Wt);function of(){}of.prototype={nodeName:"#text",nodeType:Pl,splitText:function(a){var t=this.data,r=t.substring(a);t=t.substring(0,a),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};sr(of,zs);function lf(){}lf.prototype={nodeName:"#comment",nodeType:ng};sr(lf,zs);function uf(){}uf.prototype={nodeName:"#cdata-section",nodeType:eg};sr(uf,zs);function Dl(){}Dl.prototype.nodeType=ag;sr(Dl,Wt);function gg(){}gg.prototype.nodeType=Bb;sr(gg,Wt);function mg(){}mg.prototype.nodeType=Nb;sr(mg,Wt);function cf(){}cf.prototype.nodeType=tg;sr(cf,Wt);function Il(){}Il.prototype.nodeName="#document-fragment";Il.prototype.nodeType=pn;sr(Il,Wt);function ff(){}ff.prototype.nodeType=rg;sr(ff,Wt);function vg(){}vg.prototype.serializeToString=function(a,t,r){return yg.call(a,t,r)};Wt.prototype.toString=yg;function yg(a,t){var r=[],i=this.nodeType==9&&this.documentElement||this,e=i.prefix,n=i.namespaceURI;if(n&&e==null){var e=i.lookupPrefix(n);if(e==null)var s=[{namespace:n,prefix:null}]}return _a(this,r,a,t,s),r.join("")}function xg(a,t,r){var i=a.prefix||"",e=a.namespaceURI;if(!e||i==="xml"&&e===Bs.XML||e===Bs.XMLNS)return!1;for(var n=r.length;n--;){var s=r[n];if(s.prefix===i)return s.namespace!==e}return!0}function df(a,t,r){a.push(" ",t,'="',r.replace(/[<&"]/g,fg),'"')}function _a(a,t,r,i,e){if(e||(e=[]),i)if(a=i(a),a){if(typeof a=="string"){t.push(a);return}}else return;switch(a.nodeType){case Fr:var n=a.attributes,s=n.length,o=a.firstChild,l=a.tagName;r=Bs.isHTML(a.namespaceURI)||r;var u=l;if(!r&&!a.prefix&&a.namespaceURI){for(var f,c=0;c<n.length;c++)if(n.item(c).name==="xmlns"){f=n.item(c).value;break}if(!f)for(var d=e.length-1;d>=0;d--){var h=e[d];if(h.prefix===""&&h.namespace===a.namespaceURI){f=h.namespace;break}}if(f!==a.namespaceURI)for(var d=e.length-1;d>=0;d--){var h=e[d];if(h.namespace===a.namespaceURI){h.prefix&&(u=h.prefix+":"+l);break}}}t.push("<",u);for(var p=0;p<s;p++){var g=n.item(p);g.prefix=="xmlns"?e.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&e.push({prefix:"",namespace:g.value})}for(var p=0;p<s;p++){var g=n.item(p);if(xg(g,r,e)){var v=g.prefix||"",b=g.namespaceURI;df(t,v?"xmlns:"+v:"xmlns",b),e.push({prefix:v,namespace:b})}_a(g,t,r,i,e)}if(l===u&&xg(a,r,e)){var v=a.prefix||"",b=a.namespaceURI;df(t,v?"xmlns:"+v:"xmlns",b),e.push({prefix:v,namespace:b})}if(o||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):_a(o,t,r,i,e.slice()),o=o.nextSibling;else for(;o;)_a(o,t,r,i,e.slice()),o=o.nextSibling;t.push("</",u,">")}else t.push("/>");return;case ig:case pn:for(var o=a.firstChild;o;)_a(o,t,r,i,e.slice()),o=o.nextSibling;return;case ya:return df(t,a.name,a.value);case Pl:return t.push(a.data.replace(/[<&]/g,fg).replace(/]]>/g,"]]&gt;"));case eg:return t.push("<![CDATA[",a.data,"]]>");case ng:return t.push("<!--",a.data,"-->");case ag:var S=a.publicId,C=a.systemId;if(t.push("<!DOCTYPE ",a.name),S)t.push(" PUBLIC ",S),C&&C!="."&&t.push(" ",C),t.push(">");else if(C&&C!=".")t.push(" SYSTEM ",C,">");else{var A=a.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case rg:return t.push("<?",a.target," ",a.data,"?>");case tg:return t.push("&",a.nodeName,";");default:t.push("??",a.nodeName)}}function _g(a,t,r){var i;switch(t.nodeType){case Fr:i=t.cloneNode(!1),i.ownerDocument=a;case pn:break;case ya:r=!0;break}if(i||(i=t.cloneNode(!1)),i.ownerDocument=a,i.parentNode=null,r)for(var e=t.firstChild;e;)i.appendChild(_g(a,e,r)),e=e.nextSibling;return i}function hf(a,t,r){var i=new t.constructor;for(var e in t){var n=t[e];typeof n!="object"&&n!=i[e]&&(i[e]=n)}switch(t.childNodes&&(i.childNodes=new gn),i.ownerDocument=a,i.nodeType){case Fr:var s=t.attributes,o=i.attributes=new Al,l=s.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(hf(a,s.item(u),!0));break;case ya:r=!0}if(r)for(var f=t.firstChild;f;)i.appendChild(hf(a,f,r)),f=f.nextSibling;return i}function bg(a,t,r){a[t]=r}try{if(Object.defineProperty){let a=function(t){switch(t.nodeType){case Fr:case pn:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(a(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(xa.prototype,"length",{get:function(){return af(this),this.$$length}}),Object.defineProperty(Wt.prototype,"textContent",{get:function(){return a(this)},set:function(t){switch(this.nodeType){case Fr:case pn:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),bg=function(t,r,i){t["$$"+r]=i}}}catch{}$n.DocumentType=Dl;$n.DOMException=Oi;$n.DOMImplementation=cg;$n.Element=Di;$n.Node=Wt;$n.NodeList=gn;$n.XMLSerializer=vg;var Vs={},Tg={};(function(a){var t=Ai.freeze;a.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),a.entityMap=a.HTML_ENTITIES})(Tg);var pf={},Ws=Ai.NAMESPACE,gf=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Sg=new RegExp("[\\-\\.0-9"+gf.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Eg=new RegExp("^"+gf.source+Sg.source+"*(?::"+gf.source+Sg.source+"*)?$"),qs=0,Kn=1,ba=2,Gs=3,Ta=4,Sa=5,$s=6,Ll=7;function Ea(a,t){this.message=a,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Ea)}Ea.prototype=new Error;Ea.prototype.name=Ea.name;function Cg(){}Cg.prototype={parse:function(a,t,r){var i=this.domBuilder;i.startDocument(),Pg(t,t={}),Vb(a,t,r,i,this.errorHandler),i.endDocument()}};function Vb(a,t,r,i,e){function n(te){if(te>65535){te-=65536;var oe=55296+(te>>10),G=56320+(te&1023);return String.fromCharCode(oe,G)}else return String.fromCharCode(te)}function s(te){var oe=te.slice(1,-1);return oe in r?r[oe]:oe.charAt(0)==="#"?n(parseInt(oe.substr(1).replace("x","0x"))):(e.error("entity not found:"+te),te)}function o(te){if(te>g){var oe=a.substring(g,te).replace(/&#?\w+;/g,s);d&&l(g),i.characters(oe,0,te-g),g=te}}function l(te,oe){for(;te>=f&&(oe=c.exec(a));)u=oe.index,f=u+oe[0].length,d.lineNumber++;d.columnNumber=te-u+1}for(var u=0,f=0,c=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,h=[{currentNSMap:t}],p={},g=0;;){try{var v=a.indexOf("<",g);if(v<0){if(!a.substr(g).match(/^\s*$/)){var b=i.doc,S=b.createTextNode(a.substr(g));b.appendChild(S),i.currentElement=S}return}switch(v>g&&o(v),a.charAt(v+1)){case"/":var C=a.indexOf(">",v+3),A=a.substring(v+2,C).replace(/[ \t\n\r]+$/g,""),_=h.pop();C<0?(A=a.substring(v+2).replace(/[\s<].*/,""),e.error("end tag name: "+A+" is not complete:"+_.tagName),C=v+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),e.error("end tag name: "+A+" maybe not complete"),C=v+1+A.length);var w=_.localNSMap,k=_.tagName==A,R=k||_.tagName&&_.tagName.toLowerCase()==A.toLowerCase();if(R){if(i.endElement(_.uri,_.localName,A),w)for(var j in w)i.endPrefixMapping(j);k||e.fatalError("end tag name: "+A+" is not match the current start tagName:"+_.tagName)}else h.push(_);C++;break;case"?":d&&l(v),C=Kb(a,v,i);break;case"!":d&&l(v),C=$b(a,v,i,e);break;default:d&&l(v);var N=new Ag,M=h[h.length-1].currentNSMap,C=Wb(a,v,N,M,s,e),z=N.length;if(!N.closed&&Gb(a,C,N.tagName,p)&&(N.closed=!0,r.nbsp||e.warning("unclosed xml attribute")),d&&z){for(var I=kg(d,{}),U=0;U<z;U++){var K=N[U];l(K.offset),K.locator=kg(d,{})}i.locator=I,wg(N,i,M)&&h.push(N),i.locator=d}else wg(N,i,M)&&h.push(N);Ws.isHTML(N.uri)&&!N.closed?C=qb(a,C,N.tagName,s,i):C++}}catch(te){if(te instanceof Ea)throw te;e.error("element parse error: "+te),C=-1}C>g?g=C:o(Math.max(v,g)+1)}}function kg(a,t){return t.lineNumber=a.lineNumber,t.columnNumber=a.columnNumber,t}function Wb(a,t,r,i,e,n){function s(d,h,p){r.attributeNames.hasOwnProperty(d)&&n.fatalError("Attribute "+d+" redefined"),r.addValue(d,h,p)}for(var o,l,u=++t,f=qs;;){var c=a.charAt(u);switch(c){case"=":if(f===Kn)o=a.slice(t,u),f=Gs;else if(f===ba)f=Gs;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===Gs||f===Kn)if(f===Kn&&(n.warning('attribute value must after "="'),o=a.slice(t,u)),t=u+1,u=a.indexOf(c,t),u>0)l=a.slice(t,u).replace(/&#?\w+;/g,e),s(o,l,t-1),f=Sa;else throw new Error("attribute value no end '"+c+"' match");else if(f==Ta)l=a.slice(t,u).replace(/&#?\w+;/g,e),s(o,l,t),n.warning('attribute "'+o+'" missed start quot('+c+")!!"),t=u+1,f=Sa;else throw new Error('attribute value must after "="');break;case"/":switch(f){case qs:r.setTagName(a.slice(t,u));case Sa:case $s:case Ll:f=Ll,r.closed=!0;case Ta:case Kn:case ba:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),f==qs&&r.setTagName(a.slice(t,u)),u;case">":switch(f){case qs:r.setTagName(a.slice(t,u));case Sa:case $s:case Ll:break;case Ta:case Kn:l=a.slice(t,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case ba:f===ba&&(l=o),f==Ta?(n.warning('attribute "'+l+'" missed quot(")!'),s(o,l.replace(/&#?\w+;/g,e),t)):((!Ws.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,t));break;case Gs:throw new Error("attribute value missed!!")}return u;case"\x80":c=" ";default:if(c<=" ")switch(f){case qs:r.setTagName(a.slice(t,u)),f=$s;break;case Kn:o=a.slice(t,u),f=ba;break;case Ta:var l=a.slice(t,u).replace(/&#?\w+;/g,e);n.warning('attribute "'+l+'" missed quot(")!!'),s(o,l,t);case Sa:f=$s;break}else switch(f){case ba:r.tagName,(!Ws.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,t),t=u,f=Kn;break;case Sa:n.warning('attribute space is required"'+o+'"!!');case $s:f=Kn,t=u;break;case Gs:f=Ta,t=u;break;case Ll:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function wg(a,t,r){for(var i=a.tagName,e=null,n=a.length;n--;){var s=a[n],o=s.qName,l=s.value,d=o.indexOf(":");if(d>0)var u=s.prefix=o.slice(0,d),f=o.slice(d+1),c=u==="xmlns"&&f;else f=o,u=null,c=o==="xmlns"&&"";s.localName=f,c!==!1&&(e==null&&(e={},Pg(r,r={})),r[c]=e[c]=l,s.uri=Ws.XMLNS,t.startPrefixMapping(c,l))}for(var n=a.length;n--;){s=a[n];var u=s.prefix;u&&(u==="xml"&&(s.uri=Ws.XML),u!=="xmlns"&&(s.uri=r[u||""]))}var d=i.indexOf(":");d>0?(u=a.prefix=i.slice(0,d),f=a.localName=i.slice(d+1)):(u=null,f=a.localName=i);var h=a.uri=r[u||""];if(t.startElement(h,f,i,a),a.closed){if(t.endElement(h,f,i),e)for(u in e)t.endPrefixMapping(u)}else return a.currentNSMap=r,a.localNSMap=e,!0}function qb(a,t,r,i,e){if(/^(?:script|textarea)$/i.test(r)){var n=a.indexOf("</"+r+">",t),s=a.substring(t+1,n);if(/[&<]/.test(s))return/^script$/i.test(r)?(e.characters(s,0,s.length),n):(s=s.replace(/&#?\w+;/g,i),e.characters(s,0,s.length),n)}return t+1}function Gb(a,t,r,i){var e=i[r];return e==null&&(e=a.lastIndexOf("</"+r+">"),e<t&&(e=a.lastIndexOf("</"+r)),i[r]=e),e<t}function Pg(a,t){for(var r in a)t[r]=a[r]}function $b(a,t,r,i){var e=a.charAt(t+2);switch(e){case"-":if(a.charAt(t+3)==="-"){var n=a.indexOf("-->",t+4);return n>t?(r.comment(a,t+4,n-t-4),n+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(a.substr(t+3,6)=="CDATA["){var n=a.indexOf("]]>",t+9);return r.startCDATA(),r.characters(a,t+9,n-t-9),r.endCDATA(),n+3}var s=Xb(a,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,f=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],f=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var c=s[o-1];return r.startDTD(l,u,f),r.endDTD(),c.index+c[0].length}}return-1}function Kb(a,t,r){var i=a.indexOf("?>",t);if(i){var e=a.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return e?(e[0].length,r.processingInstruction(e[1],e[2]),i+2):-1}return-1}function Ag(){this.attributeNames={}}Ag.prototype={setTagName:function(a){if(!Eg.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},addValue:function(a,t,r){if(!Eg.test(a))throw new Error("invalid attribute:"+a);this.attributeNames[a]=this.length,this[this.length++]={qName:a,value:t,offset:r}},length:0,getLocalName:function(a){return this[a].localName},getLocator:function(a){return this[a].locator},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}};function Xb(a,t){var r,i=[],e=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(e.lastIndex=t,e.exec(a);r=e.exec(a);)if(i.push(r),r[1])return i}pf.XMLReader=Cg;pf.ParseError=Ea;var Yb=Ai,mf=$n,Og=Tg,Dg=pf,Qb=mf.DOMImplementation,Ig=Yb.NAMESPACE,Jb=Dg.ParseError,Zb=Dg.XMLReader;function Lg(a){this.options=a||{locator:{}}}Lg.prototype.parseFromString=function(a,t){var r=this.options,i=new Zb,e=r.domBuilder||new Ks,n=r.errorHandler,s=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(t),u=l?Og.HTML_ENTITIES:Og.XML_ENTITIES;return s&&e.setDocumentLocator(s),i.errorHandler=eT(n,e,s),i.domBuilder=r.domBuilder||e,l&&(o[""]=Ig.HTML),o.xml=o.xml||Ig.XML,a&&typeof a=="string"?i.parse(a,o,u):i.errorHandler.error("invalid doc source"),e.doc};function eT(a,t,r){if(!a){if(t instanceof Ks)return t;a=t}var i={},e=a instanceof Function;r=r||{};function n(s){var o=a[s];!o&&e&&(o=a.length==2?function(l){a(s,l)}:a),i[s]=o&&function(l){o("[xmldom "+s+"]	"+l+vf(r))}||function(){}}return n("warning"),n("error"),n("fatalError"),i}function Ks(){this.cdata=!1}function Ca(a,t){t.lineNumber=a.lineNumber,t.columnNumber=a.columnNumber}Ks.prototype={startDocument:function(){this.doc=new Qb().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(a,t,r,i){var e=this.doc,n=e.createElementNS(a,r||t),s=i.length;Rl(this,n),this.currentElement=n,this.locator&&Ca(this.locator,n);for(var o=0;o<s;o++){var a=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=e.createAttributeNS(a,r);this.locator&&Ca(i.getLocator(o),u),u.value=u.nodeValue=l,n.setAttributeNode(u)}},endElement:function(a,t,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(a,t){},endPrefixMapping:function(a){},processingInstruction:function(a,t){var r=this.doc.createProcessingInstruction(a,t);this.locator&&Ca(this.locator,r),Rl(this,r)},ignorableWhitespace:function(a,t,r){},characters:function(a,t,r){if(a=Rg.apply(this,arguments),a){if(this.cdata)var i=this.doc.createCDATASection(a);else var i=this.doc.createTextNode(a);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(a)&&this.doc.appendChild(i),this.locator&&Ca(this.locator,i)}},skippedEntity:function(a){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a,t,r){a=Rg.apply(this,arguments);var i=this.doc.createComment(a);this.locator&&Ca(this.locator,i),Rl(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,t,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var e=i.createDocumentType(a,t,r);this.locator&&Ca(this.locator,e),Rl(this,e),this.doc.doctype=e}},warning:function(a){console.warn("[xmldom warning]	"+a,vf(this.locator))},error:function(a){console.error("[xmldom error]	"+a,vf(this.locator))},fatalError:function(a){throw new Jb(a,this.locator)}};function vf(a){if(a)return`
@`+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]"}function Rg(a,t,r){return typeof a=="string"?a.substr(t,r):a.length>=t+r||t?new java.lang.String(a,t,r)+"":a}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){Ks.prototype[a]=function(){return null}});function Rl(a,t){a.currentElement?a.currentElement.appendChild(t):a.doc.appendChild(t)}Vs.__DOMHandler=Ks;Vs.DOMParser=Lg;Vs.DOMImplementation=mf.DOMImplementation;Vs.XMLSerializer=mf.XMLSerializer;var tT=Vs.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var Mg=function(t){return!!t&&typeof t=="object"},Jt=function a(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.reduce(function(e,n){return typeof n!="object"||Object.keys(n).forEach(function(s){Array.isArray(e[s])&&Array.isArray(n[s])?e[s]=e[s].concat(n[s]):Mg(e[s])&&Mg(n[s])?e[s]=a(e[s],n[s]):e[s]=n[s]}),e},{})},rT=function(t){return Object.keys(t).map(function(r){return t[r]})},nT=function(t,r){for(var i=[],e=t;e<r;e++)i.push(e);return i},Ml=function(t){return t.reduce(function(r,i){return r.concat(i)},[])},Fg=function(t){if(!t.length)return[];for(var r=[],i=0;i<t.length;i++)r.push(t[i]);return r},iT=function(t,r){return t.reduce(function(i,e,n){return e[r]&&i.push(n),i},[])},ka={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Xs=function(t){var r=t.baseUrl,i=r===void 0?"":r,e=t.source,n=e===void 0?"":e,s=t.range,o=s===void 0?"":s,l=t.indexRange,u=l===void 0?"":l,f={uri:n,resolvedUri:kl(i||"",n)};if(o||u){var c=o||u,d=c.split("-"),h=parseInt(d[0],10),p=parseInt(d[1],10);f.byterange={length:p-h+1,offset:h}}return f},aT=function(t){var r=t.offset+t.length-1;return t.offset+"-"+r},Ng=function(t){return t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t},sT={static:function(t){var r=t.duration,i=t.timescale,e=i===void 0?1:i,n=t.sourceDuration,s=t.periodDuration,o=Ng(t.endNumber),l=r/e;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:n/l}},dynamic:function(t){var r=t.NOW,i=t.clientOffset,e=t.availabilityStartTime,n=t.timescale,s=n===void 0?1:n,o=t.duration,l=t.start,u=l===void 0?0:l,f=t.minimumUpdatePeriod,c=f===void 0?0:f,d=t.timeShiftBufferDepth,h=d===void 0?1/0:d,p=Ng(t.endNumber),g=(r+i)/1e3,v=e+u,b=g+c,S=b-v,C=Math.ceil(S*s/o),A=Math.floor((g-v-h)*s/o),_=Math.floor((g-v)*s/o);return{start:Math.max(0,A),end:typeof p=="number"?p:Math.min(C,_)}}},oT=function(t){return function(r,i){var e=t.duration,n=t.timescale,s=n===void 0?1:n,o=t.periodIndex,l=t.startNumber,u=l===void 0?1:l;return{number:u+r,duration:e/s,timeline:o,time:i*e}}},yf=function(t){var r=t.type,i=t.duration,e=t.timescale,n=e===void 0?1:e,s=t.periodDuration,o=t.sourceDuration,l=sT[r](t),u=l.start,f=l.end,c=nT(u,f).map(oT(t));if(r==="static"){var d=c.length-1,h=typeof s=="number"?s:o;c[d].duration=h-i/n*d}return c},Bg=function(t){var r=t.baseUrl,i=t.initialization,e=i===void 0?{}:i,n=t.sourceDuration,s=t.indexRange,o=s===void 0?"":s,l=t.duration;if(!r)throw new Error(ka.NO_BASE_URL);var u=Xs({baseUrl:r,source:e.sourceURL,range:e.range}),f=Xs({baseUrl:r,source:r,indexRange:o});if(f.map=u,l){var c=yf(t);c.length&&(f.duration=c[0].duration,f.timeline=c[0].timeline)}else n&&(f.duration=n,f.timeline=0);return f.number=0,[f]},xf=function(t,r,i){for(var e=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,l=o.offset+o.length,u=r.timescale,f=r.references.filter(function(w){return w.referenceType!==1}),c=[],d=t.endList?"static":"dynamic",h=l+r.firstOffset,p=0;p<f.length;p++){var g=r.references[p],v=g.referencedSize,b=g.subsegmentDuration,S=h+v-1,C=h+"-"+S,A={baseUrl:i,timescale:u,timeline:s,periodIndex:s,duration:b,sourceDuration:n,indexRange:C,type:d},_=Bg(A)[0];e&&(_.map=e),c.push(_),h+=v}return t.segments=c,t},Fl=function(t){return t&&t.uri+"-"+aT(t.byterange)},Ug=function(t){var r=rT(t.reduce(function(i,e){var n=e.attributes.id+(e.attributes.lang||"");if(i[n]){var s;e.segments[0]&&(e.segments[0].discontinuity=!0),(s=i[n].segments).push.apply(s,e.segments),e.attributes.contentProtection&&(i[n].attributes.contentProtection=e.attributes.contentProtection)}else i[n]=e;return i},{}));return r.map(function(i){return i.discontinuityStarts=iT(i.segments,"discontinuity"),i})},_f=function(t,r){var i=Fl(t.sidx),e=i&&r[i]&&r[i].sidx;return e&&xf(t,e,t.sidx.resolvedUri),t},lT=function(t,r){if(r===void 0&&(r={}),!Object.keys(r).length)return t;for(var i in t)t[i]=_f(t[i],r);return t},uT=function(t,r){var i,e=t.attributes,n=t.segments,s=t.sidx,o={attributes:(i={NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:e.type==="static",timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:n,mediaSequence:n.length?n[0].number:1};return e.contentProtection&&(o.contentProtection=e.contentProtection),s&&(o.sidx=s),r&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},cT=function(t){var r,i=t.attributes,e=t.segments;typeof e=="undefined"&&(e=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var n=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(n.CODECS=i.codecs),{attributes:n,uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:e,mediaSequence:e.length?e[0].number:1}},fT=function(t,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var e,n=t.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",f=l.attributes.lang||"",c=l.attributes.label||"main";if(f&&!l.attributes.label){var d=u?" ("+u+")":"";c=""+l.attributes.lang+d}o[c]||(o[c]={language:f,autoselect:!0,default:u==="main",playlists:[],uri:""});var h=_f(uT(l,i),r);return o[c].playlists.push(h),typeof e=="undefined"&&u==="main"&&(e=l,e.default=!0),o},{});if(!e){var s=Object.keys(n)[0];n[s].default=!0}return n},dT=function(t,r){return r===void 0&&(r={}),t.reduce(function(i,e){var n=e.attributes.lang||"text";return i[n]||(i[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),i[n].playlists.push(_f(cT(e),r)),i},{})},hT=function(t){return t.reduce(function(r,i){return i&&i.forEach(function(e){var n=e.channel,s=e.language;r[s]={autoselect:!1,default:!1,instreamId:n,language:s},e.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(r[s].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(r[s]["3D"]=e["3D"])}),r},{})},pT=function(t){var r,i=t.attributes,e=t.segments,n=t.sidx,s={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:e,mediaSequence:e.length?e[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),n&&(s.sidx=n),s},gT=function(t){var r=t.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},mT=function(t){var r=t.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},vT=function(t){var r=t.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},yT=function(t,r,i){var e;if(i===void 0&&(i={}),!t.length)return{};var n=t[0].attributes,s=n.sourceDuration,o=n.type,l=n.suggestedPresentationDelay,u=n.minimumUpdatePeriod,f=Ug(t.filter(gT)).map(pT),c=Ug(t.filter(mT)),d=t.filter(vT),h=t.map(function(v){return v.attributes.captionServices}).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:s,playlists:lT(f,i)};u>=0&&(p.minimumUpdatePeriod=u*1e3),r&&(p.locations=r),o==="dynamic"&&(p.suggestedPresentationDelay=l);var g=p.playlists.length===0;return c.length&&(p.mediaGroups.AUDIO.audio=fT(c,i,g)),d.length&&(p.mediaGroups.SUBTITLES.subs=dT(d,i)),h.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=hT(h)),p},xT=function(t,r,i){var e=t.NOW,n=t.clientOffset,s=t.availabilityStartTime,o=t.timescale,l=o===void 0?1:o,u=t.start,f=u===void 0?0:u,c=t.minimumUpdatePeriod,d=c===void 0?0:c,h=(e+n)/1e3,p=s+f,g=h+d,v=g-p;return Math.ceil((v*l-r)/i)},jg=function(t,r){for(var i=t.type,e=t.minimumUpdatePeriod,n=e===void 0?0:e,s=t.media,o=s===void 0?"":s,l=t.sourceDuration,u=t.timescale,f=u===void 0?1:u,c=t.startNumber,d=c===void 0?1:c,h=t.periodIndex,p=[],g=-1,v=0;v<r.length;v++){var b=r[v],S=b.d,C=b.r||0,A=b.t||0;g<0&&(g=A),A&&A>g&&(g=A);var _=void 0;if(C<0){var w=v+1;w===r.length?i==="dynamic"&&n>0&&o.indexOf("$Number$")>0?_=xT(t,g,S):_=(l*f-g)/S:_=(r[w].t-g)/S}else _=C+1;for(var k=d+p.length+_,R=d+p.length;R<k;)p.push({number:R,duration:S/f,time:g,timeline:h}),g+=S,R++}return p},_T=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,bT=function(t){return function(r,i,e,n){if(r==="$$")return"$";if(typeof t[i]=="undefined")return r;var s=""+t[i];return i==="RepresentationID"||(e?n=parseInt(n,10):n=1,s.length>=n)?s:""+new Array(n-s.length+1).join("0")+s}},Hg=function(t,r){return t.replace(_T,bT(r))},TT=function(t,r){return!t.duration&&!r?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]:t.duration?yf(t):jg(t,r)},ST=function(t,r){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},e=t.initialization,n=e===void 0?{sourceURL:"",range:""}:e,s=Xs({baseUrl:t.baseUrl,source:Hg(n.sourceURL,i),range:n.range}),o=TT(t,r);return o.map(function(l){i.Number=l.number,i.Time=l.time;var u=Hg(t.media||"",i),f=t.timescale||1,c=t.presentationTimeOffset||0,d=t.periodStart+(l.time-c)/f,h={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:kl(t.baseUrl||"",u),map:s,number:l.number,presentationTime:d};return h})},ET=function(t,r){var i=t.baseUrl,e=t.initialization,n=e===void 0?{}:e,s=Xs({baseUrl:i,source:n.sourceURL,range:n.range}),o=Xs({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},CT=function(t,r){var i=t.duration,e=t.segmentUrls,n=e===void 0?[]:e,s=t.periodStart;if(!i&&!r||i&&r)throw new Error(ka.SEGMENT_TIME_UNSPECIFIED);var o=n.map(function(f){return ET(t,f)}),l;i&&(l=yf(t)),r&&(l=jg(t,r));var u=l.map(function(f,c){if(o[c]){var d=o[c],h=t.timescale||1,p=t.presentationTimeOffset||0;return d.timeline=f.timeline,d.duration=f.duration,d.number=f.number,d.presentationTime=s+(f.time-p)/h,d}}).filter(function(f){return f});return u},kT=function(t){var r=t.attributes,i=t.segmentInfo,e,n;i.template?(n=ST,e=Jt(r,i.template)):i.base?(n=Bg,e=Jt(r,i.base)):i.list&&(n=CT,e=Jt(r,i.list));var s={attributes:r};if(!n)return s;var o=n(e,i.segmentTimeline);if(e.duration){var l=e,u=l.duration,f=l.timescale,c=f===void 0?1:f;e.duration=u/c}else o.length?e.duration=o.reduce(function(d,h){return Math.max(d,Math.ceil(h.duration))},0):e.duration=0;return s.attributes=e,s.segments=o,i.base&&e.indexRange&&(s.sidx=o[0],s.segments=[]),s},wT=function(t){return t.map(kT)},St=function(t,r){return Fg(t.childNodes).filter(function(i){var e=i.tagName;return e===r})},bf=function(t){return t.textContent.trim()},wa=function(t){var r=365*24*60*60,i=30*24*60*60,e=24*60*60,n=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(t);if(!l)return 0;var u=l.slice(1),f=u[0],c=u[1],d=u[2],h=u[3],p=u[4],g=u[5];return parseFloat(f||0)*r+parseFloat(c||0)*i+parseFloat(d||0)*e+parseFloat(h||0)*n+parseFloat(p||0)*s+parseFloat(g||0)},PT=function(t){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(t)&&(t+="Z"),Date.parse(t)},zg={mediaPresentationDuration:function(t){return wa(t)},availabilityStartTime:function(t){return PT(t)/1e3},minimumUpdatePeriod:function(t){return wa(t)},suggestedPresentationDelay:function(t){return wa(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return wa(t)},start:function(t){return wa(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var r=parseInt(t,10);return isNaN(r)?wa(t):r},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},qt=function(t){return t&&t.attributes?Fg(t.attributes).reduce(function(r,i){var e=zg[i.name]||zg.DEFAULT;return r[i.name]=e(i.value),r},{}):{}},AT={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Nl=function(t,r){return r.length?Ml(t.map(function(i){return r.map(function(e){return kl(i,bf(e))})})):t},Tf=function(t){var r=St(t,"SegmentTemplate")[0],i=St(t,"SegmentList")[0],e=i&&St(i,"SegmentURL").map(function(d){return Jt({tag:"SegmentURL"},qt(d))}),n=St(t,"SegmentBase")[0],s=i||r,o=s&&St(s,"SegmentTimeline")[0],l=i||n||r,u=l&&St(l,"Initialization")[0],f=r&&qt(r);f&&u?f.initialization=u&&qt(u):f&&f.initialization&&(f.initialization={sourceURL:f.initialization});var c={template:f,segmentTimeline:o&&St(o,"S").map(function(d){return qt(d)}),list:i&&Jt(qt(i),{segmentUrls:e,initialization:qt(u)}),base:n&&Jt(qt(n),{initialization:qt(u)})};return Object.keys(c).forEach(function(d){c[d]||delete c[d]}),c},OT=function(t,r,i){return function(e){var n=St(e,"BaseURL"),s=Nl(r,n),o=Jt(t,qt(e)),l=Tf(e);return s.map(function(u){return{segmentInfo:Jt(i,l),attributes:Jt(o,{baseUrl:u})}})}},DT=function(t){return t.reduce(function(r,i){var e=qt(i),n=AT[e.schemeIdUri];if(n){r[n]={attributes:e};var s=St(i,"cenc:pssh")[0];if(s){var o=bf(s),l=o&&qp(o);r[n].pssh=l}}return r},{})},IT=function(t){if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof t.value!="string"?[]:t.value.split(";");return r.map(function(e){var n,s;if(s=e,/^CC\d=/.test(e)){var o=e.split("=");n=o[0],s=o[1]}else/^CC\d$/.test(e)&&(n=e);return{channel:n,language:s}})}else if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof t.value!="string"?[]:t.value.split(";");return i.map(function(e){var n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var s=e.split("="),o=s[0],l=s[1],u=l===void 0?"":l;n.channel=o,n.language=e,u.split(",").forEach(function(f){var c=f.split(":"),d=c[0],h=c[1];d==="lang"?n.language=h:d==="er"?n.easyReader=Number(h):d==="war"?n.aspectRatio=Number(h):d==="3D"&&(n["3D"]=Number(h))})}else n.language=e;return n.channel&&(n.channel="SERVICE"+n.channel),n})}},LT=function(t,r,i){return function(e){var n=qt(e),s=Nl(r,St(e,"BaseURL")),o=St(e,"Role")[0],l={role:qt(o)},u=Jt(t,n,l),f=St(e,"Accessibility")[0],c=IT(qt(f));c&&(u=Jt(u,{captionServices:c}));var d=St(e,"Label")[0];if(d&&d.childNodes.length){var h=d.childNodes[0].nodeValue.trim();u=Jt(u,{label:h})}var p=DT(St(e,"ContentProtection"));Object.keys(p).length&&(u=Jt(u,{contentProtection:p}));var g=Tf(e),v=St(e,"Representation"),b=Jt(i,g);return Ml(v.map(OT(u,s,b)))}},RT=function(t,r){return function(i,e){var n=Nl(r,St(i.node,"BaseURL")),s=parseInt(i.attributes.id,10),o=Q.isNaN(s)?e:s,l=Jt(t,{periodIndex:o,periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(l.periodDuration=i.attributes.duration);var u=St(i.node,"AdaptationSet"),f=Tf(i.node);return Ml(u.map(LT(l,n,f)))}},MT=function(t){var r=t.attributes,i=t.priorPeriodAttributes,e=t.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&e==="static"?0:null},FT=function(t,r){r===void 0&&(r={});var i=r,e=i.manifestUri,n=e===void 0?"":e,s=i.NOW,o=s===void 0?Date.now():s,l=i.clientOffset,u=l===void 0?0:l,f=St(t,"Period");if(!f.length)throw new Error(ka.INVALID_NUMBER_OF_PERIOD);var c=St(t,"Location"),d=qt(t),h=Nl([n],St(t,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=u,c.length&&(d.locations=c.map(bf));var p=[];return f.forEach(function(g,v){var b=qt(g),S=p[v-1];b.start=MT({attributes:b,priorPeriodAttributes:S?S.attributes:null,mpdType:d.type}),p.push({node:g,attributes:b})}),{locations:d.locations,representationInfo:Ml(p.map(RT(d,h)))}},Vg=function(t){if(t==="")throw new Error(ka.DASH_EMPTY_MANIFEST);var r=new tT,i,e;try{i=r.parseFromString(t,"application/xml"),e=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!e||e&&e.getElementsByTagName("parsererror").length>0)throw new Error(ka.DASH_INVALID_XML);return e},NT=function(t){var r=St(t,"UTCTiming")[0];if(!r)return null;var i=qt(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(ka.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},BT=function(t,r){r===void 0&&(r={});var i=FT(Vg(t),r),e=wT(i.representationInfo);return yT(e,i.locations,r.sidxMapping)},UT=function(t){return NT(Vg(t))},Wg=Math.pow(2,32),jT=function(a){var t=new DataView(a.buffer,a.byteOffset,a.byteLength),r={version:a[0],flags:new Uint8Array(a.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=t.getUint32(i)*Wg+t.getUint32(i+4),r.firstOffset=t.getUint32(i+8)*Wg+t.getUint32(i+12),i+=16),i+=2;var e=t.getUint16(i);for(i+=2;e>0;i+=12,e--)r.references.push({referenceType:(a[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(a[i+8]&128),sapType:(a[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},HT=jT,zT=function(t){return t.toString(2).length},VT=function(t){return Math.ceil(zT(t)/8)},WT=function(t){return ArrayBuffer.isView(t)},qe=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!WT(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Nt=Q.BigInt||Number,Sf=[Nt("0x1"),Nt("0x100"),Nt("0x10000"),Nt("0x1000000"),Nt("0x100000000"),Nt("0x10000000000"),Nt("0x1000000000000"),Nt("0x100000000000000"),Nt("0x10000000000000000")];(function(){var a=new Uint16Array([65484]),t=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);return t[0]===255?"big":t[0]===204?"little":"unknown"})();var qT=function(t,r){var i=r===void 0?{}:r,e=i.signed,n=e===void 0?!1:e,s=i.le,o=s===void 0?!1:s;t=qe(t);var l=o?"reduce":"reduceRight",u=t[l]?t[l]:Array.prototype[l],f=u.call(t,function(d,h,p){var g=o?p:Math.abs(p+1-t.length);return d+Nt(h)*Sf[g]},Nt(0));if(n){var c=Sf[t.length]/Nt(2)-Nt(1);f=Nt(f),f>c&&(f-=c,f-=c,f-=Nt(2))}return Number(f)},GT=function(t,r){var i=r===void 0?{}:r,e=i.le,n=e===void 0?!1:e;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=Nt(t);for(var s=VT(t),o=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=n?l:Math.abs(l+1-o.length);o[u]=Number(t/Sf[l]&Nt(255)),t<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},qg=function(t,r){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;r||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i},$T=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return qe(r[0]);var e=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),n=new Uint8Array(e),s=0;return r.forEach(function(o){o=qe(o),n.set(o,s),s+=o.byteLength}),n},vt=function(t,r,i){var e=i===void 0?{}:i,n=e.offset,s=n===void 0?0:n,o=e.mask,l=o===void 0?[]:o;t=qe(t),r=qe(r);var u=r.every?r.every:Array.prototype.every;return r.length&&t.length-s>=r.length&&u.call(r,function(f,c){var d=l[c]?l[c]&t[s+c]:t[s+c];return f===d})},KT=qe([73,68,51]),XT=function(t,r){r===void 0&&(r=0),t=qe(t);var i=t[r+5],e=t[r+6]<<21|t[r+7]<<14|t[r+8]<<7|t[r+9],n=(i&16)>>4;return n?e+20:e+10},Ys=function a(t,r){return r===void 0&&(r=0),t=qe(t),t.length-r<10||!vt(t,KT,{offset:r})?r:(r+=XT(t,r),a(t,r))},Gg=function(t){return typeof t=="string"?qg(t):t},YT=function(t){return Array.isArray(t)?t.map(function(r){return Gg(r)}):[Gg(t)]},QT=function a(t,r,i){i===void 0&&(i=!1),r=YT(r),t=qe(t);var e=[];if(!r.length)return e;for(var n=0;n<t.length;){var s=(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0,o=t.subarray(n+4,n+8);if(s===0)break;var l=n+s;if(l>t.length){if(i)break;l=t.length}var u=t.subarray(n+8,l);vt(o,r[0])&&(r.length===1?e.push(u):e.push.apply(e,a(u,r.slice(1),i))),n=l}return e},Bl={EBML:qe([26,69,223,163]),DocType:qe([66,130]),Segment:qe([24,83,128,103]),SegmentInfo:qe([21,73,169,102]),Tracks:qe([22,84,174,107]),Track:qe([174]),TrackNumber:qe([215]),DefaultDuration:qe([35,227,131]),TrackEntry:qe([174]),TrackType:qe([131]),FlagDefault:qe([136]),CodecID:qe([134]),CodecPrivate:qe([99,162]),VideoTrack:qe([224]),AudioTrack:qe([225]),Cluster:qe([31,67,182,117]),Timestamp:qe([231]),TimestampScale:qe([42,215,177]),BlockGroup:qe([160]),BlockDuration:qe([155]),Block:qe([161]),SimpleBlock:qe([163])},Ef=[128,64,32,16,8,4,2,1],JT=function(t){for(var r=1,i=0;i<Ef.length&&!(t&Ef[i]);i++)r++;return r},Ul=function(t,r,i,e){i===void 0&&(i=!0),e===void 0&&(e=!1);var n=JT(t[r]),s=t.subarray(r,r+n);return i&&(s=Array.prototype.slice.call(t,r,r+n),s[0]^=Ef[n-1]),{length:n,value:qT(s,{signed:e}),bytes:s}},$g=function a(t){return typeof t=="string"?t.match(/.{1,2}/g).map(function(r){return a(r)}):typeof t=="number"?GT(t):t},ZT=function(t){return Array.isArray(t)?t.map(function(r){return $g(r)}):[$g(t)]},e1=function a(t,r,i){if(i>=r.length)return r.length;var e=Ul(r,i,!1);if(vt(t.bytes,e.bytes))return i;var n=Ul(r,i+e.length);return a(t,r,i+n.length+n.value+e.length)},Kg=function a(t,r){r=ZT(r),t=qe(t);var i=[];if(!r.length)return i;for(var e=0;e<t.length;){var n=Ul(t,e,!1),s=Ul(t,e+n.length),o=e+n.length+s.length;s.value===127&&(s.value=e1(n,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,u=t.subarray(o,l);vt(r[0],n.bytes)&&(r.length===1?i.push(u):i=i.concat(a(u,r.slice(1))));var f=n.length+s.length+u.length;e+=f}return i},t1=qe([0,0,0,1]),r1=qe([0,0,1]),n1=qe([0,0,3]),i1=function(t){for(var r=[],i=1;i<t.length-2;)vt(t.subarray(i,i+3),n1)&&(r.push(i+2),i++),i++;if(r.length===0)return t;var e=t.length-r.length,n=new Uint8Array(e),s=0;for(i=0;i<e;s++,i++)s===r[0]&&(s++,r.shift()),n[i]=t[s];return n},Xg=function(t,r,i,e){e===void 0&&(e=1/0),t=qe(t),i=[].concat(i);for(var n=0,s,o=0;n<t.length&&(o<e||s);){var l=void 0;if(vt(t.subarray(n),t1)?l=4:vt(t.subarray(n),r1)&&(l=3),!l){n++;continue}if(o++,s)return i1(t.subarray(s,n));var u=void 0;r==="h264"?u=t[n+l]&31:r==="h265"&&(u=t[n+l]>>1&63),i.indexOf(u)!==-1&&(s=n+l),n+=l+(r==="h264"?1:2)}return t.subarray(0,0)},a1=function(t,r,i){return Xg(t,"h264",r,i)},s1=function(t,r,i){return Xg(t,"h265",r,i)},Zt={webm:qe([119,101,98,109]),matroska:qe([109,97,116,114,111,115,107,97]),flac:qe([102,76,97,67]),ogg:qe([79,103,103,83]),ac3:qe([11,119]),riff:qe([82,73,70,70]),avi:qe([65,86,73]),wav:qe([87,65,86,69]),"3gp":qe([102,116,121,112,51,103]),mp4:qe([102,116,121,112]),fmp4:qe([115,116,121,112]),mov:qe([102,116,121,112,113,116]),moov:qe([109,111,111,118]),moof:qe([109,111,111,102])},Pa={aac:function(t){var r=Ys(t);return vt(t,[255,16],{offset:r,mask:[255,22]})},mp3:function(t){var r=Ys(t);return vt(t,[255,2],{offset:r,mask:[255,6]})},webm:function(t){var r=Kg(t,[Bl.EBML,Bl.DocType])[0];return vt(r,Zt.webm)},mkv:function(t){var r=Kg(t,[Bl.EBML,Bl.DocType])[0];return vt(r,Zt.matroska)},mp4:function(t){if(Pa["3gp"](t)||Pa.mov(t))return!1;if(vt(t,Zt.mp4,{offset:4})||vt(t,Zt.fmp4,{offset:4})||vt(t,Zt.moof,{offset:4})||vt(t,Zt.moov,{offset:4}))return!0},mov:function(t){return vt(t,Zt.mov,{offset:4})},"3gp":function(t){return vt(t,Zt["3gp"],{offset:4})},ac3:function(t){var r=Ys(t);return vt(t,Zt.ac3,{offset:r})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var r=0;r+188<t.length&&r<188;){if(t[r]===71&&t[r+188]===71)return!0;r+=1}return!1},flac:function(t){var r=Ys(t);return vt(t,Zt.flac,{offset:r})},ogg:function(t){return vt(t,Zt.ogg)},avi:function(t){return vt(t,Zt.riff)&&vt(t,Zt.avi,{offset:8})},wav:function(t){return vt(t,Zt.riff)&&vt(t,Zt.wav,{offset:8})},h264:function(t){return a1(t,7,3).length},h265:function(t){return s1(t,[32,33],3).length}},Cf=Object.keys(Pa).filter(function(a){return a!=="ts"&&a!=="h264"&&a!=="h265"}).concat(["ts","h264","h265"]);Cf.forEach(function(a){var t=Pa[a];Pa[a]=function(r){return t(qe(r))}});var o1=Pa,kf=function(t){t=qe(t);for(var r=0;r<Cf.length;r++){var i=Cf[r];if(o1[i](t))return i}return""},l1=function(t){return QT(t,["moof"]).length>0},wf=9e4,Pf,Af,jl,Of,Yg,Qg,Jg;Pf=function(a){return a*wf};Af=function(a,t){return a*t};jl=function(a){return a/wf};Of=function(a,t){return a/t};Yg=function(a,t){return Pf(Of(a,t))};Qg=function(a,t){return Af(jl(a),t)};Jg=function(a,t,r){return jl(r?a:a-t)};var Hl={ONE_SECOND_IN_TS:wf,secondsToVideoTs:Pf,secondsToAudioTs:Af,videoTsToSeconds:jl,audioTsToSeconds:Of,audioTsToVideoTs:Yg,videoTsToAudioTs:Qg,metadataTsToSeconds:Jg};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Zg="7.17.0",mn={},Xn=function(t,r){return mn[t]=mn[t]||[],r&&(mn[t]=mn[t].concat(r)),mn[t]},u1=function(t,r){Xn(t,r)},em=function(t,r){var i=Xn(t).indexOf(r);return i<=-1?!1:(mn[t]=mn[t].slice(),mn[t].splice(i,1),!0)},c1=function(t,r){Xn(t,[].concat(r).map(function(i){var e=function n(){return em(t,n),i.apply(void 0,arguments)};return e}))},zl={prefixed:!0},Vl=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],tm=Vl[0],Qs;for(var Wl=0;Wl<Vl.length;Wl++)if(Vl[Wl][1]in Ee){Qs=Vl[Wl];break}if(Qs){for(var ql=0;ql<Qs.length;ql++)zl[tm[ql]]=Qs[ql];zl.prefixed=Qs[0]!==tm[0]}var lr=[],f1=function(t,r){return function(i,e,n){var s=r.levels[e],o=new RegExp("^("+s+")$");if(i!=="log"&&n.unshift(i.toUpperCase()+":"),n.unshift(t+":"),lr){lr.push([].concat(n));var l=lr.length-1e3;lr.splice(0,l>0?l:0)}if(!!Q.console){var u=Q.console[i];!u&&i==="debug"&&(u=Q.console.info||Q.console.log),!(!u||!s||!o.test(i))&&u[Array.isArray(n)?"apply":"call"](Q.console,n)}}};function rm(a){var t="info",r,i=function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];r("log",t,s)};return r=f1(a,i),i.createLogger=function(e){return rm(a+": "+e)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},i.level=function(e){if(typeof e=="string"){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');t=e}return t},i.history=function(){return lr?[].concat(lr):[]},i.history.filter=function(e){return(lr||[]).filter(function(n){return new RegExp(".*"+e+".*").test(n[0])})},i.history.clear=function(){lr&&(lr.length=0)},i.history.disable=function(){lr!==null&&(lr.length=0,lr=null)},i.history.enable=function(){lr===null&&(lr=[])},i.error=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r("error",t,n)},i.warn=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r("warn",t,n)},i.debug=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r("debug",t,n)},i}var et=rm("VIDEOJS"),nm=et.createLogger,d1=Object.prototype.toString,im=function(t){return vn(t)?Object.keys(t):[]};function Aa(a,t){im(a).forEach(function(r){return t(a[r],r)})}function h1(a,t,r){return r===void 0&&(r=0),im(a).reduce(function(i,e){return t(i,a[e],e)},r)}function Tt(a){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Object.assign?wr.apply(void 0,[a].concat(r)):(r.forEach(function(e){!e||Aa(e,function(n,s){a[s]=n})}),a)}function vn(a){return!!a&&typeof a=="object"}function Js(a){return vn(a)&&d1.call(a)==="[object Object]"&&a.constructor===Object}function Zs(a,t){if(!a||!t)return"";if(typeof Q.getComputedStyle=="function"){var r;try{r=Q.getComputedStyle(a)}catch{return""}return r?r.getPropertyValue(t)||r[t]:""}return""}var Ot=Q.navigator&&Q.navigator.userAgent||"",am=/AppleWebKit\/([\d.]+)/i.exec(Ot),p1=am?parseFloat(am.pop()):null,sm=/iPod/i.test(Ot),g1=function(){var a=Ot.match(/OS (\d+)_/i);return a&&a[1]?a[1]:null}(),yn=/Android/i.test(Ot),Df=function(){var a=Ot.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!a)return null;var t=a[1]&&parseFloat(a[1]),r=a[2]&&parseFloat(a[2]);return t&&r?parseFloat(a[1]+"."+a[2]):t||null}(),om=yn&&Df<5&&p1<537,lm=/Firefox/i.test(Ot),eo=/Edg/i.test(Ot),xn=!eo&&(/Chrome/i.test(Ot)||/CriOS/i.test(Ot)),um=function(){var a=Ot.match(/(Chrome|CriOS)\/(\d+)/);return a&&a[2]?parseFloat(a[2]):null}(),to=function(){var a=/MSIE\s(\d+)\.\d/.exec(Ot),t=a&&parseFloat(a[1]);return!t&&/Trident\/7.0/i.test(Ot)&&/rv:11.0/.test(Ot)&&(t=11),t}(),If=/Safari/i.test(Ot)&&!xn&&!yn&&!eo,cm=/Windows/i.test(Ot),Oa=Boolean(Da()&&("ontouchstart"in Q||Q.navigator.maxTouchPoints||Q.DocumentTouch&&Q.document instanceof Q.DocumentTouch)),Lf=/iPad/i.test(Ot)||If&&Oa&&!/iPhone/i.test(Ot),Rf=/iPhone/i.test(Ot)&&!Lf,ur=Rf||Lf||sm,Gl=(If||ur)&&!xn,m1=Object.freeze({__proto__:null,IS_IPOD:sm,IOS_VERSION:g1,IS_ANDROID:yn,ANDROID_VERSION:Df,IS_NATIVE_ANDROID:om,IS_FIREFOX:lm,IS_EDGE:eo,IS_CHROME:xn,CHROME_VERSION:um,IE_VERSION:to,IS_SAFARI:If,IS_WINDOWS:cm,TOUCH_ENABLED:Oa,IS_IPAD:Lf,IS_IPHONE:Rf,IS_IOS:ur,IS_ANY_SAFARI:Gl});function fm(a){return typeof a=="string"&&Boolean(a.trim())}function dm(a){if(a.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function v1(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function Da(){return Ee===Q.document}function Ia(a){return vn(a)&&a.nodeType===1}function hm(){try{return Q.parent!==Q.self}catch{return!0}}function pm(a){return function(t,r){if(!fm(t))return Ee[a](null);fm(r)&&(r=Ee.querySelector(r));var i=Ia(r)?r:Ee;return i[a]&&i[a](t)}}function ut(a,t,r,i){a===void 0&&(a="div"),t===void 0&&(t={}),r===void 0&&(r={});var e=Ee.createElement(a);return Object.getOwnPropertyNames(t).forEach(function(n){var s=t[n];n.indexOf("aria-")!==-1||n==="role"||n==="type"?(et.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+n+" to "+s+".")),e.setAttribute(n,s)):n==="textContent"?Ii(e,s):(e[n]!==s||n==="tabIndex")&&(e[n]=s)}),Object.getOwnPropertyNames(r).forEach(function(n){e.setAttribute(n,r[n])}),i&&Nf(e,i),e}function Ii(a,t){return typeof a.textContent=="undefined"?a.innerText=t:a.textContent=t,a}function Mf(a,t){t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a)}function Li(a,t){return dm(t),a.classList?a.classList.contains(t):v1(t).test(a.className)}function _n(a,t){return a.classList?a.classList.add(t):Li(a,t)||(a.className=(a.className+" "+t).trim()),a}function ro(a,t){return a?(a.classList?a.classList.remove(t):(dm(t),a.className=a.className.split(/\s+/).filter(function(r){return r!==t}).join(" ")),a):(et.warn("removeClass was called with an element that doesn't exist"),null)}function gm(a,t,r){var i=Li(a,t);if(typeof r=="function"&&(r=r(a,t)),typeof r!="boolean"&&(r=!i),r!==i)return r?_n(a,t):ro(a,t),a}function mm(a,t){Object.getOwnPropertyNames(t).forEach(function(r){var i=t[r];i===null||typeof i=="undefined"||i===!1?a.removeAttribute(r):a.setAttribute(r,i===!0?"":i)})}function bn(a){var t={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(a&&a.attributes&&a.attributes.length>0)for(var i=a.attributes,e=i.length-1;e>=0;e--){var n=i[e].name,s=i[e].value;(typeof a[n]=="boolean"||r.indexOf(","+n+",")!==-1)&&(s=s!==null),t[n]=s}return t}function vm(a,t){return a.getAttribute(t)}function La(a,t,r){a.setAttribute(t,r)}function $l(a,t){a.removeAttribute(t)}function ym(){Ee.body.focus(),Ee.onselectstart=function(){return!1}}function xm(){Ee.onselectstart=function(){return!0}}function Ra(a){if(a&&a.getBoundingClientRect&&a.parentNode){var t=a.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){t[i]!==void 0&&(r[i]=t[i])}),r.height||(r.height=parseFloat(Zs(a,"height"))),r.width||(r.width=parseFloat(Zs(a,"width"))),r}}function no(a){if(!a||a&&!a.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=a.offsetWidth,r=a.offsetHeight,i=0,e=0;a.offsetParent&&a!==Ee[zl.fullscreenElement];)i+=a.offsetLeft,e+=a.offsetTop,a=a.offsetParent;return{left:i,top:e,width:t,height:r}}function Kl(a,t){var r={x:0,y:0};if(ur)for(var i=a;i&&i.nodeName.toLowerCase()!=="html";){var e=Zs(i,"transform");if(/^matrix/.test(e)){var n=e.slice(7,-1).split(/,\s/).map(Number);r.x+=n[4],r.y+=n[5]}else if(/^matrix3d/.test(e)){var s=e.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},l=no(t.target),u=no(a),f=u.width,c=u.height,d=t.offsetY-(u.top-l.top),h=t.offsetX-(u.left-l.left);return t.changedTouches&&(h=t.changedTouches[0].pageX-u.left,d=t.changedTouches[0].pageY+u.top,ur&&(h-=r.x,d-=r.y)),o.y=1-Math.max(0,Math.min(1,d/c)),o.x=Math.max(0,Math.min(1,h/f)),o}function _m(a){return vn(a)&&a.nodeType===3}function Ff(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function bm(a){return typeof a=="function"&&(a=a()),(Array.isArray(a)?a:[a]).map(function(t){if(typeof t=="function"&&(t=t()),Ia(t)||_m(t))return t;if(typeof t=="string"&&/\S/.test(t))return Ee.createTextNode(t)}).filter(function(t){return t})}function Nf(a,t){return bm(t).forEach(function(r){return a.appendChild(r)}),a}function Tm(a,t){return Nf(Ff(a),t)}function io(a){return a.button===void 0&&a.buttons===void 0||a.button===0&&a.buttons===void 0||a.type==="mouseup"&&a.button===0&&a.buttons===0?!0:!(a.button!==0||a.buttons!==1)}var Yn=pm("querySelector"),Sm=pm("querySelectorAll"),Em=Object.freeze({__proto__:null,isReal:Da,isEl:Ia,isInFrame:hm,createEl:ut,textContent:Ii,prependTo:Mf,hasClass:Li,addClass:_n,removeClass:ro,toggleClass:gm,setAttributes:mm,getAttributes:bn,getAttribute:vm,setAttribute:La,removeAttribute:$l,blockTextSelection:ym,unblockTextSelection:xm,getBoundingClientRect:Ra,findPosition:no,getPointerPosition:Kl,isTextNode:_m,emptyEl:Ff,normalizeContent:bm,appendContent:Nf,insertContent:Tm,isSingleLeftClick:io,$:Yn,$$:Sm}),Cm=!1,Bf,y1=function(){if(Bf.options.autoSetup!==!1){var t=Array.prototype.slice.call(Ee.getElementsByTagName("video")),r=Array.prototype.slice.call(Ee.getElementsByTagName("audio")),i=Array.prototype.slice.call(Ee.getElementsByTagName("video-js")),e=t.concat(r,i);if(e&&e.length>0)for(var n=0,s=e.length;n<s;n++){var o=e[n];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&Bf(o)}}else{Uf(1);break}}else Cm||Uf(1)}};function Uf(a,t){!Da()||(t&&(Bf=t),Q.setTimeout(y1,a))}function jf(){Cm=!0,Q.removeEventListener("load",jf)}Da()&&(Ee.readyState==="complete"?jf():Q.addEventListener("load",jf));var km=function(t){var r=Ee.createElement("style");return r.className=t,r},wm=function(t,r){t.styleSheet?t.styleSheet.cssText=r:t.textContent=r},x1=3,_1=x1;function Qn(){return _1++}var Pm;Q.WeakMap||(Pm=function(){function a(){this.vdata="vdata"+Math.floor(Q.performance&&Q.performance.now()||Date.now()),this.data={}}var t=a.prototype;return t.set=function(i,e){var n=i[this.vdata]||Qn();return i[this.vdata]||(i[this.vdata]=n),this.data[n]=e,this},t.get=function(i){var e=i[this.vdata];if(e)return this.data[e];et("We have no data for this element",i)},t.has=function(i){var e=i[this.vdata];return e in this.data},t.delete=function(i){var e=i[this.vdata];e&&(delete this.data[e],delete i[this.vdata])},a}());var er=Q.WeakMap?new WeakMap:new Pm;function Am(a,t){if(!!er.has(a)){var r=er.get(a);r.handlers[t].length===0&&(delete r.handlers[t],a.removeEventListener?a.removeEventListener(t,r.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&er.delete(a)}}function Hf(a,t,r,i){r.forEach(function(e){a(t,e,i)})}function Xl(a){if(a.fixed_)return a;function t(){return!0}function r(){return!1}if(!a||!a.isPropagationStopped||!a.isImmediatePropagationStopped){var i=a||Q.event;a={};for(var e in i)e!=="layerX"&&e!=="layerY"&&e!=="keyLocation"&&e!=="webkitMovementX"&&e!=="webkitMovementY"&&(e==="returnValue"&&i.preventDefault||(a[e]=i[e]));if(a.target||(a.target=a.srcElement||Ee),a.relatedTarget||(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),a.preventDefault=function(){i.preventDefault&&i.preventDefault(),a.returnValue=!1,i.returnValue=!1,a.defaultPrevented=!0},a.defaultPrevented=!1,a.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),a.cancelBubble=!0,i.cancelBubble=!0,a.isPropagationStopped=t},a.isPropagationStopped=r,a.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),a.isImmediatePropagationStopped=t,a.stopPropagation()},a.isImmediatePropagationStopped=r,a.clientX!==null&&a.clientX!==void 0){var n=Ee.documentElement,s=Ee.body;a.pageX=a.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),a.pageY=a.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}a.which=a.charCode||a.keyCode,a.button!==null&&a.button!==void 0&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a.fixed_=!0,a}var Yl,b1=function(){if(typeof Yl!="boolean"){Yl=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Yl=!0}});Q.addEventListener("test",null,t),Q.removeEventListener("test",null,t)}catch{}}return Yl},T1=["touchstart","touchmove"];function vr(a,t,r){if(Array.isArray(t))return Hf(vr,a,t,r);er.has(a)||er.set(a,{});var i=er.get(a);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),r.guid||(r.guid=Qn()),i.handlers[t].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(n,s){if(!i.disabled){n=Xl(n);var o=i.handlers[n.type];if(o)for(var l=o.slice(0),u=0,f=l.length;u<f&&!n.isImmediatePropagationStopped();u++)try{l[u].call(a,n,s)}catch(c){et.error(c)}}}),i.handlers[t].length===1)if(a.addEventListener){var e=!1;b1()&&T1.indexOf(t)>-1&&(e={passive:!0}),a.addEventListener(t,i.dispatcher,e)}else a.attachEvent&&a.attachEvent("on"+t,i.dispatcher)}function Gt(a,t,r){if(!!er.has(a)){var i=er.get(a);if(!!i.handlers){if(Array.isArray(t))return Hf(Gt,a,t,r);var e=function(u,f){i.handlers[f]=[],Am(u,f)};if(t===void 0){for(var n in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},n)&&e(a,n);return}var s=i.handlers[t];if(!!s){if(!r){e(a,t);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);Am(a,t)}}}}function Ma(a,t,r){var i=er.has(a)?er.get(a):{},e=a.parentNode||a.ownerDocument;if(typeof t=="string"?t={type:t,target:a}:t.target||(t.target=a),t=Xl(t),i.dispatcher&&i.dispatcher.call(a,t,r),e&&!t.isPropagationStopped()&&t.bubbles===!0)Ma.call(null,e,t,r);else if(!e&&!t.defaultPrevented&&t.target&&t.target[t.type]){er.has(t.target)||er.set(t.target,{});var n=er.get(t.target);t.target[t.type]&&(n.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),n.disabled=!1)}return!t.defaultPrevented}function Ql(a,t,r){if(Array.isArray(t))return Hf(Ql,a,t,r);var i=function e(){Gt(a,t,e),r.apply(this,arguments)};i.guid=r.guid=r.guid||Qn(),vr(a,t,i)}function Om(a,t,r){var i=function e(){Gt(a,t,e),r.apply(this,arguments)};i.guid=r.guid=r.guid||Qn(),vr(a,t,i)}var S1=Object.freeze({__proto__:null,fixEvent:Xl,on:vr,off:Gt,trigger:Ma,one:Ql,any:Om}),Nr=30,pt=function(t,r,i){r.guid||(r.guid=Qn());var e=r.bind(t);return e.guid=i?i+"_"+r.guid:r.guid,e},Tn=function(t,r){var i=Q.performance.now(),e=function(){var s=Q.performance.now();s-i>=r&&(t.apply(void 0,arguments),i=s)};return e},E1=function(t,r,i,e){e===void 0&&(e=Q);var n,s=function(){e.clearTimeout(n),n=null},o=function(){var u=this,f=arguments,c=function(){n=null,c=null,i||t.apply(u,f)};!n&&i&&t.apply(u,f),e.clearTimeout(n),n=e.setTimeout(c,r)};return o.cancel=s,o},Dt=function(){};Dt.prototype.allowedEvents_={};Dt.prototype.on=function(a,t){var r=this.addEventListener;this.addEventListener=function(){},vr(this,a,t),this.addEventListener=r};Dt.prototype.addEventListener=Dt.prototype.on;Dt.prototype.off=function(a,t){Gt(this,a,t)};Dt.prototype.removeEventListener=Dt.prototype.off;Dt.prototype.one=function(a,t){var r=this.addEventListener;this.addEventListener=function(){},Ql(this,a,t),this.addEventListener=r};Dt.prototype.any=function(a,t){var r=this.addEventListener;this.addEventListener=function(){},Om(this,a,t),this.addEventListener=r};Dt.prototype.trigger=function(a){var t=a.type||a;typeof a=="string"&&(a={type:t}),a=Xl(a),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](a),Ma(this,a)};Dt.prototype.dispatchEvent=Dt.prototype.trigger;var ao;Dt.prototype.queueTrigger=function(a){var t=this;ao||(ao=new Map);var r=a.type||a,i=ao.get(this);i||(i=new Map,ao.set(this,i));var e=i.get(r);i.delete(r),Q.clearTimeout(e);var n=Q.setTimeout(function(){i.size===0&&(i=null,ao.delete(t)),t.trigger(a)},0);i.set(r,n)};var Jl=function(t){return typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},Sn=function(t){return t instanceof Dt||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof t[r]=="function"})},C1=function(t,r){Sn(t)?r():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(r))},zf=function(t){return typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Zl=function(t,r,i){if(!t||!t.nodeName&&!Sn(t))throw new Error("Invalid target for "+Jl(r)+"#"+i+"; must be a DOM node or evented object.")},Dm=function(t,r,i){if(!zf(t))throw new Error("Invalid event type for "+Jl(r)+"#"+i+"; must be a non-empty string or array.")},Im=function(t,r,i){if(typeof t!="function")throw new Error("Invalid listener for "+Jl(r)+"#"+i+"; must be a function.")},Vf=function(t,r,i){var e=r.length<3||r[0]===t||r[0]===t.eventBusEl_,n,s,o;return e?(n=t.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(n=r[0],s=r[1],o=r[2]),Zl(n,t,i),Dm(s,t,i),Im(o,t,i),o=pt(t,o),{isTargetingSelf:e,target:n,type:s,listener:o}},Ri=function(t,r,i,e){Zl(t,t,r),t.nodeName?S1[r](t,i,e):t[r](i,e)},k1={on:function(){for(var t=this,r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];var n=Vf(this,i,"on"),s=n.isTargetingSelf,o=n.target,l=n.type,u=n.listener;if(Ri(o,"on",l,u),!s){var f=function(){return t.off(o,l,u)};f.guid=u.guid;var c=function(){return t.off("dispose",f)};c.guid=u.guid,Ri(this,"on","dispose",f),Ri(o,"on","dispose",c)}},one:function(){for(var t=this,r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];var n=Vf(this,i,"one"),s=n.isTargetingSelf,o=n.target,l=n.type,u=n.listener;if(s)Ri(o,"one",l,u);else{var f=function c(){t.off(o,l,c);for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];u.apply(null,h)};f.guid=u.guid,Ri(o,"one",l,f)}},any:function(){for(var t=this,r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];var n=Vf(this,i,"any"),s=n.isTargetingSelf,o=n.target,l=n.type,u=n.listener;if(s)Ri(o,"any",l,u);else{var f=function c(){t.off(o,l,c);for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];u.apply(null,h)};f.guid=u.guid,Ri(o,"any",l,f)}},off:function(t,r,i){if(!t||zf(t))Gt(this.eventBusEl_,t,r);else{var e=t,n=r;Zl(e,this,"off"),Dm(n,this,"off"),Im(i,this,"off"),i=pt(this,i),this.off("dispose",i),e.nodeName?(Gt(e,n,i),Gt(e,"dispose",i)):Sn(e)&&(e.off(n,i),e.off("dispose",i))}},trigger:function(t,r){Zl(this.eventBusEl_,this,"trigger");var i=t&&typeof t!="string"?t.type:t;if(!zf(i)){var e="Invalid event type for "+Jl(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(t)(this.log||et).error(e);else throw new Error(e)}return Ma(this.eventBusEl_,t,r)}};function Wf(a,t){t===void 0&&(t={});var r=t,i=r.eventBusKey;if(i){if(!a[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');a.eventBusEl_=a[i]}else a.eventBusEl_=ut("span",{className:"vjs-event-bus"});return Tt(a,k1),a.eventedCallbacks&&a.eventedCallbacks.forEach(function(e){e()}),a.on("dispose",function(){a.off(),[a,a.el_,a.eventBusEl_].forEach(function(e){e&&er.has(e)&&er.delete(e)}),Q.setTimeout(function(){a.eventBusEl_=null},0)}),a}var w1={state:{},setState:function(t){var r=this;typeof t=="function"&&(t=t());var i;return Aa(t,function(e,n){r.state[n]!==e&&(i=i||{},i[n]={from:r.state[n],to:e}),r.state[n]=e}),i&&Sn(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Lm(a,t){return Tt(a,w1),a.state=Tt({},a.state,t),typeof a.handleStateChanged=="function"&&Sn(a)&&a.on("statechanged",a.handleStateChanged),a}var eu=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toLowerCase()})},Et=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toUpperCase()})},P1=function(t,r){return Et(t)===Et(r)};function mt(){for(var a={},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.forEach(function(e){!e||Aa(e,function(n,s){if(!Js(n)){a[s]=n;return}Js(a[s])||(a[s]={}),a[s]=mt(a[s],n)})}),a}var A1=function(){function a(){this.map_={}}var t=a.prototype;return t.has=function(i){return i in this.map_},t.delete=function(i){var e=this.has(i);return delete this.map_[i],e},t.set=function(i,e){return this.map_[i]=e,this},t.forEach=function(i,e){for(var n in this.map_)i.call(e,this.map_[n],n,this)},a}(),O1=Q.Map?Q.Map:A1,D1=function(){function a(){this.set_={}}var t=a.prototype;return t.has=function(i){return i in this.set_},t.delete=function(i){var e=this.has(i);return delete this.set_[i],e},t.add=function(i){return this.set_[i]=1,this},t.forEach=function(i,e){for(var n in this.set_)i.call(e,n,n,this)},a}(),qf=Q.Set?Q.Set:D1,be=function(){function a(r,i,e){if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mt({},this.options_),i=this.options_=mt(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var n=r&&r.id&&r.id()||"no_player";this.id_=n+"_component_"+Qn()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.evented!==!1&&(Wf(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Lm(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new qf,this.setIntervalIds_=new qf,this.rafIds_=new qf,this.namedRafs_=new O1,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(e),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var t=a.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(i){return i?(this.options_=mt(this.options_,i),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(i,e,n){return ut(i,e,n)},t.localize=function(i,e,n){n===void 0&&(n=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],f=o&&o[u],c=n;return l&&l[i]?c=l[i]:f&&f[i]&&(c=f[i]),e&&(c=c.replace(/\{(\d+)\}/g,function(d,h){var p=e[h-1],g=p;return typeof p=="undefined"&&(g=d),g})),c},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(i){return this.childIndex_[i]},t.getChild=function(i){if(!!i)return this.childNameIndex_[i]},t.getDescendant=function(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];e=e.reduce(function(l,u){return l.concat(u)},[]);for(var s=this,o=0;o<e.length;o++)if(s=s.getChild(e[o]),!s||!s.getChild)return;return s},t.addChild=function(i,e,n){e===void 0&&(e={}),n===void 0&&(n=this.children_.length);var s,o;if(typeof i=="string"){o=Et(i);var l=e.componentClass||o;e.name=o;var u=a.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,e)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(n,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Et(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[eu(o)]=s),typeof s.el=="function"&&s.el()){var f=null;this.children_[n+1]&&(this.children_[n+1].el_?f=this.children_[n+1].el_:Ia(this.children_[n+1])&&(f=this.children_[n+1])),this.contentEl().insertBefore(s.el(),f)}return s},t.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===i){e=!0,this.children_.splice(n,1);break}if(!!e){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Et(i.name())]=null,this.childNameIndex_[eu(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},t.initChildren=function(){var i=this,e=this.options_.children;if(e){var n=this.options_,s=function(f){var c=f.name,d=f.opts;if(n[c]!==void 0&&(d=n[c]),d!==!1){d===!0&&(d={}),d.playerOptions=i.options_.playerOptions;var h=i.addChild(c,d);h&&(i[c]=h)}},o,l=a.getComponent("Tech");Array.isArray(e)?o=e:o=Object.keys(e),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(f){return typeof f=="string"?u===f:u===f.name})})).map(function(u){var f,c;return typeof u=="string"?(f=u,c=e[f]||i.options_[f]||{}):(f=u.name,c=u),{name:f,opts:c}}).filter(function(u){var f=a.getComponent(u.opts.componentClass||Et(u.name));return f&&!l.isTech(f)}).forEach(s)}},t.buildCSSClass=function(){return""},t.ready=function(i,e){if(e===void 0&&(e=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}e?i.call(this):this.setTimeout(i,1)}},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(i,e){return Yn(i,e||this.contentEl())},t.$$=function(i,e){return Sm(i,e||this.contentEl())},t.hasClass=function(i){return Li(this.el_,i)},t.addClass=function(i){_n(this.el_,i)},t.removeClass=function(i){ro(this.el_,i)},t.toggleClass=function(i,e){gm(this.el_,i,e)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(i){return vm(this.el_,i)},t.setAttribute=function(i,e){La(this.el_,i,e)},t.removeAttribute=function(i){$l(this.el_,i)},t.width=function(i,e){return this.dimension("width",i,e)},t.height=function(i,e){return this.dimension("height",i,e)},t.dimensions=function(i,e){this.width(i,!0),this.height(e)},t.dimension=function(i,e,n){if(e!==void 0){(e===null||e!==e)&&(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[i]=e:e==="auto"?this.el_.style[i]="":this.el_.style[i]=e+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Et(i)],10)},t.currentDimension=function(i){var e=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(e=Zs(this.el_,i),e=parseFloat(e),e===0||isNaN(e)){var n="offset"+Et(i);e=this.el_[n]}return e},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(i){this.player_&&(i.stopPropagation(),this.player_.handleKeyDown(i))},t.handleKeyPress=function(i){this.handleKeyDown(i)},t.emitTapEvents=function(){var i=0,e=null,n=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(e={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},i=Q.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(e){var f=u.touches[0].pageX-e.pageX,c=u.touches[0].pageY-e.pageY,d=Math.sqrt(f*f+c*c);d>n&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(e=null,o===!0){var f=Q.performance.now()-i;f<s&&(u.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=pt(this.player(),this.player().reportUserActivity),e;this.on("touchstart",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)});var n=function(o){i(),this.clearInterval(e)};this.on("touchmove",i),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(i,e){var n=this,s;return i=pt(this,i),this.clearTimersOnDispose_(),s=Q.setTimeout(function(){n.setTimeoutIds_.has(s)&&n.setTimeoutIds_.delete(s),i()},e),this.setTimeoutIds_.add(s),s},t.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),Q.clearTimeout(i)),i},t.setInterval=function(i,e){i=pt(this,i),this.clearTimersOnDispose_();var n=Q.setInterval(i,e);return this.setIntervalIds_.add(n),n},t.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),Q.clearInterval(i)),i},t.requestAnimationFrame=function(i){var e=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var n;return i=pt(this,i),n=Q.requestAnimationFrame(function(){e.rafIds_.has(n)&&e.rafIds_.delete(n),i()}),this.rafIds_.add(n),n},t.requestNamedAnimationFrame=function(i,e){var n=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),e=pt(this,e);var s=this.requestAnimationFrame(function(){e(),n.namedRafs_.has(i)&&n.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},t.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},t.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),Q.cancelAnimationFrame(i)),i):this.clearTimeout(i)},t.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var n=e[0],s=e[1];i[n].forEach(function(o,l){return i[s](l)})}),i.clearingTimersOnDispose_=!1}))},a.registerComponent=function(i,e){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var n=a.getComponent("Tech"),s=n&&n.isTech(e),o=a===e||a.prototype.isPrototypeOf(e.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+l+".")}i=Et(i),a.components_||(a.components_={});var u=a.getComponent("Player");if(i==="Player"&&u&&u.players){var f=u.players,c=Object.keys(f);if(f&&c.length>0&&c.map(function(d){return f[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return a.components_[i]=e,a.components_[eu(i)]=e,e},a.getComponent=function(i){if(!(!i||!a.components_))return a.components_[i]},a}();be.prototype.supportsRaf_=typeof Q.requestAnimationFrame=="function"&&typeof Q.cancelAnimationFrame=="function";be.registerComponent("Component",be);function I1(a,t,r){if(typeof t!="number"||t<0||t>r)throw new Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}function Rm(a,t,r,i){return I1(a,i,r.length-1),r[i][t]}function Gf(a){var t;return a===void 0||a.length===0?t={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:t={length:a.length,start:Rm.bind(null,"start",0,a),end:Rm.bind(null,"end",1,a)},Q.Symbol&&Q.Symbol.iterator&&(t[Q.Symbol.iterator]=function(){return(a||[]).values()}),t}function Mi(a,t){return Array.isArray(a)?Gf(a):a===void 0||t===void 0?Gf():Gf([[a,t]])}function Mm(a,t){var r=0,i,e;if(!t)return 0;(!a||!a.length)&&(a=Mi(0,0));for(var n=0;n<a.length;n++)i=a.start(n),e=a.end(n),e>t&&(e=t),r+=e-i;return r/t}function tr(a){if(a instanceof tr)return a;typeof a=="number"?this.code=a:typeof a=="string"?this.message=a:vn(a)&&(typeof a.code=="number"&&(this.code=a.code),Tt(this,a)),this.message||(this.message=tr.defaultMessages[this.code]||"")}tr.prototype.code=0;tr.prototype.message="";tr.prototype.status=null;tr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];tr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Fa=0;Fa<tr.errorTypes.length;Fa++)tr[tr.errorTypes[Fa]]=Fa,tr.prototype[tr.errorTypes[Fa]]=Fa;function so(a){return a!=null&&typeof a.then=="function"}function Zr(a){so(a)&&a.then(null,function(t){})}var $f=function(t){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,e,n){return t[e]&&(i[e]=t[e]),i},{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},L1=function(t){var r=t.$$("track"),i=Array.prototype.map.call(r,function(n){return n.track}),e=Array.prototype.map.call(r,function(n){var s=$f(n.track);return n.src&&(s.src=n.src),s});return e.concat(Array.prototype.filter.call(t.textTracks(),function(n){return i.indexOf(n)===-1}).map($f))},R1=function(t,r){return t.forEach(function(i){var e=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(n){return e.addCue(n)})}),r.textTracks()},Fm={textTracksToJson:L1,jsonToTextTracks:R1,trackToJson_:$f},Kf="vjs-modal-dialog",Na=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.close_=function(s){return n.close(s)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=ut("div",{className:Kf+"-content"},{role:"document"}),n.descEl_=ut("p",{className:Kf+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),Ii(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,a.prototype.dispose.call(this)},r.buildCSSClass=function(){return Kf+" vjs-hidden "+a.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},r.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_},r.close=function(){if(!!this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(e){if(typeof e=="boolean"){var n=this.closeable_=!!e,s=this.getChild("closeButton");if(n&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!n&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(e){var n=this.contentEl(),s=n.parentNode,o=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(n),this.empty(),Tm(n,e),this.trigger("modalfill"),o?s.insertBefore(n,o):s.appendChild(n);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),Ff(this.contentEl()),this.trigger("modalempty")},r.content=function(e){return typeof e!="undefined"&&(this.content_=e),this.content_},r.conditionalFocus_=function(){var e=Ee.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(e){if(e.stopPropagation(),Qe.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!!Qe.isEventKey(e,"Tab")){for(var n=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<n.length;l++)if(s===n[l]){o=l;break}Ee.activeElement===this.el_&&(o=0),e.shiftKey&&o===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&o===n.length-1&&(n[0].focus(),e.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(n){return(n instanceof Q.HTMLAnchorElement||n instanceof Q.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof Q.HTMLInputElement||n instanceof Q.HTMLSelectElement||n instanceof Q.HTMLTextAreaElement||n instanceof Q.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof Q.HTMLIFrameElement||n instanceof Q.HTMLObjectElement||n instanceof Q.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable")})},t}(be);Na.prototype.options_={pauseOnOpen:!0,temporary:!0};be.registerComponent("ModalDialog",Na);var Ba=function(a){we(t,a);function t(i){var e;i===void 0&&(i=[]),e=a.call(this)||this,e.tracks_=[],Object.defineProperty($e(e),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<i.length;n++)e.addTrack(i[n]);return e}var r=t.prototype;return r.addTrack=function(e){var n=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){n.trigger({track:e,type:"labelchange",target:n})},Sn(e)&&e.addEventListener("labelchange",e.labelchange_)},r.removeTrack=function(e){for(var n,s=0,o=this.length;s<o;s++)if(this[s]===e){n=this[s],n.off&&n.off(),this.tracks_.splice(s,1);break}!n||this.trigger({track:n,type:"removetrack",target:this})},r.getTrackById=function(e){for(var n=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===e){n=l;break}}return n},t}(Dt);Ba.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var M1 in Ba.prototype.allowedEvents_)Ba.prototype["on"+M1]=null;var Xf=function(t,r){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||r.id===t[i].id||(t[i].enabled=!1)},F1=function(a){we(t,a);function t(i){var e;i===void 0&&(i=[]);for(var n=i.length-1;n>=0;n--)if(i[n].enabled){Xf(i,i[n]);break}return e=a.call(this,i)||this,e.changing_=!1,e}var r=t.prototype;return r.addTrack=function(e){var n=this;e.enabled&&Xf(this,e),a.prototype.addTrack.call(this,e),!!e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Xf(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},r.removeTrack=function(e){a.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},t}(Ba),Yf=function(t,r){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||r.id===t[i].id||(t[i].selected=!1)},N1=function(a){we(t,a);function t(i){var e;i===void 0&&(i=[]);for(var n=i.length-1;n>=0;n--)if(i[n].selected){Yf(i,i[n]);break}return e=a.call(this,i)||this,e.changing_=!1,Object.defineProperty($e(e),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),e}var r=t.prototype;return r.addTrack=function(e){var n=this;e.selected&&Yf(this,e),a.prototype.addTrack.call(this,e),!!e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Yf(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},r.removeTrack=function(e){a.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},t}(Ba),Nm=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.addTrack=function(e){var n=this;a.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(e){a.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Ba),B1=function(){function a(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,e=r.length;i<e;i++)this.addTrackElement_(r[i])}var t=a.prototype;return t.addTrackElement_=function(i){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},t.getTrackElementByTrack_=function(i){for(var e,n=0,s=this.trackElements_.length;n<s;n++)if(i===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.removeTrackElement_=function(i){for(var e=0,n=this.trackElements_.length;e<n;e++)if(i===this.trackElements_[e]){this.trackElements_[e].track&&typeof this.trackElements_[e].track.off=="function"&&this.trackElements_[e].track.off(),typeof this.trackElements_[e].off=="function"&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},a}(),Bm=function(){function a(r){a.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=a.prototype;return t.setCues_=function(i){var e=this.length||0,n=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(e<s)for(n=e;n<s;n++)o.call(this,n)},t.getCueById=function(i){for(var e=null,n=0,s=this.length;n<s;n++){var o=this[n];if(o.id===i){e=o;break}}return e},a}(),U1={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},j1={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},H1={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Um={disabled:"disabled",hidden:"hidden",showing:"showing"},Qf=function(a){we(t,a);function t(r){var i;r===void 0&&(r={}),i=a.call(this)||this;var e={id:r.id||"vjs_track_"+Qn(),kind:r.kind||"",language:r.language||""},n=r.label||"",s=function(u){Object.defineProperty($e(i),u,{get:function(){return e[u]},set:function(){}})};for(var o in e)s(o);return Object.defineProperty($e(i),"label",{get:function(){return n},set:function(u){u!==n&&(n=u,this.trigger("labelchange"))}}),i}return t}(Dt),Jf=function(t){var r=["protocol","hostname","port","pathname","search","hash","host"],i=Ee.createElement("a");i.href=t;for(var e={},n=0;n<r.length;n++)e[r[n]]=i[r[n]];return e.protocol==="http:"&&(e.host=e.host.replace(/:80$/,"")),e.protocol==="https:"&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=Q.location.protocol),e.host||(e.host=Q.location.host),e},jm=function(t){if(!t.match(/^https?:\/\//)){var r=Ee.createElement("a");r.href=t,t=r.href}return t},Zf=function(t){if(typeof t=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(t);if(i)return i.pop().toLowerCase()}return""},tu=function(t,r){r===void 0&&(r=Q.location);var i=Jf(t),e=i.protocol===":"?r.protocol:i.protocol,n=e+i.host!==r.protocol+r.host;return n},z1=Object.freeze({__proto__:null,parseUrl:Jf,getAbsoluteURL:jm,getFileExtension:Zf,isCrossOrigin:tu}),Hm=function(t,r){var i=new Q.WebVTT.Parser(Q,Q.vttjs,Q.WebVTT.StringDecoder()),e=[];i.oncue=function(n){r.addCue(n)},i.onparsingerror=function(n){e.push(n)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(t),e.length>0&&(Q.console&&Q.console.groupCollapsed&&Q.console.groupCollapsed("Text Track parsing errors for "+r.src),e.forEach(function(n){return et.error(n)}),Q.console&&Q.console.groupEnd&&Q.console.groupEnd()),i.flush()},zm=function(t,r){var i={uri:t},e=tu(t);e&&(i.cors=e);var n=r.tech_.crossOrigin()==="use-credentials";n&&(i.withCredentials=n),Lp(i,pt(this,function(s,o,l){if(s)return et.error(s,o);r.loaded_=!0,typeof Q.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){et.error("vttjs failed to load, stopping trying to process "+r.src);return}return Hm(l,r)}):Hm(l,r)}))},oo=function(a){we(t,a);function t(i){var e;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var n=mt(i,{kind:H1[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Um[n.mode]||"disabled",o=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(s="hidden"),e=a.call(this,n)||this,e.tech_=n.tech,e.cues_=[],e.activeCues_=[],e.preload_=e.tech_.preloadTextTracks!==!1;var l=new Bm(e.cues_),u=new Bm(e.activeCues_),f=!1,c=pt($e(e),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,f&&(this.trigger("cuechange"),f=!1))}),d=function(){e.tech_.off("timeupdate",c)};return e.tech_.one("dispose",d),s!=="disabled"&&e.tech_.on("timeupdate",c),Object.defineProperties($e(e),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(p){!Um[p]||s!==p&&(s=p,!this.preload_&&s!=="disabled"&&this.cues.length===0&&zm(this.src,this),this.tech_.off("timeupdate",c),s!=="disabled"&&this.tech_.on("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var p=this.tech_.currentTime(),g=[],v=0,b=this.cues.length;v<b;v++){var S=this.cues[v];(S.startTime<=p&&S.endTime>=p||S.startTime===S.endTime&&S.startTime<=p&&S.startTime+.5>=p)&&g.push(S)}if(f=!1,g.length!==this.activeCues_.length)f=!0;else for(var C=0;C<g.length;C++)this.activeCues_.indexOf(g[C])===-1&&(f=!0);return this.activeCues_=g,u.setCues_(this.activeCues_),u},set:function(){}}}),n.src?(e.src=n.src,e.preload_||(e.loaded_=!0),(e.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&zm(e.src,$e(e))):e.loaded_=!0,e}var r=t.prototype;return r.addCue=function(e){var n=e;if(Q.vttjs&&!(e instanceof Q.vttjs.VTTCue)){n=new Q.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var s in e)s in n||(n[s]=e[s]);n.id=e.id,n.originalCue_=e}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},r.removeCue=function(e){for(var n=this.cues_.length;n--;){var s=this.cues_[n];if(s===e||s.originalCue_&&s.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}},t}(Qf);oo.prototype.allowedEvents_={cuechange:"cuechange"};var Vm=function(a){we(t,a);function t(r){var i;r===void 0&&(r={});var e=mt(r,{kind:j1[r.kind]||""});i=a.call(this,e)||this;var n=!1;return Object.defineProperty($e(i),"enabled",{get:function(){return n},set:function(o){typeof o!="boolean"||o===n||(n=o,this.trigger("enabledchange"))}}),e.enabled&&(i.enabled=e.enabled),i.loaded_=!0,i}return t}(Qf),Wm=function(a){we(t,a);function t(r){var i;r===void 0&&(r={});var e=mt(r,{kind:U1[r.kind]||""});i=a.call(this,e)||this;var n=!1;return Object.defineProperty($e(i),"selected",{get:function(){return n},set:function(o){typeof o!="boolean"||o===n||(n=o,this.trigger("selectedchange"))}}),e.selected&&(i.selected=e.selected),i}return t}(Qf),qm=0,V1=1,Gm=2,W1=3,Ua=function(a){we(t,a);function t(r){var i;r===void 0&&(r={}),i=a.call(this)||this;var e,n=new oo(r);return i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,Object.defineProperties($e(i),{readyState:{get:function(){return e}},track:{get:function(){return n}}}),e=qm,n.addEventListener("loadeddata",function(){e=Gm,i.trigger({type:"load",target:$e(i)})}),i}return t}(Dt);Ua.prototype.allowedEvents_={load:"load"};Ua.NONE=qm;Ua.LOADING=V1;Ua.LOADED=Gm;Ua.ERROR=W1;var Pr={audio:{ListClass:F1,TrackClass:Vm,capitalName:"Audio"},video:{ListClass:N1,TrackClass:Wm,capitalName:"Video"},text:{ListClass:Nm,TrackClass:oo,capitalName:"Text"}};Object.keys(Pr).forEach(function(a){Pr[a].getterName=a+"Tracks",Pr[a].privateName=a+"Tracks_"});var ja={remoteText:{ListClass:Nm,TrackClass:oo,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:B1,TrackClass:Ua,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},rr=wr({},Pr,ja);ja.names=Object.keys(ja);Pr.names=Object.keys(Pr);rr.names=[].concat(ja.names).concat(Pr.names);function q1(a,t,r,i,e){e===void 0&&(e={});var n=a.textTracks();e.kind=t,r&&(e.label=r),i&&(e.language=i),e.tech=a;var s=new rr.text.TrackClass(e);return n.addTrack(s),s}var gt=function(a){we(t,a);function t(i,e){var n;return i===void 0&&(i={}),e===void 0&&(e=function(){}),i.reportTouchActivity=!1,n=a.call(this,null,i,e)||this,n.onDurationChange_=function(s){return n.onDurationChange(s)},n.trackProgress_=function(s){return n.trackProgress(s)},n.trackCurrentTime_=function(s){return n.trackCurrentTime(s)},n.stopTrackingCurrentTime_=function(s){return n.stopTrackingCurrentTime(s)},n.disposeSourceHandler_=function(s){return n.disposeSourceHandler(s)},n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),rr.names.forEach(function(s){var o=rr[s];i&&i[o.getterName]&&(n[o.privateName]=i[o.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(n["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?n.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=i.preloadTextTracks!==!1,n.autoRemoteTextTracks_=new rr.text.ListClass,n.initTrackListeners(),i.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}var r=t.prototype;return r.triggerSourceset=function(e){var n=this;this.isReady_||this.one("ready",function(){return n.setTimeout(function(){return n.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(pt(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(e){this.duration_=this.duration()},r.buffered=function(){return Mi(0,0)},r.bufferedPercent=function(){return Mm(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Pr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),a.prototype.dispose.call(this)},r.clearTracks=function(e){var n=this;e=[].concat(e),e.forEach(function(s){for(var o=n[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&n.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],n=e.length;n--;){var s=e[n];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(e){return e!==void 0&&(this.error_=new tr(e),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Mi(0,0):Mi()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var e=this;Pr.names.forEach(function(n){var s=Pr[n],o=function(){e.trigger(n+"trackchange")},l=e[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),e.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var e=this;if(!Q.WebVTT)if(Ee.body.contains(this.el())){if(!this.options_["vtt.js"]&&Js(Hp)&&Object.keys(Hp).length>0){this.trigger("vttjsloaded");return}var n=Ee.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",n.onload=function(){e.trigger("vttjsloaded")},n.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),Q.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var e=this,n=this.textTracks(),s=this.remoteTextTracks(),o=function(d){return n.addTrack(d.track)},l=function(d){return n.removeTrack(d.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return e.trigger("texttrackchange")},f=function(){u();for(var d=0;d<n.length;d++){var h=n[d];h.removeEventListener("cuechange",u),h.mode==="showing"&&h.addEventListener("cuechange",u)}};f(),n.addEventListener("change",f),n.addEventListener("addtrack",f),n.addEventListener("removetrack",f),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),n.removeEventListener("change",f),n.removeEventListener("addtrack",f),n.removeEventListener("removetrack",f);for(var c=0;c<n.length;c++){var d=n[c];d.removeEventListener("cuechange",u)}})},r.addTextTrack=function(e,n,s){if(!e)throw new Error("TextTrack kind is required but was not provided");return q1(this,e,n,s)},r.createRemoteTextTrack=function(e){var n=mt(e,{tech:this});return new ja.remoteTextEl.TrackClass(n)},r.addRemoteTextTrack=function(e,n){var s=this;e===void 0&&(e={});var o=this.createRemoteTextTrack(e);return n!==!0&&n!==!1&&(et.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),n!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(e){var n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var e=this.options_.Promise||Q.Promise;if(e)return e.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Et(e),t.techs_[e]=n,t.techs_[eu(e)]=n,e!=="Tech"&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(!!e){if(t.techs_&&t.techs_[e])return t.techs_[e];if(e=Et(e),Q&&Q.videojs&&Q.videojs[e])return et.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Q.videojs[e]}},t}(be);rr.names.forEach(function(a){var t=rr[a];gt.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});gt.prototype.featuresVolumeControl=!0;gt.prototype.featuresMuteControl=!0;gt.prototype.featuresFullscreenResize=!1;gt.prototype.featuresPlaybackRate=!1;gt.prototype.featuresProgressEvents=!1;gt.prototype.featuresSourceset=!1;gt.prototype.featuresTimeupdateEvents=!1;gt.prototype.featuresNativeTextTracks=!1;gt.withSourceHandlers=function(a){a.registerSourceHandler=function(r,i){var e=a.sourceHandlers;e||(e=a.sourceHandlers=[]),i===void 0&&(i=e.length),e.splice(i,0,r)},a.canPlayType=function(r){for(var i=a.sourceHandlers||[],e,n=0;n<i.length;n++)if(e=i[n].canPlayType(r),e)return e;return""},a.selectSourceHandler=function(r,i){for(var e=a.sourceHandlers||[],n,s=0;s<e.length;s++)if(n=e[s].canHandleSource(r,i),n)return e[s];return null},a.canPlaySource=function(r,i){var e=a.selectSourceHandler(r,i);return e?e.canHandleSource(r,i):""};var t=["seekable","seeking","duration"];t.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},a.prototype),a.prototype.setSource=function(r){var i=a.selectSourceHandler(r,this.options_);i||(a.nativeSourceHandler?i=a.nativeSourceHandler:et.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==a.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},a.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};be.registerComponent("Tech",gt);gt.registerTech("Tech",gt);gt.defaultTechOrder_=[];var Fi={},ed={},ru={};function G1(a,t){Fi[a]=Fi[a]||[],Fi[a].push(t)}function $1(a,t,r){a.setTimeout(function(){return Ni(t,Fi[t.type],r,a)},1)}function K1(a,t){a.forEach(function(r){return r.setTech&&r.setTech(t)})}function X1(a,t,r){return a.reduceRight(td(r),t[r]())}function Y1(a,t,r,i){return t[r](a.reduce(td(r),i))}function $m(a,t,r,i){i===void 0&&(i=null);var e="call"+Et(r),n=a.reduce(td(e),i),s=n===ru,o=s?null:t[r](n);return Z1(a,r,o,s),o}var Q1={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},J1={setCurrentTime:1,setMuted:1,setVolume:1},Km={play:1,pause:1};function td(a){return function(t,r){return t===ru?ru:r[a]?r[a](t):t}}function Z1(a,t,r,i){for(var e=a.length-1;e>=0;e--){var n=a[e];n[t]&&n[t](i,r)}}function eS(a){ed[a.id()]=null}function tS(a,t){var r=ed[a.id()],i=null;if(r==null)return i=t(a),ed[a.id()]=[[t,i]],i;for(var e=0;e<r.length;e++){var n=r[e],s=n[0],o=n[1];s===t&&(i=o)}return i===null&&(i=t(a),r.push([t,i])),i}function Ni(a,t,r,i,e,n){a===void 0&&(a={}),t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n=!1);var s=t,o=s[0],l=s.slice(1);if(typeof o=="string")Ni(a,Fi[o],r,i,e,n);else if(o){var u=tS(i,o);if(!u.setSource)return e.push(u),Ni(a,l,r,i,e,n);u.setSource(Tt({},a),function(f,c){if(f)return Ni(a,l,r,i,e,n);e.push(u),Ni(c,a.type===c.type?l:Fi[c.type],r,i,e,n)})}else l.length?Ni(a,l,r,i,e,n):n?r(a,e):Ni(a,Fi["*"],r,i,e,!0)}var rS={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},nu=function(t){t===void 0&&(t="");var r=Zf(t),i=rS[r.toLowerCase()];return i||""},nS=function(t,r){if(!r)return"";if(t.cache_.source.src===r&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var e=t.$$("source"),n=0;n<e.length;n++){var s=e[n];if(s.type&&s.src&&s.src===r)return s.type}return nu(r)},iS=function a(t){if(Array.isArray(t)){var r=[];t.forEach(function(i){i=a(i),Array.isArray(i)?r=r.concat(i):vn(i)&&r.push(i)}),t=r}else typeof t=="string"&&t.trim()?t=[Xm({src:t})]:vn(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Xm(t)]:t=[];return t};function Xm(a){if(!a.type){var t=nu(a.src);t&&(a.type=t)}return a}var aS=function(a){we(t,a);function t(r,i,e){var n,s=mt({createEl:!1},i);if(n=a.call(this,r,s,e)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var u=Et(l[o]),f=gt.getTech(u);if(u||(f=be.getComponent(u)),f&&f.isSupported()){r.loadTech_(u);break}}else r.src(i.playerOptions.sources);return n}return t}(be);be.registerComponent("MediaLoader",aS);var iu=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.handleMouseOver_=function(s){return n.handleMouseOver(s)},n.handleMouseOut_=function(s){return n.handleMouseOut(s)},n.handleClick_=function(s){return n.handleClick(s)},n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.emitTapEvents(),n.enable(),n}var r=t.prototype;return r.createEl=function(e,n,s){e===void 0&&(e="div"),n===void 0&&(n={}),s===void 0&&(s={}),n=Tt({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&et.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),s=Tt({role:"button"},s),this.tabIndex_=n.tabIndex;var o=ut(e,n,s);return o.appendChild(ut("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,a.prototype.dispose.call(this)},r.createControlTextEl=function(e){return this.controlTextEl_=ut("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},r.controlText=function(e,n){if(n===void 0&&(n=this.el()),e===void 0)return this.controlText_||"Need Text";var s=this.localize(e);this.controlText_=e,Ii(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+a.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(e){Qe.isEventKey(e,"Space")||Qe.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,e)},t}(be);be.registerComponent("ClickableComponent",iu);var sS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update(),n.update_=function(s){return n.update(s)},i.on("posterchange",n.update_),n}var r=t.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),a.prototype.dispose.call(this)},r.createEl=function(){var e=ut("div",{className:"vjs-poster",tabIndex:-1});return e},r.update=function(e){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},r.setSrc=function(e){var n="";e&&(n='url("'+e+'")'),this.el_.style.backgroundImage=n},r.handleClick=function(e){if(!!this.player_.controls()){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((to||eo)&&n)&&this.player_.tech(!0).focus(),this.player_.paused()?Zr(this.player_.play()):this.player_.pause()}},t}(iu);be.registerComponent("PosterImage",sS);var Ar="#222",Ym="#ccc",oS={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function rd(a,t){var r;if(a.length===4)r=a[1]+a[1]+a[2]+a[2]+a[3]+a[3];else if(a.length===7)r=a.slice(1);else throw new Error("Invalid color code provided, "+a+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function nd(a,t,r){try{a.style[t]=r}catch{return}}var lS=function(a){we(t,a);function t(i,e,n){var s;s=a.call(this,i,e,n)||this;var o=function(u){return s.updateDisplay(u)};return i.on("loadstart",function(l){return s.toggleDisplay(l)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(l){return s.preselectTrack(l)}),i.ready(pt($e(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),Q.addEventListener("orientationchange",o),i.on("dispose",function(){return Q.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var r=t.prototype;return r.preselectTrack=function(){for(var e={captions:1,subtitles:1},n=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,f=0;f<n.length;f++){var c=n[f];s&&s.enabled&&s.language&&s.language===c.language&&c.kind in e?c.kind===s.kind?u=c:u||(u=c):s&&!s.enabled?(u=null,o=null,l=null):c.default&&(c.kind==="descriptions"&&!o?o=c:c.kind in e&&!l&&(l=c))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof Q.WebVTT=="function"&&Q.WebVTT.processCues(Q,[],this.el_)},r.updateDisplay=function(){var e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){for(var s=[],o=0;o<e.length;++o){var l=e[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,f=null,c=e.length;c--;){var d=e[c];d.mode==="showing"&&(d.kind==="descriptions"?u=d:f=d)}f?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(f)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),s=e.activeCues,o=s.length;o--;){var l=s[o];if(!!l){var u=l.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&nd(u.firstChild,"color",rd(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&nd(u.firstChild,"backgroundColor",rd(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?nd(u,"backgroundColor",rd(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Ar+", 2px 2px 4px "+Ar+", 2px 2px 5px "+Ar:n.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Ar+", 2px 2px "+Ar+", 3px 3px "+Ar:n.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+Ym+", 0 1px "+Ym+", -1px -1px "+Ar+", 0 -1px "+Ar:n.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Ar+", 0 0 4px "+Ar+", 0 0 4px "+Ar+", 0 0 4px "+Ar)),n.fontPercent&&n.fontPercent!==1){var f=Q.parseFloat(u.style.fontSize);u.style.fontSize=f*n.fontPercent+"px",u.style.height="auto",u.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=oS[n.fontFamily])}}},r.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),!(typeof Q.WebVTT!="function"||e.every(function(h){return!h.activeCues}))){for(var n=[],s=0;s<e.length;++s)for(var o=e[s],l=0;l<o.activeCues.length;++l)n.push(o.activeCues[l]);Q.WebVTT.processCues(Q,n,this.el_);for(var u=0;u<e.length;++u){for(var f=e[u],c=0;c<f.activeCues.length;++c){var d=f.activeCues[c].displayState;_n(d,"vjs-text-track-cue"),_n(d,"vjs-text-track-cue-"+(f.language?f.language:u)),f.language&&La(d,"lang",f.language)}this.player_.textTrackSettings&&this.updateDisplayState(f)}}},t}(be);be.registerComponent("TextTrackDisplay",lS);var uS=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),s=ut("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),o=a.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},t}(be);be.registerComponent("LoadingSpinner",uS);var Br=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(e,n,s){n===void 0&&(n={}),s===void 0&&(s={}),e="button",n=Tt({className:this.buildCSSClass()},n),s=Tt({type:"button"},s);var o=ut(e,n,s);return o.appendChild(ut("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(e,n){n===void 0&&(n={});var s=this.constructor.name;return et.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),be.prototype.addChild.call(this,e,n)},r.enable=function(){a.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){a.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(e){if(Qe.isEventKey(e,"Space")||Qe.isEventKey(e,"Enter")){e.stopPropagation();return}a.prototype.handleKeyDown.call(this,e)},t}(iu);be.registerComponent("Button",Br);var Qm=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.mouseused_=!1,n.on("mousedown",function(s){return n.handleMouseDown(s)}),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(e){var n=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Zr(n),this.player_.tech(!0)&&!((to||eo)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};so(n)?n.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(e){this.mouseused_=!1,a.prototype.handleKeyDown.call(this,e)},r.handleMouseDown=function(e){this.mouseused_=!0},t}(Br);Qm.prototype.controlText_="Play Video";be.registerComponent("BigPlayButton",Qm);var cS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.controlText(e&&e.controlText||n.localize("Close")),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(e){Qe.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,e)},t}(Br);be.registerComponent("CloseButton",cS);var Jm=function(a){we(t,a);function t(i,e){var n;return e===void 0&&(e={}),n=a.call(this,i,e)||this,e.replay=e.replay===void 0||e.replay,n.on(i,"play",function(s){return n.handlePlay(s)}),n.on(i,"pause",function(s){return n.handlePause(s)}),e.replay&&n.on(i,"ended",function(s){return n.handleEnded(s)}),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.player_.paused()?Zr(this.player_.play()):this.player_.pause()},r.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},r.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(e){var n=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return n.handleSeeked(s)})},t}(Br);Jm.prototype.controlText_="Play";be.registerComponent("PlayToggle",Jm);var Zm=function(t,r){t=t<0?0:t;var i=Math.floor(t%60),e=Math.floor(t/60%60),n=Math.floor(t/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(t)||t===1/0)&&(n=e=i="-"),n=n>0||o>0?n+":":"",e=((n||s>=10)&&e<10?"0"+e:e)+":",i=i<10?"0"+i:i,n+e+i},id=Zm;function fS(a){id=a}function dS(){id=Zm}function Ha(a,t){return t===void 0&&(t=a),id(a,t)}var za=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on(i,["timeupdate","ended"],function(s){return n.updateContent(s)}),n.updateTextNode_(),n}var r=t.prototype;return r.createEl=function(){var e=this.buildCSSClass(),n=a.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),s=ut("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return n.appendChild(s),this.contentEl_=ut("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},r.dispose=function(){this.contentEl_=null,this.textNode_=null,a.prototype.dispose.call(this)},r.updateTextNode_=function(e){var n=this;e===void 0&&(e=0),e=Ha(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!n.contentEl_){var s=n.textNode_;s&&n.contentEl_.firstChild!==s&&(s=null,et.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),n.textNode_=Ee.createTextNode(n.formattedTime_),!!n.textNode_&&(s?n.contentEl_.replaceChild(n.textNode_,s):n.contentEl_.appendChild(n.textNode_))}}))},r.updateContent=function(e){},t}(be);za.prototype.labelText_="Time";za.prototype.controlText_="Time";be.registerComponent("TimeDisplay",za);var ad=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(e){var n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)},t}(za);ad.prototype.labelText_="Current Time";ad.prototype.controlText_="Current Time";be.registerComponent("CurrentTimeDisplay",ad);var sd=function(a){we(t,a);function t(i,e){var n;n=a.call(this,i,e)||this;var s=function(l){return n.updateContent(l)};return n.on(i,"durationchange",s),n.on(i,"loadstart",s),n.on(i,"loadedmetadata",s),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(e){var n=this.player_.duration();this.updateTextNode_(n)},t}(za);sd.prototype.labelText_="Duration";sd.prototype.controlText_="Duration";be.registerComponent("DurationDisplay",sd);var hS=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=a.prototype.createEl.call(this,"div"),s=a.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(s),e.appendChild(n),e},t}(be);be.registerComponent("TimeDivider",hS);var od=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on(i,"durationchange",function(s){return n.updateContent(s)}),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var e=a.prototype.createEl.call(this);return e.insertBefore(ut("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},r.updateContent=function(e){if(typeof this.player_.duration()=="number"){var n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}},t}(za);od.prototype.labelText_="Remaining Time";od.prototype.controlText_="Remaining Time";be.registerComponent("RemainingTimeDisplay",od);var pS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.updateShowing(),n.on(n.player(),"durationchange",function(s){return n.updateShowing(s)}),n}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ut("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ut("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Ee.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},r.dispose=function(){this.contentEl_=null,a.prototype.dispose.call(this)},r.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(be);be.registerComponent("LiveDisplay",pS);var ev=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(s){return n.updateLiveEdgeStatus(s)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ut("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,a.prototype.dispose.call(this)},t}(Br);ev.prototype.controlText_="Seek to live, currently playing live";be.registerComponent("SeekToLive",ev);var au=function(t,r,i){return t=Number(t),Math.min(i,Math.max(r,isNaN(t)?r:t))},ld=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.handleMouseDown_=function(s){return n.handleMouseDown(s)},n.handleMouseUp_=function(s){return n.handleMouseUp(s)},n.handleKeyDown_=function(s){return n.handleKeyDown(s)},n.handleClick_=function(s){return n.handleClick(s)},n.handleMouseMove_=function(s){return n.handleMouseMove(s)},n.update_=function(s){return n.update(s)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}var r=t.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(!!this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n.className=n.className+" vjs-slider",n=Tt({tabIndex:0},n),s=Tt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),a.prototype.createEl.call(this,e,n,s)},r.handleMouseDown=function(e){var n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!xn&&e.preventDefault(),ym(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e)},r.handleMouseMove=function(e){},r.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;xm(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var e=this;if(!(!this.el_||!this.bar)){var n=this.getProgress();return n===this.progress_||(this.progress_=n,this.requestNamedAnimationFrame("Slider#update",function(){var s=e.vertical()?"height":"width";e.bar.el().style[s]=(n*100).toFixed(2)+"%"})),n}},r.getProgress=function(){return Number(au(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(e){var n=Kl(this.el_,e);return this.vertical()?n.y:n.x},r.handleKeyDown=function(e){Qe.isEventKey(e,"Left")||Qe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Qe.isEventKey(e,"Right")||Qe.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):a.prototype.handleKeyDown.call(this,e)},r.handleClick=function(e){e.stopPropagation(),e.preventDefault()},r.vertical=function(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(be);be.registerComponent("Slider",ld);var ud=function(t,r){return au(t/r*100,0,100).toFixed(2)+"%"},gS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.partEls_=[],n.on(i,"progress",function(s){return n.update(s)}),n}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=ut("span",{className:"vjs-control-text"}),s=ut("span",{textContent:this.localize("Loaded")}),o=Ee.createTextNode(": ");return this.percentageEl_=ut("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(s),n.appendChild(o),n.appendChild(this.percentageEl_),e},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,a.prototype.dispose.call(this)},r.update=function(e){var n=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=n.player_.liveTracker,o=n.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():n.player_.duration(),u=n.player_.bufferedEnd(),f=n.partEls_,c=ud(u,l);n.percent_!==c&&(n.el_.style.width=c,Ii(n.percentageEl_,c),n.percent_=c);for(var d=0;d<o.length;d++){var h=o.start(d),p=o.end(d),g=f[d];g||(g=n.el_.appendChild(ut()),f[d]=g),!(g.dataset.start===h&&g.dataset.end===p)&&(g.dataset.start=h,g.dataset.end=p,g.style.left=ud(h,u),g.style.width=ud(p-h,u))}for(var v=f.length;v>o.length;v--)n.el_.removeChild(f[v-1]);f.length=o.length})},t}(be);be.registerComponent("LoadProgressBar",gS);var mS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update=Tn(pt($e(n),n.update),Nr),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(e,n,s){var o=no(this.el_),l=Ra(this.player_.el()),u=e.width*n;if(!(!l||!o)){var f=e.left-l.left+u,c=e.width-u+(l.right-e.right),d=o.width/2;f<d?d+=d-f:c<d&&(d=c),d<0?d=0:d>o.width&&(d=o.width),d=Math.round(d),this.el_.style.right="-"+d+"px",this.write(s)}},r.write=function(e){Ii(this.el_,e)},r.updateTime=function(e,n,s,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,f=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var c=l.player_.liveTracker.liveWindow(),d=c-n*c;u=(d<1?"":"-")+Ha(d,c)}else u=Ha(s,f);l.update(e,n,u),o&&o()})},t}(be);be.registerComponent("TimeTooltip",mS);var cd=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update=Tn(pt($e(n),n.update),Nr),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(e,n){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(e,n,o)}},t}(be);cd.prototype.options_={children:[]};!ur&&!yn&&cd.prototype.options_.children.push("timeTooltip");be.registerComponent("PlayProgressBar",cd);var tv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update=Tn(pt($e(n),n.update),Nr),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,n){var s=this,o=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,o,function(){s.el_.style.left=e.width*n+"px"})},t}(be);tv.prototype.options_={children:["timeTooltip"]};be.registerComponent("MouseTimeDisplay",tv);var su=5,rv=12,fd=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.setEventHandlers_(),n}var r=t.prototype;return r.setEventHandlers_=function(){var e=this;this.update_=pt(this,this.update),this.update=Tn(this.update_,Nr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(n){return e.enableInterval_(n)},this.disableIntervalHandler_=function(n){return e.disableInterval_(n)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ee&&"visibilityState"in Ee&&this.on(Ee,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(e){Ee.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Nr))},r.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(e){var n=this;if(Ee.visibilityState!=="hidden"){var s=a.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),l=n.player_.liveTracker,u=n.player_.duration();l&&l.isLive()&&(u=n.player_.liveTracker.liveCurrentTime()),n.percent_!==s&&(n.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),n.percent_=s),(n.currentTime_!==o||n.duration_!==u)&&(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Ha(o,u),Ha(u,u)],"{1} of {2}")),n.currentTime_=o,n.duration_=u),n.bar&&n.bar.update(Ra(n.el()),n.getProgress())}),s}},r.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var e=this.getCurrentTime_(),n,s=this.player_.liveTracker;return s&&s.isLive()?(n=(e-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n},r.handleMouseDown=function(e){!io(e)||(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),a.prototype.handleMouseDown.call(this,e))},r.handleMouseMove=function(e){if(!!io(e)){var n,s=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())n=s*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(s>=.99){o.seekToLiveEdge();return}var l=o.seekableStart(),u=o.liveCurrentTime();if(n=l+s*o.liveWindow(),n>=u&&(n=u),n<=l&&(n=l+.1),n===1/0)return}this.userSeek_(n)}},r.enable=function(){a.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.show()},r.disable=function(){a.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.hide()},r.handleMouseUp=function(e){a.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Zr(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+su)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-su)},r.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(e){var n=this.player_.liveTracker;if(Qe.isEventKey(e,"Space")||Qe.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Qe.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Qe.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Qe(e))){e.preventDefault(),e.stopPropagation();var s=(Qe.codes[Qe(e)]-Qe.codes["0"])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else Qe.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-su*rv)):Qe.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+su*rv)):a.prototype.handleKeyDown.call(this,e)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ee&&"visibilityState"in Ee&&this.off(Ee,"visibilitychange",this.toggleVisibility_),a.prototype.dispose.call(this)},t}(ld);fd.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ur&&!yn&&fd.prototype.options_.children.splice(1,0,"mouseTimeDisplay");be.registerComponent("SeekBar",fd);var nv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.handleMouseMove=Tn(pt($e(n),n.handleMouseMove),Nr),n.throttledHandleMouseSeek=Tn(pt($e(n),n.handleMouseSeek),Nr),n.handleMouseUpHandler_=function(s){return n.handleMouseUp(s)},n.handleMouseDownHandler_=function(s){return n.handleMouseDown(s)},n.enable(),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(e){var n=this.getChild("seekBar");if(!!n){var s=n.getChild("playProgressBar"),o=n.getChild("mouseTimeDisplay");if(!(!s&&!o)){var l=n.el(),u=no(l),f=Kl(l,e).x;f=au(f,0,1),o&&o.update(u,f),s&&s.update(u,n.getProgress())}}},r.handleMouseSeek=function(e){var n=this.getChild("seekBar");n&&n.handleMouseMove(e)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(n){return n.disable&&n.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Zr(this.player_.play())}},r.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(e){var n=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(be);nv.prototype.options_={children:["seekBar"]};be.registerComponent("ProgressControl",nv);var iv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return n.handlePictureInPictureChange(s)}),n.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return n.handlePictureInPictureEnabledChange(s)}),n.disable(),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+a.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){Ee.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Br);iv.prototype.controlText_="Picture-in-Picture";be.registerComponent("PictureInPictureToggle",iv);var av=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on(i,"fullscreenchange",function(s){return n.handleFullscreenChange(s)}),Ee[i.fsApi_.fullscreenEnabled]===!1&&n.disable(),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+a.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Br);av.prototype.controlText_="Fullscreen";be.registerComponent("FullscreenToggle",av);var vS=function(t,r){r.tech_&&!r.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},yS=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},t}(be);be.registerComponent("VolumeLevel",yS);var xS=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update=Tn(pt($e(n),n.update),Nr),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(e,n,s,o){if(!s){var l=Ra(this.el_),u=Ra(this.player_.el()),f=e.width*n;if(!u||!l)return;var c=e.left-u.left+f,d=e.width-f+(u.right-e.right),h=l.width/2;c<h?h+=h-c:d<h&&(h=d),h<0?h=0:h>l.width&&(h=l.width),this.el_.style.right="-"+h+"px"}this.write(o+"%")},r.write=function(e){Ii(this.el_,e)},r.updateVolume=function(e,n,s,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(e,n,s,o.toFixed(0)),l&&l()})},t}(be);be.registerComponent("VolumeLevelTooltip",xS);var sv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.update=Tn(pt($e(n),n.update),Nr),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,n,s){var o=this,l=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,s,l,function(){s?o.el_.style.bottom=e.height*n+"px":o.el_.style.left=e.width*n+"px"})},t}(be);sv.prototype.options_={children:["volumeLevelTooltip"]};be.registerComponent("MouseVolumeLevelDisplay",sv);var ou=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on("slideractive",function(s){return n.updateLastVolume_(s)}),n.on(i,"volumechange",function(s){return n.updateARIAAttributes(s)}),i.ready(function(){return n.updateARIAAttributes()}),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(e){!io(e)||a.prototype.handleMouseDown.call(this,e)},r.handleMouseMove=function(e){var n=this.getChild("mouseVolumeLevelDisplay");if(n){var s=this.el(),o=Ra(s),l=this.vertical(),u=Kl(s,e);u=l?u.y:u.x,u=au(u,0,1),n.update(o,u,l)}!io(e)||(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(e){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var e=this,n=this.player_.volume();this.one("sliderinactive",function(){e.player_.volume()===0&&e.player_.lastVolume_(n)})},t}(ld);ou.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ur&&!yn&&ou.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");ou.prototype.playerEvent="volumechange";be.registerComponent("VolumeBar",ou);var ov=function(a){we(t,a);function t(i,e){var n;return e===void 0&&(e={}),e.vertical=e.vertical||!1,(typeof e.volumeBar=="undefined"||Js(e.volumeBar))&&(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),n=a.call(this,i,e)||this,vS($e(n),i),n.throttledHandleMouseMove=Tn(pt($e(n),n.handleMouseMove),Nr),n.handleMouseUpHandler_=function(s){return n.handleMouseUp(s)},n.on("mousedown",function(s){return n.handleMouseDown(s)}),n.on("touchstart",function(s){return n.handleMouseDown(s)}),n.on("mousemove",function(s){return n.handleMouseMove(s)}),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}var r=t.prototype;return r.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},r.handleMouseDown=function(e){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(be);ov.prototype.options_={children:["volumeBar"]};be.registerComponent("VolumeControl",ov);var _S=function(t,r){r.tech_&&!r.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(r,"loadstart",function(){r.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},lv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,_S($e(n),i),n.on(i,["loadstart","volumechange"],function(s){return n.update(s)}),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)},r.handleClick=function(e){var n=this.player_.volume(),s=this.player_.lastVolume_();if(n===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(e){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var e=this.player_.volume(),n=3;ur&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?n=0:e<.33?n=1:e<.67&&(n=2);for(var s=0;s<4;s++)ro(this.el_,"vjs-vol-"+s);_n(this.el_,"vjs-vol-"+n)},r.updateControlText_=function(){var e=this.player_.muted()||this.player_.volume()===0,n=e?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},t}(Br);lv.prototype.controlText_="Mute";be.registerComponent("MuteToggle",lv);var uv=function(a){we(t,a);function t(i,e){var n;return e===void 0&&(e={}),typeof e.inline!="undefined"?e.inline=e.inline:e.inline=!0,(typeof e.volumeControl=="undefined"||Js(e.volumeControl))&&(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),n=a.call(this,i,e)||this,n.handleKeyPressHandler_=function(s){return n.handleKeyPress(s)},n.on(i,["loadstart"],function(s){return n.volumePanelState_(s)}),n.on(n.muteToggle,"keyup",function(s){return n.handleKeyPress(s)}),n.on(n.volumeControl,"keyup",function(s){return n.handleVolumeControlKeyUp(s)}),n.on("keydown",function(s){return n.handleKeyPress(s)}),n.on("mouseover",function(s){return n.handleMouseOver(s)}),n.on("mouseout",function(s){return n.handleMouseOut(s)}),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}var r=t.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},r.dispose=function(){this.handleMouseOut(),a.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(e){Qe.isEventKey(e,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(e){this.addClass("vjs-hover"),vr(Ee,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(e){this.removeClass("vjs-hover"),Gt(Ee,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(e){Qe.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(be);uv.prototype.options_={children:["muteToggle","volumeControl"]};be.registerComponent("VolumePanel",uv);var cv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,e&&(n.menuButton_=e.menuButton),n.focusedChild_=-1,n.on("keydown",function(s){return n.handleKeyDown(s)}),n.boundHandleBlur_=function(s){return n.handleBlur(s)},n.boundHandleTapClick_=function(s){return n.handleTapClick(s)},n}var r=t.prototype;return r.addEventListenerForItem=function(e){e instanceof be&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(e){e instanceof be&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),a.prototype.removeChild.call(this,e)},r.addItem=function(e){var n=this.addChild(e);n&&this.addEventListenerForItem(n)},r.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=ut(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=a.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),vr(n,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),n},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,a.prototype.dispose.call(this)},r.handleBlur=function(e){var n=e.relatedTarget||Ee.activeElement;if(!this.children().some(function(o){return o.el()===n})){var s=this.menuButton_;s&&s.buttonPressed_&&n!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var n=this.children();if(!Array.isArray(n))return;var s=n.filter(function(o){return o.el()===e.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(e){Qe.isEventKey(e,"Left")||Qe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Qe.isEventKey(e,"Right")||Qe.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},r.stepForward=function(){var e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)},r.stepBack=function(){var e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)},r.focus=function(e){e===void 0&&(e=0);var n=this.children().slice(),s=n.length&&n[0].hasClass("vjs-menu-title");s&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())},t}(be);be.registerComponent("Menu",cv);var dd=function(a){we(t,a);function t(i,e){var n;e===void 0&&(e={}),n=a.call(this,i,e)||this,n.menuButton_=new Br(i,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Br.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+s,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var o=function(u){return n.handleClick(u)};return n.handleMenuKeyUp_=function(l){return n.handleMenuKeyUp(l)},n.on(n.menuButton_,"tap",o),n.on(n.menuButton_,"click",o),n.on(n.menuButton_,"keydown",function(l){return n.handleKeyDown(l)}),n.on(n.menuButton_,"mouseenter",function(){n.addClass("vjs-hover"),n.menu.show(),vr(Ee,"keyup",n.handleMenuKeyUp_)}),n.on("mouseleave",function(l){return n.handleMouseLeave(l)}),n.on("keydown",function(l){return n.handleSubmenuKeyDown(l)}),n}var r=t.prototype;return r.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var e=new cv(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var n=ut("li",{className:"vjs-menu-title",textContent:Et(this.options_.title),tabIndex:-1}),s=new be(this.player_,{el:n});e.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)e.addItem(this.items[o]);return e},r.createItems=function(){},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";var n=Br.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+n+" "+a.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+a.prototype.buildCSSClass.call(this)},r.controlText=function(e,n){return n===void 0&&(n=this.menuButton_.el()),this.menuButton_.controlText(e,n)},r.dispose=function(){this.handleMouseLeave(),a.prototype.dispose.call(this)},r.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Gt(Ee,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(e){Qe.isEventKey(e,"Esc")||Qe.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Qe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Qe.isEventKey(e,"Up")||Qe.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(e){(Qe.isEventKey(e,"Esc")||Qe.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},r.handleSubmenuKeyDown=function(e){(Qe.isEventKey(e,"Esc")||Qe.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Qe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ur&&hm())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(be);be.registerComponent("MenuButton",dd);var hd=function(a){we(t,a);function t(r,i){var e,n=i.tracks;if(e=a.call(this,r,i)||this,e.items.length<=1&&e.hide(),!n)return $e(e);var s=pt($e(e),e.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),e.player_.on("ready",s),e.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)}),e}return t}(dd);be.registerComponent("TrackButton",hd);var bS=["Tab","Esc","Up","Down","Right","Left"],lo=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.selectable=e.selectable,n.isSelected_=e.selected||!1,n.multiSelectable=e.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}var r=t.prototype;return r.createEl=function(e,n,s){this.nonIconControl=!0;var o=a.prototype.createEl.call(this,"li",Tt({className:"vjs-menu-item",tabIndex:-1},n),s);return o.replaceChild(ut("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(e){bS.some(function(n){return Qe.isEventKey(e,n)})||a.prototype.handleKeyDown.call(this,e)},r.handleClick=function(e){this.selected(!0)},r.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(iu);be.registerComponent("MenuItem",lo);var uo=function(a){we(t,a);function t(i,e){var n,s=e.track,o=i.textTracks();e.label=s.label||s.language||"Unknown",e.selected=s.mode==="showing",n=a.call(this,i,e)||this,n.track=s,n.kinds=(e.kinds||[e.kind||n.track.kind]).filter(Boolean);var l=function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];n.handleTracksChange.apply($e(n),h)},u=function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];n.handleSelectedLanguageChange.apply($e(n),h)};if(i.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),n.on("dispose",function(){i.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var f;n.on(["tap","click"],function(){if(typeof Q.Event!="object")try{f=new Q.Event("change")}catch{}f||(f=Ee.createEvent("Event"),f.initEvent("change",!0,!0)),o.dispatchEvent(f)})}return n.handleTracksChange(),n}var r=t.prototype;return r.handleClick=function(e){var n=this.track,s=this.player_.textTracks();if(a.prototype.handleClick.call(this,e),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===n?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(e){var n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)},r.handleSelectedLanguageChange=function(e){if(this.track.mode==="showing"){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,a.prototype.dispose.call(this)},t}(lo);be.registerComponent("TextTrackMenuItem",uo);var fv=function(a){we(t,a);function t(i,e){return e.track={player:i,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,a.call(this,i,e)||this}var r=t.prototype;return r.handleTracksChange=function(e){for(var n=this.player().textTracks(),s=!0,o=0,l=n.length;o<l;o++){var u=n[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(e){for(var n=this.player().textTracks(),s=!0,o=0,l=n.length;o<l;o++){var u=n[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(uo);be.registerComponent("OffTextTrackMenuItem",fv);var Va=function(a){we(t,a);function t(i,e){return e===void 0&&(e={}),e.tracks=i.textTracks(),a.call(this,i,e)||this}var r=t.prototype;return r.createItems=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=uo);var s;this.label_&&(s=this.label_+" off"),e.push(new fv(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var f=new n(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});f.addClass("vjs-"+u.kind+"-menu-item"),e.push(f)}}return e},t}(hd);be.registerComponent("TextTrackButton",Va);var dv=function(a){we(t,a);function t(i,e){var n,s=e.track,o=e.cue,l=i.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=o.text,e.selected=o.startTime<=l&&l<o.endTime,n=a.call(this,i,e)||this,n.track=s,n.cue=o,s.addEventListener("cuechange",pt($e(n),n.update)),n}var r=t.prototype;return r.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(e){var n=this.cue,s=this.player_.currentTime();this.selected(n.startTime<=s&&s<n.endTime)},t}(lo);be.registerComponent("ChaptersTrackMenuItem",dv);var pd=function(a){we(t,a);function t(i,e,n){return a.call(this,i,e,n)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildWrapperCSSClass.call(this)},r.update=function(e){(!this.track_||e&&(e.type==="addtrack"||e.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),a.prototype.update.call(this)},r.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],n=e.length-1;n>=0;n--){var s=e[n];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Et(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),a.prototype.createMenu.call(this)},r.createItems=function(){var e=[];if(!this.track_)return e;var n=this.track_.cues;if(!n)return e;for(var s=0,o=n.length;s<o;s++){var l=n[s],u=new dv(this.player_,{track:this.track_,cue:l});e.push(u)}return e},t}(Va);pd.prototype.kind_="chapters";pd.prototype.controlText_="Chapters";be.registerComponent("ChaptersButton",pd);var gd=function(a){we(t,a);function t(i,e,n){var s;s=a.call(this,i,e,n)||this;var o=i.textTracks(),l=pt($e(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=t.prototype;return r.handleTracksChange=function(e){for(var n=this.player().textTracks(),s=!1,o=0,l=n.length;o<l;o++){var u=n[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},t}(Va);gd.prototype.kind_="descriptions";gd.prototype.controlText_="Descriptions";be.registerComponent("DescriptionsButton",gd);var md=function(a){we(t,a);function t(i,e,n){return a.call(this,i,e,n)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildWrapperCSSClass.call(this)},t}(Va);md.prototype.kind_="subtitles";md.prototype.controlText_="Subtitles";be.registerComponent("SubtitlesButton",md);var vd=function(a){we(t,a);function t(i,e){var n;return e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",n=a.call(this,i,e)||this,n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+e.kind+" settings dialog"),n}var r=t.prototype;return r.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(uo);be.registerComponent("CaptionSettingsMenuItem",vd);var yd=function(a){we(t,a);function t(i,e,n){return a.call(this,i,e,n)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new vd(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),a.prototype.createItems.call(this,e)},t}(Va);yd.prototype.kind_="captions";yd.prototype.controlText_="Captions";be.registerComponent("CaptionsButton",yd);var hv=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(e,n,s){var o=a.prototype.createEl.call(this,e,n,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(ut("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ut("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},t}(uo);be.registerComponent("SubsCapsMenuItem",hv);var xd=function(a){we(t,a);function t(i,e){var n;return e===void 0&&(e={}),n=a.call(this,i,e)||this,n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(Et(n.label_)),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new vd(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=a.prototype.createItems.call(this,e,hv),e},t}(Va);xd.prototype.kinds_=["captions","subtitles"];xd.prototype.controlText_="Subtitles";be.registerComponent("SubsCapsButton",xd);var pv=function(a){we(t,a);function t(i,e){var n,s=e.track,o=i.audioTracks();e.label=s.label||s.language||"Unknown",e.selected=s.enabled,n=a.call(this,i,e)||this,n.track=s,n.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var f=arguments.length,c=new Array(f),d=0;d<f;d++)c[d]=arguments[d];n.handleTracksChange.apply($e(n),c)};return o.addEventListener("change",l),n.on("dispose",function(){o.removeEventListener("change",l)}),n}var r=t.prototype;return r.createEl=function(e,n,s){var o=a.prototype.createEl.call(this,e,n,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(a.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),o},r.handleClick=function(e){a.prototype.handleClick.call(this,e),this.track.enabled=!0},r.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(lo);be.registerComponent("AudioTrackMenuItem",pv);var gv=function(a){we(t,a);function t(i,e){return e===void 0&&(e={}),e.tracks=i.audioTracks(),a.call(this,i,e)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(e){e===void 0&&(e=[]),this.hideThreshold_=1;for(var n=this.player_.audioTracks(),s=0;s<n.length;s++){var o=n[s];e.push(new pv(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return e},t}(hd);gv.prototype.controlText_="Audio Track";be.registerComponent("AudioTrackButton",gv);var _d=function(a){we(t,a);function t(i,e){var n,s=e.rate,o=parseFloat(s,10);return e.label=s,e.selected=o===i.playbackRate(),e.selectable=!0,e.multiSelectable=!1,n=a.call(this,i,e)||this,n.label=s,n.rate=o,n.on(i,"ratechange",function(l){return n.update(l)}),n}var r=t.prototype;return r.handleClick=function(e){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(lo);_d.prototype.contentElType="button";be.registerComponent("PlaybackRateMenuItem",_d);var mv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(i,"loadstart",function(s){return n.updateVisibility(s)}),n.on(i,"ratechange",function(s){return n.updateLabel(s)}),n.on(i,"playbackrateschange",function(s){return n.handlePlaybackRateschange(s)}),n}var r=t.prototype;return r.createEl=function(){var e=a.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ut("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},r.dispose=function(){this.labelEl_=null,a.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var e=this.playbackRates(),n=[],s=e.length-1;s>=0;s--)n.push(new _d(this.player(),{rate:e[s]+"x"}));return n},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(e){for(var n=this.player().playbackRate(),s=this.playbackRates(),o=s[0],l=0;l<s.length;l++)if(s[l]>n){o=s[l];break}this.player().playbackRate(o)},r.handlePlaybackRateschange=function(e){this.update()},r.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(dd);mv.prototype.controlText_="Playback Rate";be.registerComponent("PlaybackRateMenuButton",mv);var vv=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+a.prototype.buildCSSClass.call(this)},r.createEl=function(e,n,s){return e===void 0&&(e="div"),n===void 0&&(n={}),s===void 0&&(s={}),n.className||(n.className=this.buildCSSClass()),a.prototype.createEl.call(this,e,n,s)},t}(be);be.registerComponent("Spacer",vv);var TS=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+a.prototype.buildCSSClass.call(this)},r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},t}(vv);be.registerComponent("CustomControlSpacer",TS);var lu=function(a){we(t,a);function t(){return a.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(be);lu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Ee&&lu.prototype.options_.children.splice(lu.prototype.options_.children.length-1,0,"pictureInPictureToggle");be.registerComponent("ControlBar",lu);var yv=function(a){we(t,a);function t(i,e){var n;return n=a.call(this,i,e)||this,n.on(i,"error",function(s){return n.open(s)}),n}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+a.prototype.buildCSSClass.call(this)},r.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Na);yv.prototype.options_=wr({},Na.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});be.registerComponent("ErrorDisplay",yv);var bd="vjs-text-track-settings",xv=["#000","Black"],_v=["#00F","Blue"],bv=["#0FF","Cyan"],Tv=["#0F0","Green"],Sv=["#F0F","Magenta"],Ev=["#F00","Red"],Cv=["#FFF","White"],kv=["#FF0","Yellow"],Td=["1","Opaque"],Sd=["0.5","Semi-Transparent"],wv=["0","Transparent"],Bi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[xv,Cv,Ev,Tv,_v,kv,Sv,bv]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Td,Sd,wv]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Cv,xv,Ev,Tv,_v,kv,Sv,bv]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Td,Sd]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[wv,Sd,Td]}};Bi.windowColor.options=Bi.backgroundColor.options;function Pv(a,t){if(t&&(a=t(a)),a&&a!=="none")return a}function SS(a,t){var r=a.options[a.options.selectedIndex].value;return Pv(r,t)}function ES(a,t,r){if(!!t){for(var i=0;i<a.options.length;i++)if(Pv(a.options[i].value,r)===t){a.selectedIndex=i;break}}}var CS=function(a){we(t,a);function t(i,e){var n;return e.temporary=!1,n=a.call(this,i,e)||this,n.updateDisplay=n.updateDisplay.bind($e(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=ut("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),e.persistTextTrackSettings===void 0&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),Aa(Bi,function(s){n.on(n.$(s.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}var r=t.prototype;return r.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},r.createElSelect_=function(e,n,s){var o=this;n===void 0&&(n=""),s===void 0&&(s="label");var l=Bi[e],u=l.id.replace("%s",this.id_),f=[n,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+f+'">'].concat(l.options.map(function(c){var d=u+"-"+c[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+c[0]+'" ','aria-labelledby="'+f+" "+d+'">',o.localize(c[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return ut("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return ut("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var e=this.localize("restore all settings to the default values");return ut("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var e=this;return h1(Bi,function(n,s,o){var l=SS(e.$(s.selector),s.parser);return l!==void 0&&(n[o]=l),n},{})},r.setValues=function(e){var n=this;Aa(Bi,function(s,o){ES(n.$(s.selector),e[o],s.parser)})},r.setDefaults=function(){var e=this;Aa(Bi,function(n){var s=n.hasOwnProperty("default")?n.default:0;e.$(n.selector).selectedIndex=s})},r.restoreSettings=function(){var e;try{e=JSON.parse(Q.localStorage.getItem(bd))}catch(n){et.warn(n)}e&&this.setValues(e)},r.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Q.localStorage.setItem(bd,JSON.stringify(e)):Q.localStorage.removeItem(bd)}catch(n){et.warn(n)}}},r.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,n=e&&e.subsCapsButton,s=e&&e.captionsButton;n?n.focus():s&&s.focus()},t}(Na);be.registerComponent("TextTrackSettings",CS);var kS=function(a){we(t,a);function t(i,e){var n,s=e.ResizeObserver||Q.ResizeObserver;e.ResizeObserver===null&&(s=!1);var o=mt({createEl:!s,reportTouchActivity:!1},e);return n=a.call(this,i,o)||this,n.ResizeObserver=e.ResizeObserver||Q.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=E1(function(){n.resizeHandler()},100,!1,$e(n)),s?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(i.el())):(n.loadListener_=function(){if(!(!n.el_||!n.el_.contentWindow)){var l=n.debouncedHandler_,u=n.unloadListener_=function(){Gt(this,"resize",l),Gt(this,"unload",u),u=null};vr(n.el_.contentWindow,"unload",u),vr(n.el_.contentWindow,"resize",l)}},n.one("load",n.loadListener_)),n}var r=t.prototype;return r.createEl=function(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,a.prototype.dispose.call(this)},t}(be);be.registerComponent("ResizeManager",kS);var wS={trackingThreshold:20,liveTolerance:15},PS=function(a){we(t,a);function t(i,e){var n,s=mt(wS,e,{createEl:!1});return n=a.call(this,i,s)||this,n.handleVisibilityChange_=function(o){return n.handleVisibilityChange(o)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(o){return n.handlePlay(o)},n.handleFirstTimeupdate_=function(o){return n.handleFirstTimeupdate(o)},n.handleSeeked_=function(o){return n.handleSeeked(o)},n.seekToLiveEdge_=function(o){return n.seekToLiveEdge(o)},n.reset_(),n.on(n.player_,"durationchange",function(o){return n.handleDurationchange(o)}),n.one(n.player_,"canplay",function(){return n.toggleTracking()}),to&&"hidden"in Ee&&"visibilityState"in Ee&&n.on(Ee,"visibilitychange",n.handleVisibilityChange_),n}var r=t.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Ee.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(!(!e||!e.length)){var n=Number(Q.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Nr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var e=this.player_.seekable(),n=[],s=e?e.length:0;s--;)n.push(e.end(s));return n.length?n.sort()[n.length-1]:1/0},r.seekableStart=function(){for(var e=this.player_.seekable(),n=[],s=e?e.length:0;s--;)n.push(e.start(s));return n.length?n.sort()[0]:0},r.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(Ee,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),a.prototype.dispose.call(this)},t}(be);be.registerComponent("LiveTracker",PS);var Ed=function(t){var r=t.el();if(r.hasAttribute("src"))return t.triggerSourceset(r.src),!0;var i=t.$$("source"),e=[],n="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&e.indexOf(o)===-1&&e.push(o)}return e.length?(e.length===1&&(n=e[0]),t.triggerSourceset(n),!0):!1},AS=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var r=Ee.createElement(this.nodeName.toLowerCase());r.innerHTML=t;for(var i=Ee.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",Q.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Av=function(t,r){for(var i={},e=0;e<t.length&&(i=Object.getOwnPropertyDescriptor(t[e],r),!(i&&i.set&&i.get));e++);return i.enumerable=!0,i.configurable=!0,i},OS=function(t){return Av([t.el(),Q.HTMLMediaElement.prototype,Q.Element.prototype,AS],"innerHTML")},Ov=function(t){var r=t.el();if(!r.resetSourceWatch_){var i={},e=OS(t),n=function(o){return function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var c=o.apply(r,u);return Ed(t),c}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!r[s]||(i[s]=r[s],r[s]=n(i[s]))}),Object.defineProperty(r,"innerHTML",mt(e,{set:n(e.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",e)},t.one("sourceset",r.resetSourceWatch_)}},DS=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?jm(Q.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return Q.Element.prototype.setAttribute.call(this,"src",t),t}}),IS=function(t){return Av([t.el(),Q.HTMLMediaElement.prototype,DS],"src")},LS=function(t){if(!!t.featuresSourceset){var r=t.el();if(!r.resetSourceset_){var i=IS(t),e=r.setAttribute,n=r.load;Object.defineProperty(r,"src",mt(i,{set:function(o){var l=i.set.call(r,o);return t.triggerSourceset(r.src),l}})),r.setAttribute=function(s,o){var l=e.call(r,s,o);return/src/i.test(s)&&t.triggerSourceset(r.src),l},r.load=function(){var s=n.call(r);return Ed(t)||(t.triggerSourceset(""),Ov(t)),s},r.currentSrc?t.triggerSourceset(r.currentSrc):Ed(t)||Ov(t),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=n,r.setAttribute=e,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Cd=function(t,r,i,e){e===void 0&&(e=!0);var n=function(l){return Object.defineProperty(t,r,{value:l,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var l=i();return n(l),l}};return e&&(s.set=n),Object.defineProperty(t,r,s)},Fe=function(a){we(t,a);function t(i,e){var n;n=a.call(this,i,e)||this;var s=i.source,o=!1;if(s&&(n.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?n.setSource(s):n.handleLateInit_(n.el_),i.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var l=n.el_.childNodes,u=l.length,f=[];u--;){var c=l[u],d=c.nodeName.toLowerCase();d==="track"&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),!o&&!n.el_.hasAttribute("crossorigin")&&tu(c.src)&&(o=!0)):f.push(c))}for(var h=0;h<f.length;h++)n.el_.removeChild(f[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&et.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),n.restoreMetadataTracksInIOSNativePlayer_(),(Oa||Rf||om)&&i.nativeControlsForTouch===!0&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}var r=t.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,a.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){LS(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),n,s=function(){n=[];for(var u=0;u<e.length;u++){var f=e[u];f.kind==="metadata"&&n.push({track:f,storedMode:f.mode})}};s(),e.addEventListener("change",s),this.on("dispose",function(){return e.removeEventListener("change",s)});var o=function l(){for(var u=0;u<n.length;u++){var f=n[u];f.track.mode==="disabled"&&f.track.mode!==f.storedMode&&(f.track.mode=f.storedMode)}e.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",s),e.removeEventListener("change",o),e.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",s),e.addEventListener("change",s),e.removeEventListener("change",o)})},r.overrideNative_=function(e,n){var s=this;if(n===this["featuresNative"+e+"Tracks"]){var o=e.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+e+"Tracks"]=!n,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},r.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},r.proxyNativeTracksForType_=function(e){var n=this,s=Pr[e],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(d){var h={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(h),e==="text"&&n[ja.remoteText.getterName]().trigger(h)},addtrack:function(d){l.addTrack(d.track)},removetrack:function(d){l.removeTrack(d.track)}},f=function(){for(var d=[],h=0;h<l.length;h++){for(var p=!1,g=0;g<o.length;g++)if(o[g]===l[h]){p=!0;break}p||d.push(l[h])}for(;d.length;)l.removeTrack(d.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(c){var d=u[c];o.addEventListener(c,d),n.on("dispose",function(h){return o.removeEventListener(c,d)})}),this.on("loadstart",f),this.on("dispose",function(c){return n.off("loadstart",f)})}},r.proxyNativeTracks_=function(){var e=this;Pr.names.forEach(function(n){e.proxyNativeTracksForType_(n)})},r.createEl=function(){var e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=Ee.createElement("video");var s=this.options_.tag&&bn(this.options_.tag),o=mt({},s);(!Oa||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,mm(e,Tt(o,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&La(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var f=l[u],c=this.options_[f];typeof c!="undefined"&&(c?La(e,f,f):$l(e,f),e[f]=c)}return e},r.handleLateInit_=function(e){if(!(e.networkState===0||e.networkState===3)){if(e.readyState===0){var n=!1,s=function(){n=!0};this.on("loadstart",s);var o=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),n||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),e.readyState>=2&&l.push("loadeddata"),e.readyState>=3&&l.push("canplay"),e.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(e){this.isScrubbing_=e},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Gl?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){et(n,"Video is not ready. (Video.js)")}},r.duration=function(){var e=this;if(this.el_.duration===1/0&&yn&&xn&&this.el_.currentTime===0){var n=function s(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",s))};return this.on("timeupdate",n),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){e.off("webkitbeginfullscreen",s),e.off("webkitendfullscreen",n)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var e=Q.navigator&&Q.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},r.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Zr(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(e){if(e===void 0)return this.el_.src;this.setSrc(e)},r.reset=function(){t.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(e){this.el_.controls=!!e},r.addTextTrack=function(e,n,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,s):a.prototype.addTextTrack.call(this,e,n,s)},r.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return a.prototype.createRemoteTextTrack.call(this,e);var n=Ee.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},r.addRemoteTextTrack=function(e,n){var s=a.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(e){if(a.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),s=n.length;s--;)(e===n[s]||e===n[s].track)&&this.el().removeChild(n[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var e={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Q.performance&&typeof Q.performance.now=="function"?e.creationTime=Q.performance.now():Q.performance&&Q.performance.timing&&typeof Q.performance.timing.navigationStart=="number"&&(e.creationTime=Q.Date.now()-Q.performance.timing.navigationStart),e},t}(gt);Cd(Fe,"TEST_VID",function(){if(!!Da()){var a=Ee.createElement("video"),t=Ee.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",a.appendChild(t),a}});Fe.isSupported=function(){try{Fe.TEST_VID.volume=.5}catch{return!1}return!!(Fe.TEST_VID&&Fe.TEST_VID.canPlayType)};Fe.canPlayType=function(a){return Fe.TEST_VID.canPlayType(a)};Fe.canPlaySource=function(a,t){return Fe.canPlayType(a.type)};Fe.canControlVolume=function(){try{var a=Fe.TEST_VID.volume;return Fe.TEST_VID.volume=a/2+.1,a!==Fe.TEST_VID.volume}catch{return!1}};Fe.canMuteVolume=function(){try{var a=Fe.TEST_VID.muted;return Fe.TEST_VID.muted=!a,Fe.TEST_VID.muted?La(Fe.TEST_VID,"muted","muted"):$l(Fe.TEST_VID,"muted","muted"),a!==Fe.TEST_VID.muted}catch{return!1}};Fe.canControlPlaybackRate=function(){if(yn&&xn&&um<58)return!1;try{var a=Fe.TEST_VID.playbackRate;return Fe.TEST_VID.playbackRate=a/2+.1,a!==Fe.TEST_VID.playbackRate}catch{return!1}};Fe.canOverrideAttributes=function(){try{var a=function(){};Object.defineProperty(Ee.createElement("video"),"src",{get:a,set:a}),Object.defineProperty(Ee.createElement("audio"),"src",{get:a,set:a}),Object.defineProperty(Ee.createElement("video"),"innerHTML",{get:a,set:a}),Object.defineProperty(Ee.createElement("audio"),"innerHTML",{get:a,set:a})}catch{return!1}return!0};Fe.supportsNativeTextTracks=function(){return Gl||ur&&xn};Fe.supportsNativeVideoTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.videoTracks)};Fe.supportsNativeAudioTracks=function(){return!!(Fe.TEST_VID&&Fe.TEST_VID.audioTracks)};Fe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(a){var t=a[0],r=a[1];Cd(Fe.prototype,t,function(){return Fe[r]()},!0)});Fe.prototype.movingMediaElementInDOM=!ur;Fe.prototype.featuresFullscreenResize=!0;Fe.prototype.featuresProgressEvents=!0;Fe.prototype.featuresTimeupdateEvents=!0;var uu;Fe.patchCanPlayType=function(){Df>=4&&!lm&&!xn&&(uu=Fe.TEST_VID&&Fe.TEST_VID.constructor.prototype.canPlayType,Fe.TEST_VID.constructor.prototype.canPlayType=function(a){var t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return a&&t.test(a)?"maybe":uu.call(this,a)})};Fe.unpatchCanPlayType=function(){var a=Fe.TEST_VID.constructor.prototype.canPlayType;return uu&&(Fe.TEST_VID.constructor.prototype.canPlayType=uu),a};Fe.patchCanPlayType();Fe.disposeMediaElement=function(a){if(!!a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),typeof a.load=="function"&&function(){try{a.load()}catch{}}()}};Fe.resetMediaElement=function(a){if(!!a){for(var t=a.querySelectorAll("source"),r=t.length;r--;)a.removeChild(t[r]);a.removeAttribute("src"),typeof a.load=="function"&&function(){try{a.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(a){Fe.prototype[a]=function(){return this.el_[a]||this.el_.hasAttribute(a)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(a){Fe.prototype["set"+Et(a)]=function(t){this.el_[a]=t,t?this.el_.setAttribute(a,a):this.el_.removeAttribute(a)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(a){Fe.prototype[a]=function(){return this.el_[a]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(a){Fe.prototype["set"+Et(a)]=function(t){this.el_[a]=t}});["pause","load","play"].forEach(function(a){Fe.prototype[a]=function(){return this.el_[a]()}});gt.withSourceHandlers(Fe);Fe.nativeSourceHandler={};Fe.nativeSourceHandler.canPlayType=function(a){try{return Fe.TEST_VID.canPlayType(a)}catch{return""}};Fe.nativeSourceHandler.canHandleSource=function(a,t){if(a.type)return Fe.nativeSourceHandler.canPlayType(a.type);if(a.src){var r=Zf(a.src);return Fe.nativeSourceHandler.canPlayType("video/"+r)}return""};Fe.nativeSourceHandler.handleSource=function(a,t,r){t.setSrc(a.src)};Fe.nativeSourceHandler.dispose=function(){};Fe.registerSourceHandler(Fe.nativeSourceHandler);gt.registerTech("Html5",Fe);var Dv=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],kd={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wd=["tiny","xsmall","small","medium","large","xlarge","huge"],cu={};wd.forEach(function(a){var t=a.charAt(0)==="x"?"x-"+a.substring(1):a;cu[a]="vjs-layout-"+t});var RS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},kt=function(a){we(t,a);function t(i,e,n){var s;if(i.id=i.id||e.id||"vjs_video_"+Qn(),e=Tt(t.getTagSettings(i),e),e.initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(e.language=o.getAttribute("lang"))}else for(var l=i;l&&l.nodeType===1;){if(bn(l).hasOwnProperty("lang")){e.language=l.getAttribute("lang");break}l=l.parentNode}if(s=a.call(this,null,e,n)||this,s.boundDocumentFullscreenChange_=function(d){return s.documentFullscreenChange_(d)},s.boundFullWindowOnEscKey_=function(d){return s.fullWindowOnEscKey(d)},s.boundUpdateStyleEl_=function(d){return s.updateStyleEl_(d)},s.boundApplyInitTime_=function(d){return s.applyInitTime_(d)},s.boundUpdateCurrentBreakpoint_=function(d){return s.updateCurrentBreakpoint_(d)},s.boundHandleTechClick_=function(d){return s.handleTechClick_(d)},s.boundHandleTechDoubleClick_=function(d){return s.handleTechDoubleClick_(d)},s.boundHandleTechTouchStart_=function(d){return s.handleTechTouchStart_(d)},s.boundHandleTechTouchMove_=function(d){return s.handleTechTouchMove_(d)},s.boundHandleTechTouchEnd_=function(d){return s.handleTechTouchEnd_(d)},s.boundHandleTechTap_=function(d){return s.handleTechTap_(d)},s.isFullscreen_=!1,s.log=nm(s.id_),s.fsApi_=zl,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&bn(i),s.language(s.options_.language),e.languages){var u={};Object.getOwnPropertyNames(e.languages).forEach(function(d){u[d.toLowerCase()]=e.languages[d]}),s.languages_=u}else s.languages_=t.prototype.options_.languages;s.resetCache_(),s.poster_=e.poster||"",s.controls_=!!e.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(d){if(typeof s[d]!="function")throw new Error('plugin "'+d+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Wf($e(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(vr(Ee,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var f=mt(s.options_);e.plugins&&Object.keys(e.plugins).forEach(function(d){s[d](e.plugins[d])}),e.debug&&s.debug(!0),s.options_.playerOptions=f,s.middleware_=[],s.playbackRates(e.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Oa&&s.addClass("vjs-touch-enabled"),ur||s.addClass("vjs-workinghover"),t.players[s.id_]=$e(s);var c=Zg.split(".")[0];return s.addClass("vjs-v"+c),s.userActive(!0),s.reportUserActivity(),s.one("play",function(d){return s.listenForUserActivity_(d)}),s.on("stageclick",function(d){return s.handleStageClick_(d)}),s.on("keydown",function(d){return s.handleKeyDown(d)}),s.on("languagechange",function(d){return s.handleLanguagechange(d)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}var r=t.prototype;return r.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),Gt(Ee,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Gt(Ee,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),eS(this),rr.names.forEach(function(n){var s=rr[n],o=e[s.getterName]();o&&o.off&&o.off()}),a.prototype.dispose.call(this)},r.createEl=function(){var e=this.tag,n,s=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?n=this.el_=e.parentNode:o||(n=this.el_=a.prototype.createEl.call(this,"div"));var l=bn(e);if(o){for(n=this.el_=e,e=this.tag=Ee.createElement("video");n.children.length;)e.appendChild(n.firstChild);Li(n,"video-js")||_n(n,"video-js"),n.appendChild(e),s=this.playerElIngest_=n,Object.keys(n).forEach(function(p){try{e[p]=n[p]}catch{}})}if(e.setAttribute("tabindex","-1"),l.tabindex="-1",(to||xn&&cm)&&(e.setAttribute("role","application"),l.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(p){o&&p==="class"||n.setAttribute(p,l[p]),o&&e.setAttribute(p,l[p])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=km("vjs-styles-dimensions");var u=Yn(".vjs-styles-defaults"),f=Yn("head");f.insertBefore(this.styleEl_,u?u.nextSibling:f.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=e.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);_n(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!s&&e.parentNode.insertBefore(n,e),Mf(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n},r.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");if(e!=="anonymous"&&e!=="use-credentials"){et.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"');return}this.techCall_("setCrossOrigin",e)},r.width=function(e){return this.dimension("width",e)},r.height=function(e){return this.dimension("height",e)},r.dimension=function(e,n){var s=e+"_";if(n===void 0)return this[s]||0;if(n===""||n==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(n);if(isNaN(o)){et.error('Improper value "'+n+'" supplied for for '+e);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(e){var n=this;if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Sn(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),C1(this,function(){n.on(["playerreset","resize"],n.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(Q.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e=typeof this.width_=="number"?this.width_:this.options_.width,n=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(e>=0&&(s.width=e),n>=0&&(s.height=n));return}var o,l,u,f;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var c=u.split(":"),d=c[1]/c[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/d:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*d,/^[^a-zA-Z]/.test(this.id())?f="dimensions-"+this.id():f=this.id()+"-dimensions",this.addClass(f),wm(this.styleEl_,`
      .`+f+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+f+`.vjs-fluid {
        padding-top: `+d*100+`%;
      }
    `)},r.loadTech_=function(e,n){var s=this;this.tech_&&this.unloadTech_();var o=Et(e),l=e.charAt(0).toLowerCase()+e.slice(1);o!=="Html5"&&this.tag&&(gt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var f={source:n,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};rr.names.forEach(function(d){var h=rr[d];f[h.getterName]=s[h.privateName]}),Tt(f,this.options_[o]),Tt(f,this.options_[l]),Tt(f,this.options_[e.toLowerCase()]),this.tag&&(f.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(f.startTime=this.cache_.currentTime);var c=gt.getTech(e);if(!c)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new c(f),this.tech_.ready(pt(this,this.handleTechReady_),!0),Fm.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Dv.forEach(function(d){s.on(s.tech_,d,function(h){return s["handleTech"+Et(d)+"_"](h)})}),Object.keys(kd).forEach(function(d){s.on(s.tech_,d,function(h){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+kd[d]+"_"].bind(s),event:h});return}s["handleTech"+kd[d]+"_"](h)})}),this.on(this.tech_,"loadstart",function(d){return s.handleTechLoadStart_(d)}),this.on(this.tech_,"sourceset",function(d){return s.handleTechSourceset_(d)}),this.on(this.tech_,"waiting",function(d){return s.handleTechWaiting_(d)}),this.on(this.tech_,"ended",function(d){return s.handleTechEnded_(d)}),this.on(this.tech_,"seeking",function(d){return s.handleTechSeeking_(d)}),this.on(this.tech_,"play",function(d){return s.handleTechPlay_(d)}),this.on(this.tech_,"firstplay",function(d){return s.handleTechFirstPlay_(d)}),this.on(this.tech_,"pause",function(d){return s.handleTechPause_(d)}),this.on(this.tech_,"durationchange",function(d){return s.handleTechDurationChange_(d)}),this.on(this.tech_,"fullscreenchange",function(d,h){return s.handleTechFullscreenChange_(d,h)}),this.on(this.tech_,"fullscreenerror",function(d,h){return s.handleTechFullscreenError_(d,h)}),this.on(this.tech_,"enterpictureinpicture",function(d){return s.handleTechEnterPictureInPicture_(d)}),this.on(this.tech_,"leavepictureinpicture",function(d){return s.handleTechLeavePictureInPicture_(d)}),this.on(this.tech_,"error",function(d){return s.handleTechError_(d)}),this.on(this.tech_,"posterchange",function(d){return s.handleTechPosterChange_(d)}),this.on(this.tech_,"textdata",function(d){return s.handleTechTextData_(d)}),this.on(this.tech_,"ratechange",function(d){return s.handleTechRateChange_(d)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Mf(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var e=this;rr.names.forEach(function(n){var s=rr[n];e[s.privateName]=e[s.getterName]()}),this.textTracksJson_=Fm.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(e){return e===void 0&&et.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(e){var n=this;if(!(!this.tech_||typeof e!="string")){var s=function(){var u=n.muted();n.muted(!0);var f=function(){n.muted(u)};n.playTerminatedQueue_.push(f);var c=n.play();if(!!so(c))return c.catch(function(d){throw f(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(d||""))})},o;if(e==="any"&&!this.muted()?(o=this.play(),so(o)&&(o=o.catch(s))):e==="muted"&&!this.muted()?o=s():o=this.play(),!!so(o))return o.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:e})})}},r.updateSourceCaches_=function(e){e===void 0&&(e="");var n=e,s="";typeof n!="string"&&(n=e.src,s=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!s&&(s=nS(this,n)),this.cache_.source=mt({},e,{src:n,type:s});for(var o=this.cache_.sources.filter(function(h){return h.src&&h.src===n}),l=[],u=this.$$("source"),f=[],c=0;c<u.length;c++){var d=bn(u[c]);l.push(d),d.src&&d.src===n&&f.push(d.src)}f.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n},r.handleTechSourceset_=function(e){var n=this;if(!this.changingSrc_){var s=function(f){return n.updateSourceCaches_(f)},o=this.currentSource().src,l=e.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),e.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var f=n.techGet("currentSrc");n.lastSource_.tech=f,n.updateSourceCaches_(f)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},r.hasStarted=function(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var n=this.currentTime(),s=function o(){n!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(et.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(e){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Zr(this.play()):this.pause())},r.handleTechDoubleClick_=function(e){if(!!this.controls_){var n=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(e.target)});n||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(e){var n=e.target.player;if(!(n&&n!==this)){var s=this.el(),o=Ee[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(e,n){n&&(n.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(n.isFullscreen))},r.handleTechFullscreenError_=function(e,n){this.trigger("fullscreenerror",n)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var e=this.tech_.error();this.error(e)},r.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(e,n){this.ready(function(){if(e in J1)return Y1(this.middleware_,this.tech_,e,n);if(e in Km)return $m(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(s){throw et(s),s}},!0)},r.techGet_=function(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Q1)return X1(this.middleware_,this.tech_,e);if(e in Km)return $m(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(et("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",n),n):n.name==="TypeError"?(et("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",n),this.tech_.isReady_=!1,n):(et(n),n)}}},r.play=function(){var e=this,n=this.options_.Promise||Q.Promise;return n?new n(function(s){e.play_(s)}):this.play_()},r.play_=function(e){var n=this;e===void 0&&(e=Zr),this.playCallbacks_.push(e);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(l){n.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(Gl||ur)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})},r.runPlayCallbacks_=function(e){var n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(s){s(e)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Mi(0,0)},r.scrubbing=function(e){if(typeof e=="undefined")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(e){if(typeof e!="undefined"){if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var e=this.techGet_("buffered");return(!e||!e.length)&&(e=Mi(0,0)),e},r.bufferedPercent=function(){return Mm(this.buffered(),this.duration())},r.bufferedEnd=function(){var e=this.buffered(),n=this.duration(),s=e.end(e.length-1);return s>n&&(s=n),s},r.volume=function(e){var n;if(e!==void 0){n=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n},r.muted=function(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1},r.defaultMuted=function(e){return e!==void 0?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(e){if(e!==void 0){var n=this.isFullscreen_;this.isFullscreen_=Boolean(e),this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(e){var n=this.options_.Promise||Q.Promise;if(n){var s=this;return new n(function(o,l){function u(){s.off("fullscreenerror",c),s.off("fullscreenchange",f)}function f(){u(),o()}function c(h,p){u(),l(p)}s.one("fullscreenchange",f),s.one("fullscreenerror",c);var d=s.requestFullscreenHelper_(e);d&&(d.then(u,u),d.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(e){var n=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(s=e)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return n.isFullscreen(!0)},function(){return n.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var e=this.options_.Promise||Q.Promise;if(e){var n=this;return new e(function(s,o){function l(){n.off("fullscreenerror",f),n.off("fullscreenchange",u)}function u(){l(),s()}function f(d,h){l(),o(h)}n.one("fullscreenchange",u),n.one("fullscreenerror",f);var c=n.exitFullscreenHelper_();c&&(c.then(l,l),c.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var n=Ee[this.fsApi_.exitFullscreen]();return n&&Zr(n.then(function(){return e.isFullscreen(!1)})),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ee.documentElement.style.overflow,vr(Ee,"keydown",this.boundFullWindowOnEscKey_),Ee.documentElement.style.overflow="hidden",_n(Ee.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(e){Qe.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Gt(Ee,"keydown",this.boundFullWindowOnEscKey_),Ee.documentElement.style.overflow=this.docOrigOverflow,ro(Ee.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Ee&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Ee)return Ee.exitPictureInPicture()},r.handleKeyDown=function(e){var n=this.options_.userActions;if(!(!n||!n.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var f=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return f.indexOf(l.type)===-1;var c=["textarea"];return c.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}},r.handleHotkeys=function(e){var n=this.options_.userActions?this.options_.userActions.hotkeys:{},s=n.fullscreenKey,o=s===void 0?function(g){return Qe.isEventKey(g,"f")}:s,l=n.muteKey,u=l===void 0?function(g){return Qe.isEventKey(g,"m")}:l,f=n.playPauseKey,c=f===void 0?function(g){return Qe.isEventKey(g,"k")||Qe.isEventKey(g,"Space")}:f;if(o.call(this,e)){e.preventDefault(),e.stopPropagation();var d=be.getComponent("FullscreenToggle");Ee[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,e)}else if(u.call(this,e)){e.preventDefault(),e.stopPropagation();var h=be.getComponent("MuteToggle");h.prototype.handleClick.call(this,e)}else if(c.call(this,e)){e.preventDefault(),e.stopPropagation();var p=be.getComponent("PlayToggle");p.prototype.handleClick.call(this,e)}},r.canPlayType=function(e){for(var n,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=gt.getTech(l);if(u||(u=be.getComponent(l)),!u){et.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(n=u.canPlayType(e),n))return n}return""},r.selectSource=function(e){var n=this,s=this.options_.techOrder.map(function(c){return[c,gt.getTech(c)]}).filter(function(c){var d=c[0],h=c[1];return h?h.isSupported():(et.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(d,h,p){var g;return d.some(function(v){return h.some(function(b){if(g=p(v,b),g)return!0})}),g},l,u=function(d){return function(h,p){return d(p,h)}},f=function(d,h){var p=d[0],g=d[1];if(g.canPlaySource(h,n.options_[p.toLowerCase()]))return{source:h,tech:p}};return this.options_.sourceOrder?l=o(e,s,u(f)):l=o(s,e,f),l||!1},r.handleSrc_=function(e,n){var s=this;if(typeof e=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=iS(e);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),$1(this,o[0],function(f,c){s.middleware_=c,n||(s.cache_.sources=o),s.updateSourceCaches_(f);var d=s.src_(f);if(d){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),s.triggerReady();return}K1(c,s.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},u=function(){s.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",u)}}},r.src=function(e){return this.handleSrc_(e,!1)},r.src_=function(e){var n=this,s=this.selectSource([e]);return s?P1(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var e=this,n=this.options_.Promise||Q.Promise;if(this.paused()||!n)this.doReset_();else{var s=this.play();Zr(s.then(function(){return e.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Sn(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,n=e.durationDisplay,s=e.remainingTimeDisplay;n&&n.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")},r.autoplay=function(e){if(e===void 0)return this.options_.autoplay||!1;var n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n=="undefined"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)},r.playsinline=function(e){return e!==void 0?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},r.loop=function(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")},r.poster=function(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(e){var n=this;if(e===void 0)return this.error_||null;if(Xn("beforeerror").forEach(function(o){var l=o(n,e);if(!(vn(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){n.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=l}),this.options_.suppressNotSupportedError&&e&&e.code===4){var s=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(e===null){this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new tr(e),this.addClass("vjs-error"),et.error("(CODE:"+this.error_.code+" "+tr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Xn("error").forEach(function(o){return o(n,n.error_)})},r.reportUserActivity=function(e){this.userActivity_=!0},r.userActive=function(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var e,n,s,o=pt(this,this.reportUserActivity),l=function(p){(p.screenX!==n||p.screenY!==s)&&(n=p.screenX,s=p.screenY,o())},u=function(){o(),this.clearInterval(e),e=this.setInterval(o,250)},f=function(p){o(),this.clearInterval(e)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",f),this.on("mouseleave",f);var c=this.getChild("controlBar");c&&!ur&&!yn&&(c.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),c.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var d;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);var h=this.options_.inactivityTimeout;h<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))}},250)},r.playbackRate=function(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_},r.addTextTrack=function(e,n,s){if(this.tech_)return this.tech_.addTextTrack(e,n,s)},r.addRemoteTextTrack=function(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)},r.removeRemoteTextTrack=function(e){e===void 0&&(e={});var n=e,s=n.track;if(s||(s=e),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Sn(this)&&this.trigger("languagechange"))},r.languages=function(){return mt(t.prototype.options_.languages,this.languages_)},r.toJSON=function(){var e=mt(this.options_),n=e.tracks;e.tracks=[];for(var s=0;s<n.length;s++){var o=n[s];o=mt(o),o.player=void 0,e.tracks[s]=o}return e},r.createModal=function(e,n){var s=this;n=n||{},n.content=e||"";var o=new Na(this,n);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var e=this.currentBreakpoint(),n=this.currentWidth(),s=0;s<wd.length;s++){var o=wd[s],l=this.breakpoints_[o];if(n<=l){if(e===o)return;e&&this.removeClass(cu[e]),this.addClass(cu[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},r.breakpoints=function(e){return e===void 0?Tt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Tt({},RS,e),this.updateCurrentBreakpoint_(),Tt(this.breakpoints_))},r.responsive=function(e){if(e===void 0)return this.responsive_;e=Boolean(e);var n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return cu[this.breakpoint_]||""},r.loadMedia=function(e,n){var s=this;if(!(!e||typeof e!="object")){this.reset(),this.cache_.media=mt(e);var o=this.cache_.media,l=o.artwork,u=o.poster,f=o.src,c=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:nu(u)}]),f&&this.src(f),u&&this.poster(u),Array.isArray(c)&&c.forEach(function(d){return s.addRemoteTextTrack(d,!1)}),this.ready(n)}},r.getMedia=function(){if(!this.cache_.media){var e=this.poster(),n=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:n,textTracks:s};return e&&(o.poster=e,o.artwork=[{src:o.poster,type:nu(o.poster)}]),o}return mt(this.cache_.media)},t.getTagSettings=function(e){var n={sources:[],tracks:[]},s=bn(e),o=s["data-setup"];if(Li(e,"vjs-fill")&&(s.fill=!0),Li(e,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=O_(o||"{}"),u=l[0],f=l[1];u&&et.error(u),Tt(s,f)}if(Tt(n,s),e.hasChildNodes())for(var c=e.childNodes,d=0,h=c.length;d<h;d++){var p=c[d],g=p.nodeName.toLowerCase();g==="source"?n.sources.push(bn(p)):g==="track"&&n.tracks.push(bn(p))}return n},r.flexNotSupported_=function(){var e=Ee.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},r.debug=function(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(e){if(e===void 0)return this.cache_.playbackRates;!Array.isArray(e)||!e.every(function(n){return typeof n=="number"})||(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(be);rr.names.forEach(function(a){var t=rr[a];kt.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});kt.prototype.crossorigin=kt.prototype.crossOrigin;kt.players={};var co=Q.navigator;kt.prototype.options_={techOrder:gt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:co&&(co.languages&&co.languages[0]||co.userLanguage||co.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(a){kt.prototype[a]=function(){return this.techGet_(a)}});Dv.forEach(function(a){kt.prototype["handleTech"+Et(a)+"_"]=function(){return this.trigger(a)}});be.registerComponent("Player",kt);var fu="plugin",Wa="activePlugins_",qa={},du=function(t){return qa.hasOwnProperty(t)},hu=function(t){return du(t)?qa[t]:void 0},Iv=function(t,r){t[Wa]=t[Wa]||{},t[Wa][r]=!0},pu=function(t,r,i){var e=(i?"before":"")+"pluginsetup";t.trigger(e,r),t.trigger(e+":"+r.name,r)},MS=function(t,r){var i=function(){pu(this,{name:t,plugin:r,instance:null},!0);var n=r.apply(this,arguments);return Iv(this,t),pu(this,{name:t,plugin:r,instance:n}),n};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i},Lv=function(t,r){return r.prototype.name=t,function(){pu(this,{name:t,plugin:r,instance:null},!0);for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];var s=Cl(r,[this].concat(e));return this[t]=function(){return s},pu(this,s.getEventHash()),s}},en=function(){function a(r){if(this.constructor===a)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),Wf(this),delete this.trigger,Lm(this,this.constructor.defaultState),Iv(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var t=a.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},t.trigger=function(i,e){return e===void 0&&(e={}),Ma(this.eventBusEl_,i,this.getEventHash(e))},t.handleStateChanged=function(i){},t.dispose=function(){var i=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Wa][i]=!1,this.player=this.state=null,e[i]=Lv(i,qa[i])},a.isBasic=function(i){var e=typeof i=="string"?hu(i):i;return typeof e=="function"&&!a.prototype.isPrototypeOf(e.prototype)},a.registerPlugin=function(i,e){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(du(i))et.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(kt.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof e!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof e+".");return qa[i]=e,i!==fu&&(a.isBasic(e)?kt.prototype[i]=MS(i,e):kt.prototype[i]=Lv(i,e)),e},a.deregisterPlugin=function(i){if(i===fu)throw new Error("Cannot de-register base plugin.");du(i)&&(delete qa[i],delete kt.prototype[i])},a.getPlugins=function(i){i===void 0&&(i=Object.keys(qa));var e;return i.forEach(function(n){var s=hu(n);s&&(e=e||{},e[n]=s)}),e},a.getPluginVersion=function(i){var e=hu(i);return e&&e.VERSION||""},a}();en.getPlugin=hu;en.BASE_PLUGIN_NAME=fu;en.registerPlugin(fu,en);kt.prototype.usingPlugin=function(a){return!!this[Wa]&&this[Wa][a]===!0};kt.prototype.hasPlugin=function(a){return!!du(a)};var FS=function(t,r){r===void 0&&(r={});var i=function(){t.apply(this,arguments)},e={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),e=r):typeof r=="function"&&(i=r),yb(i,t),t&&(i.super_=t);for(var n in e)e.hasOwnProperty(n)&&(i.prototype[n]=e[n]);return i},Rv=function(t){return t.indexOf("#")===0?t.slice(1):t};function se(a,t,r){var i=se.getPlayer(a);if(i)return t&&et.warn('Player "'+a+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var e=typeof a=="string"?Yn("#"+Rv(a)):a;if(!Ia(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!e.ownerDocument.defaultView||!e.ownerDocument.body.contains(e))&&et.warn("The element supplied is not included in the DOM"),t=t||{},Xn("beforesetup").forEach(function(s){var o=s(e,mt(t));if(!vn(o)||Array.isArray(o)){et.error("please return an object in beforesetup hooks");return}t=mt(t,o)});var n=be.getComponent("Player");return i=new n(e,t,r),Xn("setup").forEach(function(s){return s(i)}),i}se.hooks_=mn;se.hooks=Xn;se.hook=u1;se.hookOnce=c1;se.removeHook=em;if(Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Da()){var gu=Yn(".vjs-styles-defaults");if(!gu){gu=km("vjs-styles-defaults");var Pd=Yn("head");Pd&&Pd.insertBefore(gu,Pd.firstChild),wm(gu,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}Uf(1,se);se.VERSION=Zg;se.options=kt.prototype.options_;se.getPlayers=function(){return kt.players};se.getPlayer=function(a){var t=kt.players,r;if(typeof a=="string"){var i=Rv(a),e=t[i];if(e)return e;r=Yn("#"+i)}else r=a;if(Ia(r)){var n=r,s=n.player,o=n.playerId;if(s||t[o])return s||t[o]}};se.getAllPlayers=function(){return Object.keys(kt.players).map(function(a){return kt.players[a]}).filter(Boolean)};se.players=kt.players;se.getComponent=be.getComponent;se.registerComponent=function(a,t){gt.isTech(t)&&et.warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),be.registerComponent.call(be,a,t)};se.getTech=gt.getTech;se.registerTech=gt.registerTech;se.use=G1;Object.defineProperty(se,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(se.middleware,"TERMINATOR",{value:ru,writeable:!1,enumerable:!0});se.browser=m1;se.TOUCH_ENABLED=Oa;se.extend=FS;se.mergeOptions=mt;se.bind=pt;se.registerPlugin=en.registerPlugin;se.deregisterPlugin=en.deregisterPlugin;se.plugin=function(a,t){return et.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),en.registerPlugin(a,t)};se.getPlugins=en.getPlugins;se.getPlugin=en.getPlugin;se.getPluginVersion=en.getPluginVersion;se.addLanguage=function(a,t){var r;return a=(""+a).toLowerCase(),se.options.languages=mt(se.options.languages,(r={},r[a]=t,r)),se.options.languages[a]};se.log=et;se.createLogger=nm;se.createTimeRange=se.createTimeRanges=Mi;se.formatTime=Ha;se.setFormatTime=fS;se.resetFormatTime=dS;se.parseUrl=Jf;se.isCrossOrigin=tu;se.EventTarget=Dt;se.on=vr;se.one=Ql;se.off=Gt;se.trigger=Ma;se.xhr=Lp;se.TextTrack=oo;se.AudioTrack=Vm;se.VideoTrack=Wm;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(a){se[a]=function(){return et.warn("videojs."+a+"() is deprecated; use videojs.dom."+a+"() instead"),Em[a].apply(null,arguments)}});se.computedStyle=Zs;se.dom=Em;se.url=z1;se.defineLazyProperty=Cd;se.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var Ur=kl,mu=function(t,r,i){return t&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},jr=function(t){return se.log.debug?se.log.debug.bind(se,"VHS:",t+" >"):function(){}},Jn=1/30,tn=Jn*3,Mv=function(t,r){var i=[],e;if(t&&t.length)for(e=0;e<t.length;e++)r(t.start(e),t.end(e))&&i.push([t.start(e),t.end(e)]);return se.createTimeRanges(i)},Ga=function(t,r){return Mv(t,function(i,e){return i-tn<=r&&e+tn>=r})},vu=function(t,r){return Mv(t,function(i){return i-Jn>=r})},NS=function(t){if(t.length<2)return se.createTimeRanges();for(var r=[],i=1;i<t.length;i++){var e=t.end(i-1),n=t.start(i);r.push([e,n])}return se.createTimeRanges(r)},BS=function(t,r){var i=null,e=null,n=0,s=[],o=[];if(!t||!t.length||!r||!r.length)return se.createTimeRange();for(var l=t.length;l--;)s.push({time:t.start(l),type:"start"}),s.push({time:t.end(l),type:"end"});for(l=r.length;l--;)s.push({time:r.start(l),type:"start"}),s.push({time:r.end(l),type:"end"});for(s.sort(function(u,f){return u.time-f.time}),l=0;l<s.length;l++)s[l].type==="start"?(n++,n===2&&(i=s[l].time)):s[l].type==="end"&&(n--,n===1&&(e=s[l].time)),i!==null&&e!==null&&(o.push([i,e]),i=null,e=null);return se.createTimeRanges(o)},Fv=function(t){var r=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)r.push(t.start(i)+" => "+t.end(i));return r.join(", ")},US=function(t,r,i){i===void 0&&(i=1);var e=t.length?t.end(t.length-1):0;return(e-r)/i},Ui=function(t){for(var r=[],i=0;i<t.length;i++)r.push({start:t.start(i),end:t.end(i)});return r},jS=function(t,r){if(t===r)return!1;if(!t&&r||!r&&t||t.length!==r.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==r.start(i)||t.end(i)!==r.end(i))return!0;return!1},Nv=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},Ad=function(t,r){var i=0;if(!t||!t.length)return i;for(var e=0;e<t.length;e++){var n=t.start(e),s=t.end(e);if(!(r>s)){if(r>n&&r<=s){i+=s-r;continue}i+=s-n}}return i},Bv=se.createTimeRange,Od=function(t,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(e){i+=e.duration}),(r.preloadHints||[]).forEach(function(e){e.type==="PART"&&(i+=t.partTargetDuration)}),i},Dd=function(t){return(t.segments||[]).reduce(function(r,i,e){return i.parts?i.parts.forEach(function(n,s){r.push({duration:n.duration,segmentIndex:e,partIndex:s,part:n,segment:i})}):r.push({duration:i.duration,segmentIndex:e,partIndex:null,segment:i,part:null}),r},[])},Uv=function(t){var r=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return r&&r.parts||[]},jv=function(t){var r=t.preloadSegment;if(!!r){var i=r.parts,e=r.preloadHints,n=(e||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return n+=i&&i.length?i.length:0,n}},Hv=function(t,r){if(r.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;var i=Uv(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},HS=function(t,r){var i=0,e=r-t.mediaSequence,n=t.segments[e];if(n){if(typeof n.start!="undefined")return{result:n.start,precise:!0};if(typeof n.end!="undefined")return{result:n.end-n.duration,precise:!0}}for(;e--;){if(n=t.segments[e],typeof n.end!="undefined")return{result:i+n.end,precise:!0};if(i+=Od(t,n),typeof n.start!="undefined")return{result:i+n.start,precise:!0}}return{result:i,precise:!1}},zS=function(t,r){for(var i=0,e,n=r-t.mediaSequence;n<t.segments.length;n++){if(e=t.segments[n],typeof e.start!="undefined")return{result:e.start-i,precise:!0};if(i+=Od(t,e),typeof e.end!="undefined")return{result:e.end-i,precise:!0}}return{result:-1,precise:!1}},zv=function(t,r,i){if(typeof r=="undefined"&&(r=t.mediaSequence+t.segments.length),r<t.mediaSequence)return 0;var e=HS(t,r);if(e.precise)return e.result;var n=zS(t,r);return n.precise?n.result:e.result+i},Vv=function(t,r,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof r=="undefined"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return Q.Infinity}return zv(t,r,i)},fo=function(t){var r=t.defaultDuration,i=t.durationList,e=t.startIndex,n=t.endIndex,s=0;if(e>n){var o=[n,e];e=o[0],n=o[1]}if(e<0){for(var l=e;l<Math.min(0,n);l++)s+=r;e=0}for(var u=e;u<n;u++)s+=i[u].duration;return s},Wv=function(t,r,i,e){if(!t||!t.segments)return null;if(t.endList)return Vv(t);if(r===null)return null;r=r||0;var n=zv(t,t.mediaSequence+t.segments.length,r);return i&&(e=typeof e=="number"?e:Hv(null,t),n-=e),Math.max(0,n)},VS=function(t,r,i){var e=!0,n=r||0,s=Wv(t,r,e,i);return s===null?Bv():Bv(n,s)},WS=function(t){for(var r=t.playlist,i=t.currentTime,e=t.startingSegmentIndex,n=t.startingPartIndex,s=t.startTime,o=t.experimentalExactManifestTimings,l=i-s,u=Dd(r),f=0,c=0;c<u.length;c++){var d=u[c];if(e===d.segmentIndex&&!(typeof n=="number"&&typeof d.partIndex=="number"&&n!==d.partIndex)){f=c;break}}if(l<0){if(f>0)for(var h=f-1;h>=0;h--){var p=u[h];if(l+=p.duration,o){if(l<0)continue}else if(l+Jn<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:s-fo({defaultDuration:r.targetDuration,durationList:u,startIndex:f,endIndex:h})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i}}if(f<0){for(var g=f;g<0;g++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i};f=0}for(var v=f;v<u.length;v++){var b=u[v];if(l-=b.duration,o){if(l>0)continue}else if(l-Jn>=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:s+fo({defaultDuration:r.targetDuration,durationList:u,startIndex:f,endIndex:v})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:i}},qv=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Id=function(t){return t.excludeUntil&&t.excludeUntil===1/0},yu=function(t){var r=qv(t);return!t.disabled&&!r},qS=function(t){return t.disabled},GS=function(t){for(var r=0;r<t.segments.length;r++)if(t.segments[r].key)return!0;return!1},Gv=function(t,r){return r.attributes&&r.attributes[t]},$S=function(t,r,i,e){if(e===void 0&&(e=0),!Gv("BANDWIDTH",i))return NaN;var n=t*i.attributes.BANDWIDTH;return(n-e*8)/r},Ld=function(t,r){if(t.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(function(e){return yu(e)?(e.attributes.BANDWIDTH||0)<i:!1}).length===0},Rd=function(t,r){return!t&&!r||!t&&r||t&&!r?!1:!!(t===r||t.id&&r.id&&t.id===r.id||t.resolvedUri&&r.resolvedUri&&t.resolvedUri===r.resolvedUri||t.uri&&r.uri&&t.uri===r.uri)},$v=function(t,r){var i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},e=!1;for(var n in i){for(var s in i[n])if(e=r(i[n][s]),e)break;if(e)break}return!!e},ho=function(t){if(!t||!t.playlists||!t.playlists.length){var r=$v(t,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var l=t.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(c){return Kp(c)}))return"continue";var f=$v(t,function(c){return Rd(l,c)});return f?"continue":{v:!1}},e=0;e<t.playlists.length;e++){var n=i(e);if(n!=="continue"&&typeof n=="object")return n.v}return!0},cr={liveEdgeDelay:Hv,duration:Vv,seekable:VS,getMediaInfoForTime:WS,isEnabled:yu,isDisabled:qS,isBlacklisted:qv,isIncompatible:Id,playlistEnd:Wv,isAes:GS,hasAttribute:Gv,estimateSegmentRequestTime:$S,isLowestEnabledRendition:Ld,isAudioOnly:ho,playlistMatch:Rd,segmentDurationWithParts:Od},Kv=se.log,Md=function(t,r){return t+"-"+r},KS=function(t){var r=t.onwarn,i=t.oninfo,e=t.manifestString,n=t.customTagParsers,s=n===void 0?[]:n,o=t.customTagMappers,l=o===void 0?[]:o,u=t.experimentalLLHLS,f=new Cb;r&&f.on("warn",r),i&&f.on("info",i),s.forEach(function(g){return f.addParser(g)}),l.forEach(function(g){return f.addTagMapper(g)}),f.push(e),f.end();var c=f.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(g){c.hasOwnProperty(g)&&delete c[g]}),c.segments&&c.segments.forEach(function(g){["parts","preloadHints"].forEach(function(v){g.hasOwnProperty(v)&&delete g[v]})})),!c.targetDuration){var d=10;c.segments&&c.segments.length&&(d=c.segments.reduce(function(g,v){return Math.max(g,v.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+d),c.targetDuration=d}var h=Uv(c);if(h.length&&!c.partTargetDuration){var p=h.reduce(function(g,v){return Math.max(g,v.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+p),Kv.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=p}return c},po=function(t,r){!t.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!t.mediaGroups[i])for(var e in t.mediaGroups[i])for(var n in t.mediaGroups[i][e]){var s=t.mediaGroups[i][e][n];r(s,i,e,n)}})},Xv=function(t){var r=t.playlist,i=t.uri,e=t.id;r.id=e,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},XS=function(t){for(var r=t.playlists.length;r--;){var i=t.playlists[r];Xv({playlist:i,id:Md(r,i.uri)}),i.resolvedUri=Ur(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||Kv.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},YS=function(t){po(t,function(r){r.uri&&(r.resolvedUri=Ur(t.uri,r.uri))})},QS=function(t,r){var i=Md(0,r),e={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Q.location.href,resolvedUri:Q.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return e.playlists[i]=e.playlists[0],e.playlists[r]=e.playlists[0],e},Yv=function(t,r){t.uri=r;for(var i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){var e="placeholder-uri-"+i;t.playlists[i].uri=e}var n=ho(t);po(t,function(s,o,l,u){var f="placeholder-uri-"+o+"-"+l+"-"+u;if(!s.playlists||!s.playlists.length){if(n&&o==="AUDIO"&&!s.uri)for(var c=0;c<t.playlists.length;c++){var d=t.playlists[c];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l)return}s.playlists=[wr({},s)]}s.playlists.forEach(function(h,p){var g=Md(p,f);h.uri?h.resolvedUri=h.resolvedUri||Ur(t.uri,h.uri):(h.uri=p===0?f:g,h.resolvedUri=h.uri),h.id=h.id||g,h.attributes=h.attributes||{},t.playlists[h.id]=h,t.playlists[h.uri]=h})}),XS(t),YS(t)},xu=se.mergeOptions,JS=se.EventTarget,ZS=function(t,r){if(r.endList||!r.serverControl)return t;var i={};if(r.serverControl.canBlockReload){var e=r.preloadSegment,n=r.mediaSequence+r.segments.length;if(e){var s=e.parts||[],o=jv(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&n--}i._HLS_msn=n}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var l=new Q.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!i.hasOwnProperty(u)||l.searchParams.set(u,i[u])}),t=l.toString()}return t},eE=function(t,r){if(!t)return r;var i=xu(t,r);if(t.preloadHints&&!r.preloadHints&&delete i.preloadHints,t.parts&&!r.parts)delete i.parts;else if(t.parts&&r.parts)for(var e=0;e<r.parts.length;e++)t.parts&&t.parts[e]&&(i.parts[e]=xu(t.parts[e],r.parts[e]));return!t.skipped&&r.skipped&&(i.skipped=!1),t.preload&&!r.preload&&(i.preload=!1),i},tE=function(t,r,i){var e=t.slice(),n=r.slice();i=i||0;for(var s=[],o,l=0;l<n.length;l++){var u=e[l+i],f=n[l];u?(o=u.map||o,s.push(eE(u,f))):(o&&!f.map&&(f.map=o),s.push(f))}return s},Qv=function(t,r){!t.resolvedUri&&t.uri&&(t.resolvedUri=Ur(r,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ur(r,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ur(r,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ur(r,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Ur(r,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Ur(r,i.uri))})},Jv=function(t){var r=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var e=0;e<i.preloadHints.length;e++)if(i.preloadHints[e].type==="MAP")return r}i.duration=t.targetDuration,i.preload=!0,r.push(i)}return r},Zv=function(t,r){return t===r||t.segments&&r.segments&&t.segments.length===r.segments.length&&t.endList===r.endList&&t.mediaSequence===r.mediaSequence&&t.preloadSegment===r.preloadSegment},Fd=function(t,r,i){i===void 0&&(i=Zv);var e=xu(t,{}),n=e.playlists[r.id];if(!n||i(n,r))return null;r.segments=Jv(r);var s=xu(n,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,n.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=tE(n.segments,r.segments,r.mediaSequence-n.mediaSequence)}s.segments.forEach(function(u){Qv(u,s.resolvedUri)});for(var l=0;l<e.playlists.length;l++)e.playlists[l].id===r.id&&(e.playlists[l]=s);return e.playlists[r.id]=s,e.playlists[r.uri]=s,po(t,function(u,f,c,d){if(!!u.playlists)for(var h=0;h<u.playlists.length;h++)r.id===u.playlists[h].id&&(u.playlists[h]=r)}),e},Nd=function(t,r){var i=t.segments||[],e=i[i.length-1],n=e&&e.parts&&e.parts[e.parts.length-1],s=n&&n.duration||e&&e.duration;return r&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},$a=function(a){we(t,a);function t(i,e,n){var s;if(n===void 0&&(n={}),s=a.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=jr("PlaylistLoader");var o=n,l=o.withCredentials,u=l===void 0?!1:l,f=o.handleManifestRedirects,c=f===void 0?!1:f;s.src=i,s.vhs_=e,s.withCredentials=u,s.handleManifestRedirects=c;var d=e.options_;return s.customTagParsers=d&&d.customTagParsers||[],s.customTagMappers=d&&d.customTagMappers||[],s.experimentalLLHLS=d&&d.experimentalLLHLS||!1,se.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind($e(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=t.prototype;return r.handleMediaupdatetimeout_=function(){var e=this;if(this.state==="HAVE_METADATA"){var n=this.media(),s=Ur(this.master.uri,n.uri);this.experimentalLLHLS&&(s=ZS(s,n)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,l){if(!!e.request){if(o)return e.playlistRequestError(e.request,e.media(),"HAVE_METADATA");e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}})}},r.playlistRequestError=function(e,n,s){var o=n.uri,l=n.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:e.status,message:"HLS playlist request error at URL: "+o+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(e){var n=this,s=e.url,o=e.manifestString;return KS({onwarn:function(u){var f=u.message;return n.logger_("m3u8-parser warn for "+s+": "+f)},oninfo:function(u){var f=u.message;return n.logger_("m3u8-parser info for "+s+": "+f)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(e){var n=e.playlistString,s=e.playlistObject,o=e.url,l=e.id;this.request=null,this.state="HAVE_METADATA";var u=s||this.parseManifest_({url:o,manifestString:n});u.lastRequest=Date.now(),Xv({playlist:u,uri:o,id:l});var f=Fd(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,f?(this.master=f,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Nd(this.media(),!!f)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),Q.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},r.media=function(e,n){var s=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(Q.clearTimeout(this.finalRenditionTimeout),n){var o=(e.partTargetDuration||e.targetDuration)/2*1e3||5*1e3;this.finalRenditionTimeout=Q.setTimeout(this.media.bind(this,e,!1),o);return}var l=this.state,u=!this.media_||e.id!==this.media_.id,f=this.master.playlists[e.id];if(f&&f.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Nd(e,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(c,d){if(!!s.request){if(e.lastRequest=Date.now(),e.resolvedUri=mu(s.handleManifestRedirects,e.resolvedUri,d),c)return s.playlistRequestError(s.request,e,l);s.haveMetadata({playlistString:d.responseText,url:e.uri,id:e.id}),l==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(e){var n=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(e){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5*1e3;this.mediaUpdateTimeout=Q.setTimeout(function(){n.mediaUpdateTimeout=null,n.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(e){var n=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Q.setTimeout(function(){n.mediaUpdateTimeout=null,n.trigger("mediaupdatetimeout"),n.updateMediaUpdateTimeout_(e)},e))},r.start=function(){var e=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){e.setupInitialPlaylist(e.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(n,s){if(!!e.request){if(e.request=null,n)return e.error={status:s.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:s.responseText,code:2},e.state==="HAVE_NOTHING"&&(e.started=!1),e.trigger("error");e.src=mu(e.handleManifestRedirects,e.src,s);var o=e.parseManifest_({manifestString:s.responseText,url:e.src});e.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists){this.master=e,Yv(this.master,this.srcUri()),e.playlists.forEach(function(s){s.segments=Jv(s),s.segments.forEach(function(o){Qv(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var n=this.srcUri()||Q.location.href;this.master=QS(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(JS),rE=se.xhr,nE=se.mergeOptions,Bd=function(t,r,i,e){var n=t.responseType==="arraybuffer"?t.response:t.responseText;!r&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(t.timedout=!0),!r&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),e(r,t)},ey=function(){var t=function r(i,e){i=nE({timeout:45e3},i);var n=r.beforeRequest||se.Vhs.xhr.beforeRequest;if(n&&typeof n=="function"){var s=n(i);s&&(i=s)}var o=se.Vhs.xhr.original===!0?rE:se.Vhs.xhr,l=o(i,function(f,c){return Bd(l,f,c,e)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=i.uri,l.requestTime=Date.now(),l};return t.original=!0,t},iE=function(t){var r=t.offset+t.length-1,i=t.offset;return"bytes="+i+"-"+r},Ud=function(t){var r={};return t.byterange&&(r.Range=iE(t.byterange)),r},aE=function(t,r){return t.start(r)+"-"+t.end(r)},sE=function(t,r){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},oE=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ty=function(t){var r={};return Object.keys(t).forEach(function(i){var e=t[i];ArrayBuffer.isView(e)?r[i]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:r[i]=e}),r},_u=function(t){var r=t.byterange||{length:1/0,offset:0};return[r.length,r.offset,t.resolvedUri].join(",")},ry=function(t){return t.resolvedUri},ny=function(t){for(var r=Array.prototype.slice.call(t),i=16,e="",n,s,o=0;o<r.length/i;o++)n=r.slice(o*i,o*i+i).map(sE).join(""),s=r.slice(o*i,o*i+i).map(oE).join(""),e+=n+" "+s+`
`;return e},lE=function(t){var r=t.bytes;return ny(r)},uE=function(t){var r="",i;for(i=0;i<t.length;i++)r+=aE(t,i)+" ";return r},cE=Object.freeze({__proto__:null,createTransferableMessage:ty,initSegmentId:_u,segmentKeyId:ry,hexDump:ny,tagDump:lE,textRanges:uE}),iy=.25,fE=function(t,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,e=r.videoTimingInfo.transmuxedPresentationStart,n=e+i,s=t-n;return new Date(r.dateTimeObject.getTime()+s*1e3)},dE=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},hE=function(t,r){var i;try{i=new Date(t)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var e=r.segments[0];if(i<e.dateTimeObject)return null;for(var n=0;n<r.segments.length-1;n++){e=r.segments[n];var s=r.segments[n+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?dE(o.videoTimingInfo):o.duration+o.duration*iy,f=new Date(l.getTime()+u*1e3);return i>f?null:(i>l&&(e=o),{segment:e,estimatedStart:e.videoTimingInfo?e.videoTimingInfo.transmuxedPresentationStart:cr.duration(r,r.mediaSequence+r.segments.indexOf(e)),type:e.videoTimingInfo?"accurate":"estimate"})},pE=function(t,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,e,n=0;n<r.segments.length&&(e=r.segments[n],i=e.videoTimingInfo?e.videoTimingInfo.transmuxedPresentationEnd:i+e.duration,!(t<=i));n++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+s.duration*iy)return null;e=s}return{segment:e,estimatedStart:e.videoTimingInfo?e.videoTimingInfo.transmuxedPresentationStart:i-e.duration,type:e.videoTimingInfo?"accurate":"estimate"}},gE=function(t,r){var i,e;try{i=new Date(t),e=new Date(r)}catch{}var n=i.getTime(),s=e.getTime();return(s-n)/1e3},mE=function(t){if(!t.segments||t.segments.length===0)return!1;for(var r=0;r<t.segments.length;r++){var i=t.segments[r];if(!i.dateTimeObject)return!1}return!0},vE=function(t){var r=t.playlist,i=t.time,e=i===void 0?void 0:i,n=t.callback;if(!n)throw new Error("getProgramTime: callback must be provided");if(!r||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});var s=pE(e,r);if(!s)return n({message:"valid programTime was not found"});if(s.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:e},l=fE(e,s.segment);return l&&(o.programDateTime=l.toISOString()),n(null,o)},yE=function a(t){var r=t.programTime,i=t.playlist,e=t.retryCount,n=e===void 0?2:e,s=t.seekTo,o=t.pauseAfterSeek,l=o===void 0?!0:o,u=t.tech,f=t.callback;if(!f)throw new Error("seekToProgramTime: callback must be provided");if(typeof r=="undefined"||!i||!s)return f({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return f({message:"player must be playing a live stream to start buffering"});if(!mE(i))return f({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var c=hE(r,i);if(!c)return f({message:r+" was not found in the stream"});var d=c.segment,h=gE(d.dateTimeObject,r);if(c.type==="estimate"){if(n===0)return f({message:r+" is not buffered yet. Try again"});s(c.estimatedStart+h),u.one("seeked",function(){a({programTime:r,playlist:i,retryCount:n-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:f})});return}var p=d.start+h,g=function(){return f(null,u.currentTime())};u.one("seeked",g),l&&u.pause(),s(p)},jd=function(t,r){if(t.readyState===4)return r()},xE=function(t,r,i){var e=[],n,s=!1,o=function(d,h,p,g){return h.abort(),s=!0,i(d,h,p,g)},l=function(d,h){if(!s){if(d)return o(d,h,"",e);var p=h.responseText.substring(e&&e.byteLength||0,h.responseText.length);if(e=$T(e,qg(p,!0)),n=n||Ys(e),e.length<10||n&&e.length<n+2)return jd(h,function(){return o(d,h,"",e)});var g=kf(e);return g==="ts"&&e.length<188?jd(h,function(){return o(d,h,"",e)}):!g&&e.length<376?jd(h,function(){return o(d,h,"",e)}):o(null,h,g,e)}},u={uri:t,beforeSend:function(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function(h){return h.total,h.loaded,Bd(d,null,{statusCode:d.status},l)})}},f=r(u,function(c,d){return Bd(f,c,d,l)});return f},_E=se.EventTarget,ay=se.mergeOptions,sy=function(t,r){if(!Zv(t,r)||t.sidx&&r.sidx&&(t.sidx.offset!==r.sidx.offset||t.sidx.length!==r.sidx.length))return!1;if(!t.sidx&&r.sidx||t.sidx&&!r.sidx||t.segments&&!r.segments||!t.segments&&r.segments)return!1;if(!t.segments&&!r.segments)return!0;for(var i=0;i<t.segments.length;i++){var e=t.segments[i],n=r.segments[i];if(e.uri!==n.uri)return!1;if(!(!e.byterange&&!n.byterange)){var s=e.byterange,o=n.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},bE=function(t){var r=t.masterXml,i=t.srcUrl,e=t.clientOffset,n=t.sidxMapping,s=BT(r,{manifestUri:i,clientOffset:e,sidxMapping:n});return Yv(s,i),s},TE=function(t,r,i){for(var e=!0,n=ay(t,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var l=Fl(o.sidx);i&&i[l]&&i[l].sidx&&xf(o,i[l].sidx,o.sidx.resolvedUri)}var u=Fd(n,o,sy);u&&(n=u,e=!1)}return po(r,function(f,c,d,h){if(f.playlists&&f.playlists.length){var p=f.playlists[0].id,g=Fd(n,f.playlists[0],sy);g&&(n=g,n.mediaGroups[c][d][h].playlists[0]=n.playlists[p],e=!1)}}),r.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(e=!1),e?null:n},SE=function(t,r){var i=Boolean(!t.map&&!r.map),e=i||Boolean(t.map&&r.map&&t.map.byterange.offset===r.map.byterange.offset&&t.map.byterange.length===r.map.byterange.length);return e&&t.uri===r.uri&&t.byterange.offset===r.byterange.offset&&t.byterange.length===r.byterange.length},oy=function(t,r){var i={};for(var e in t){var n=t[e],s=n.sidx;if(s){var o=Fl(s);if(!r[o])break;var l=r[o].sidxInfo;SE(l,s)&&(i[o]=r[o])}}return i},EE=function(t,r){var i=oy(t.playlists,r),e=i;return po(t,function(n,s,o,l){if(n.playlists&&n.playlists.length){var u=n.playlists;e=ay(e,oy(u,r))}}),e},Hd=function(a){we(t,a);function t(i,e,n,s){var o;n===void 0&&(n={}),o=a.call(this)||this,o.masterPlaylistLoader_=s||$e(o),s||(o.isMaster_=!0);var l=n,u=l.withCredentials,f=u===void 0?!1:u,c=l.handleManifestRedirects,d=c===void 0?!1:c;if(o.vhs_=e,o.withCredentials=f,o.handleManifestRedirects=d,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=jr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=t.prototype;return r.requestErrored_=function(e,n,s){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(e,n,s){var o=this,l=e.sidx&&Fl(e.sidx);if(!e.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=Q.setTimeout(function(){return s(!1)},0);return}var u=mu(this.handleManifestRedirects,e.sidx.resolvedUri),f=function(d,h){if(!o.requestErrored_(d,h,n)){var p=o.masterPlaylistLoader_.sidxMapping_,g;try{g=HT(qe(h.response).subarray(8))}catch(v){o.requestErrored_(v,h,n);return}return p[l]={sidxInfo:e.sidx,sidx:g},xf(e,g,e.sidx.resolvedUri),s(!0)}};this.request=xE(u,this.vhs_.xhr,function(c,d,h,p){if(c)return f(c,d);if(!h||h!=="mp4")return f({status:d.status,message:"Unsupported "+(h||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},d);var g=e.sidx.byterange,v=g.offset,b=g.length;if(p.length>=b+v)return f(c,{response:p.subarray(v,v+b),status:d.status,uri:d.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Ud({byterange:e.sidx.byterange})},f)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Q.clearTimeout(this.minimumUpdatePeriodTimeout_),Q.clearTimeout(this.mediaRequest_),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},r.media=function(e){var n=this;if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof e=="string"){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var o=!this.media_||e.id!==this.media_.id;if(o&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,s,function(l){n.haveMetadata({startingState:s,playlist:e})}))},r.haveMetadata=function(e){var n=e.startingState,s=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),n==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Q.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(e){var n=this;Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(e){var o=s?s.targetDuration/2*1e3:5*1e3;this.mediaUpdateTimeout=Q.setTimeout(function(){return n.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var e=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=Q.setTimeout(function(){return e.haveMaster_()},0);return}this.requestMaster_(function(n,s){e.haveMaster_(),!e.hasPendingRequest()&&!e.media_&&e.media(e.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(e){var n=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(n.requestErrored_(s,o)){n.state==="HAVE_NOTHING"&&(n.started=!1);return}var l=o.responseText!==n.masterPlaylistLoader_.masterXml_;if(n.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?n.masterLoaded_=Date.parse(o.responseHeaders.date):n.masterLoaded_=Date.now(),n.masterPlaylistLoader_.srcUrl=mu(n.handleManifestRedirects,n.masterPlaylistLoader_.srcUrl,o),l){n.handleMaster_(),n.syncClientServerClock_(function(){return e(o,l)});return}return e(o,l)})},r.syncClientServerClock_=function(e){var n=this,s=UT(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ur(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,l){if(!!n.request){if(o)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),e();var u;s.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=n.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),n.masterPlaylistLoader_.clientOffset_=u-Date.now(),e()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var e=bE({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),n=this.masterPlaylistLoader_.master;n&&(e=TE(n,e,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=e||n;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!n||e&&e.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(e)},r.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Q.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var n=e.master&&e.master.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_("found invalid minimumUpdatePeriod of "+n+", not setting a timeout");return}this.createMUPTimeout_(n)},r.createMUPTimeout_=function(e){var n=this.masterPlaylistLoader_;n.minimumUpdatePeriodTimeout_=Q.setTimeout(function(){n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)},r.refreshXml_=function(){var e=this;this.requestMaster_(function(n,s){!s||(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=EE(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.sidxMapping_),e.addSidxSegments_(e.media(),e.state,function(o){e.refreshMedia_(e.media().id)}))})},r.refreshMedia_=function(e){var n=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[e];if(o?this.media_=s[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){n.media().endList||(n.mediaUpdateTimeout=Q.setTimeout(function(){n.trigger("mediaupdatetimeout"),u()},Nd(n.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},t}(_E),It={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},CE=function(t){for(var r=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer},ly=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},kE=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},uy=function(t){return function(){var r=kE(t),i=ly(new Worker(r));i.objURL=r;var e=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),e.call(this)},i}},cy=function(t){return"var browserWorkerPolyFill = "+ly.toString()+`;
browserWorkerPolyFill(self);
`+t},fy=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},wE=cy(fy(function(){var a=function(){this.init=function(){var m={};this.on=function(x,y){m[x]||(m[x]=[]),m[x]=m[x].concat(y)},this.off=function(x,y){var T;return m[x]?(T=m[x].indexOf(y),m[x]=m[x].slice(),m[x].splice(T,1),T>-1):!1},this.trigger=function(x){var y,T,P,O;if(y=m[x],!!y)if(arguments.length===2)for(P=y.length,T=0;T<P;++T)y[T].call(this,arguments[1]);else{for(O=[],T=arguments.length,T=1;T<arguments.length;++T)O.push(arguments[T]);for(P=y.length,T=0;T<P;++T)y[T].apply(this,O)}},this.dispose=function(){m={}}}};a.prototype.pipe=function(F){return this.on("data",function(m){F.push(m)}),this.on("done",function(m){F.flush(m)}),this.on("partialdone",function(m){F.partialFlush(m)}),this.on("endedtimeline",function(m){F.endTimeline(m)}),this.on("reset",function(m){F.reset(m)}),F},a.prototype.push=function(F){this.trigger("data",F)},a.prototype.flush=function(F){this.trigger("done",F)},a.prototype.partialFlush=function(F){this.trigger("partialdone",F)},a.prototype.endTimeline=function(F){this.trigger("endedtimeline",F)},a.prototype.reset=function(F){this.trigger("reset",F)};var t=a,r=Math.pow(2,32)-1,i,e,n,s,o,l,u,f,c,d,h,p,g,v,b,S,C,A,_,w,k,R,j,N,M,z,I,U,K,te,oe,G,q,Z,ae,Y;(function(){var F;if(j={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(F in j)j.hasOwnProperty(F)&&(j[F]=[F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2),F.charCodeAt(3)]);N=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),z=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),M=new Uint8Array([0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),U=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),K={video:I,audio:U},G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),oe=new Uint8Array([0,0,0,0,0,0,0,0]),q=new Uint8Array([0,0,0,0,0,0,0,0]),Z=q,ae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Y=q,te=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(m){var x=[],y=0,T,P,O;for(T=1;T<arguments.length;T++)x.push(arguments[T]);for(T=x.length;T--;)y+=x[T].byteLength;for(P=new Uint8Array(y+8),O=new DataView(P.buffer,P.byteOffset,P.byteLength),O.setUint32(0,P.byteLength),P.set(m,4),T=0,y=8;T<x.length;T++)P.set(x[T],y),y+=x[T].byteLength;return P},e=function(){return i(j.dinf,i(j.dref,G))},n=function(m){return i(j.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,m.audioobjecttype<<3|m.samplingfrequencyindex>>>1,m.samplingfrequencyindex<<7|m.channelcount<<3,6,1,2]))},s=function(){return i(j.ftyp,N,M,N,z)},S=function(m){return i(j.hdlr,K[m])},o=function(m){return i(j.mdat,m)},b=function(m){var x=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,m.duration>>>24&255,m.duration>>>16&255,m.duration>>>8&255,m.duration&255,85,196,0,0]);return m.samplerate&&(x[12]=m.samplerate>>>24&255,x[13]=m.samplerate>>>16&255,x[14]=m.samplerate>>>8&255,x[15]=m.samplerate&255),i(j.mdhd,x)},v=function(m){return i(j.mdia,b(m),S(m.type),u(m))},l=function(m){return i(j.mfhd,new Uint8Array([0,0,0,0,(m&4278190080)>>24,(m&16711680)>>16,(m&65280)>>8,m&255]))},u=function(m){return i(j.minf,m.type==="video"?i(j.vmhd,te):i(j.smhd,oe),e(),A(m))},f=function(m,x){for(var y=[],T=x.length;T--;)y[T]=w(x[T]);return i.apply(null,[j.moof,l(m)].concat(y))},c=function(m){for(var x=m.length,y=[];x--;)y[x]=p(m[x]);return i.apply(null,[j.moov,h(4294967295)].concat(y).concat(d(m)))},d=function(m){for(var x=m.length,y=[];x--;)y[x]=k(m[x]);return i.apply(null,[j.mvex].concat(y))},h=function(m){var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(m&4278190080)>>24,(m&16711680)>>16,(m&65280)>>8,m&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(j.mvhd,x)},C=function(m){var x=m.samples||[],y=new Uint8Array(4+x.length),T,P;for(P=0;P<x.length;P++)T=x[P].flags,y[P+4]=T.dependsOn<<4|T.isDependedOn<<2|T.hasRedundancy;return i(j.sdtp,y)},A=function(m){return i(j.stbl,_(m),i(j.stts,Y),i(j.stsc,Z),i(j.stsz,ae),i(j.stco,q))},function(){var F,m;_=function(y){return i(j.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),y.type==="video"?F(y):m(y))},F=function(y){var T=y.sps||[],P=y.pps||[],O=[],H=[],V,J;for(V=0;V<T.length;V++)O.push((T[V].byteLength&65280)>>>8),O.push(T[V].byteLength&255),O=O.concat(Array.prototype.slice.call(T[V]));for(V=0;V<P.length;V++)H.push((P[V].byteLength&65280)>>>8),H.push(P[V].byteLength&255),H=H.concat(Array.prototype.slice.call(P[V]));if(J=[j.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(y.width&65280)>>8,y.width&255,(y.height&65280)>>8,y.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(j.avcC,new Uint8Array([1,y.profileIdc,y.profileCompatibility,y.levelIdc,255].concat([T.length],O,[P.length],H))),i(j.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],y.sarRatio){var X=y.sarRatio[0],ne=y.sarRatio[1];J.push(i(j.pasp,new Uint8Array([(X&4278190080)>>24,(X&16711680)>>16,(X&65280)>>8,X&255,(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255])))}return i.apply(null,J)},m=function(y){return i(j.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(y.channelcount&65280)>>8,y.channelcount&255,(y.samplesize&65280)>>8,y.samplesize&255,0,0,0,0,(y.samplerate&65280)>>8,y.samplerate&255,0,0]),n(y))}}(),g=function(m){var x=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(m.id&4278190080)>>24,(m.id&16711680)>>16,(m.id&65280)>>8,m.id&255,0,0,0,0,(m.duration&4278190080)>>24,(m.duration&16711680)>>16,(m.duration&65280)>>8,m.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(m.width&65280)>>8,m.width&255,0,0,(m.height&65280)>>8,m.height&255,0,0]);return i(j.tkhd,x)},w=function(m){var x,y,T,P,O,H,V;return x=i(j.tfhd,new Uint8Array([0,0,0,58,(m.id&4278190080)>>24,(m.id&16711680)>>16,(m.id&65280)>>8,m.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),H=Math.floor(m.baseMediaDecodeTime/(r+1)),V=Math.floor(m.baseMediaDecodeTime%(r+1)),y=i(j.tfdt,new Uint8Array([1,0,0,0,H>>>24&255,H>>>16&255,H>>>8&255,H&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255])),O=32+20+8+16+8+8,m.type==="audio"?(T=R(m,O),i(j.traf,x,y,T)):(P=C(m),T=R(m,P.length+O),i(j.traf,x,y,T,P))},p=function(m){return m.duration=m.duration||4294967295,i(j.trak,g(m),v(m))},k=function(m){var x=new Uint8Array([0,0,0,0,(m.id&4278190080)>>24,(m.id&16711680)>>16,(m.id&65280)>>8,m.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return m.type!=="video"&&(x[x.length-1]=0),i(j.trex,x)},function(){var F,m,x;x=function(T,P){var O=0,H=0,V=0,J=0;return T.length&&(T[0].duration!==void 0&&(O=1),T[0].size!==void 0&&(H=2),T[0].flags!==void 0&&(V=4),T[0].compositionTimeOffset!==void 0&&(J=8)),[0,0,O|H|V|J,1,(T.length&4278190080)>>>24,(T.length&16711680)>>>16,(T.length&65280)>>>8,T.length&255,(P&4278190080)>>>24,(P&16711680)>>>16,(P&65280)>>>8,P&255]},m=function(T,P){var O,H,V,J,X,ne;for(J=T.samples||[],P+=8+12+16*J.length,V=x(J,P),H=new Uint8Array(V.length+J.length*16),H.set(V),O=V.length,ne=0;ne<J.length;ne++)X=J[ne],H[O++]=(X.duration&4278190080)>>>24,H[O++]=(X.duration&16711680)>>>16,H[O++]=(X.duration&65280)>>>8,H[O++]=X.duration&255,H[O++]=(X.size&4278190080)>>>24,H[O++]=(X.size&16711680)>>>16,H[O++]=(X.size&65280)>>>8,H[O++]=X.size&255,H[O++]=X.flags.isLeading<<2|X.flags.dependsOn,H[O++]=X.flags.isDependedOn<<6|X.flags.hasRedundancy<<4|X.flags.paddingValue<<1|X.flags.isNonSyncSample,H[O++]=X.flags.degradationPriority&240<<8,H[O++]=X.flags.degradationPriority&15,H[O++]=(X.compositionTimeOffset&4278190080)>>>24,H[O++]=(X.compositionTimeOffset&16711680)>>>16,H[O++]=(X.compositionTimeOffset&65280)>>>8,H[O++]=X.compositionTimeOffset&255;return i(j.trun,H)},F=function(T,P){var O,H,V,J,X,ne;for(J=T.samples||[],P+=8+12+8*J.length,V=x(J,P),O=new Uint8Array(V.length+J.length*8),O.set(V),H=V.length,ne=0;ne<J.length;ne++)X=J[ne],O[H++]=(X.duration&4278190080)>>>24,O[H++]=(X.duration&16711680)>>>16,O[H++]=(X.duration&65280)>>>8,O[H++]=X.duration&255,O[H++]=(X.size&4278190080)>>>24,O[H++]=(X.size&16711680)>>>16,O[H++]=(X.size&65280)>>>8,O[H++]=X.size&255;return i(j.trun,O)},R=function(T,P){return T.type==="audio"?F(T,P):m(T,P)}}();var ie={ftyp:s,mdat:o,moof:f,moov:c,initSegment:function(m){var x=s(),y=c(m),T;return T=new Uint8Array(x.byteLength+y.byteLength),T.set(x),T.set(y,x.byteLength),T}},he=function(m){var x,y,T=[],P=[];for(P.byteLength=0,P.nalCount=0,P.duration=0,T.byteLength=0,x=0;x<m.length;x++)y=m[x],y.nalUnitType==="access_unit_delimiter_rbsp"?(T.length&&(T.duration=y.dts-T.dts,P.byteLength+=T.byteLength,P.nalCount+=T.length,P.duration+=T.duration,P.push(T)),T=[y],T.byteLength=y.data.byteLength,T.pts=y.pts,T.dts=y.dts):(y.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(T.keyFrame=!0),T.duration=y.dts-T.dts,T.byteLength+=y.data.byteLength,T.push(y));return P.length&&(!T.duration||T.duration<=0)&&(T.duration=P[P.length-1].duration),P.byteLength+=T.byteLength,P.nalCount+=T.length,P.duration+=T.duration,P.push(T),P},Te=function(m){var x,y,T=[],P=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=m[0].pts,T.dts=m[0].dts,P.byteLength=0,P.nalCount=0,P.duration=0,P.pts=m[0].pts,P.dts=m[0].dts,x=0;x<m.length;x++)y=m[x],y.keyFrame?(T.length&&(P.push(T),P.byteLength+=T.byteLength,P.nalCount+=T.nalCount,P.duration+=T.duration),T=[y],T.nalCount=y.length,T.byteLength=y.byteLength,T.pts=y.pts,T.dts=y.dts,T.duration=y.duration):(T.duration+=y.duration,T.nalCount+=y.length,T.byteLength+=y.byteLength,T.push(y));return P.length&&T.duration<=0&&(T.duration=P[P.length-1].duration),P.byteLength+=T.byteLength,P.nalCount+=T.nalCount,P.duration+=T.duration,P.push(T),P},Pe=function(m){var x;return!m[0][0].keyFrame&&m.length>1&&(x=m.shift(),m.byteLength-=x.byteLength,m.nalCount-=x.nalCount,m[0][0].dts=x.dts,m[0][0].pts=x.pts,m[0][0].duration+=x.duration),m},Ie=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},st=function(m,x){var y=Ie();return y.dataOffset=x,y.compositionTimeOffset=m.pts-m.dts,y.duration=m.duration,y.size=4*m.length,y.size+=m.byteLength,m.keyFrame&&(y.flags.dependsOn=2,y.flags.isNonSyncSample=0),y},nt=function(m,x){var y,T,P,O,H,V=x||0,J=[];for(y=0;y<m.length;y++)for(O=m[y],T=0;T<O.length;T++)H=O[T],P=st(H,V),V+=P.size,J.push(P);return J},Ke=function(m){var x,y,T,P,O,H,V=0,J=m.byteLength,X=m.nalCount,ne=J+4*X,ge=new Uint8Array(ne),Ae=new DataView(ge.buffer);for(x=0;x<m.length;x++)for(P=m[x],y=0;y<P.length;y++)for(O=P[y],T=0;T<O.length;T++)H=O[T],Ae.setUint32(V,H.data.byteLength),V+=4,ge.set(H.data,V),V+=H.data.byteLength;return ge},Je=function(m,x){var y,T=x||0,P=[];return y=st(m,T),P.push(y),P},it=function(m){var x,y,T=0,P=m.byteLength,O=m.length,H=P+4*O,V=new Uint8Array(H),J=new DataView(V.buffer);for(x=0;x<m.length;x++)y=m[x],J.setUint32(T,y.data.byteLength),T+=4,V.set(y.data,T),T+=y.data.byteLength;return V},$={groupNalsIntoFrames:he,groupFramesIntoGops:Te,extendFirstKeyFrame:Pe,generateSampleTable:nt,concatenateNalData:Ke,generateSampleTableForFrame:Je,concatenateNalDataForFrame:it},re=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],le=function(m){for(var x=[];m--;)x.push(0);return x},pe=function(m){return Object.keys(m).reduce(function(x,y){return x[y]=new Uint8Array(m[y].reduce(function(T,P){return T.concat(P)},[])),x},{})},ye,ve=function(){if(!ye){var m={96e3:[re,[227,64],le(154),[56]],88200:[re,[231],le(170),[56]],64e3:[re,[248,192],le(240),[56]],48e3:[re,[255,192],le(268),[55,148,128],le(54),[112]],44100:[re,[255,192],le(268),[55,163,128],le(84),[112]],32e3:[re,[255,192],le(268),[55,234],le(226),[112]],24e3:[re,[255,192],le(268),[55,255,128],le(268),[111,112],le(126),[224]],16e3:[re,[255,192],le(268),[55,255,128],le(268),[111,255],le(269),[223,108],le(195),[1,192]],12e3:[fe,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,253,128],le(259),[56]],11025:[fe,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,255,192],le(268),[55,175,128],le(108),[112]],8e3:[fe,le(268),[3,121,16],le(47),[7]]};ye=pe(m)}return ye},_e=9e4,xe,ce,Ce,Re,Ue,ze,Ze;xe=function(m){return m*_e},ce=function(m,x){return m*x},Ce=function(m){return m/_e},Re=function(m,x){return m/x},Ue=function(m,x){return xe(Re(m,x))},ze=function(m,x){return ce(Ce(m),x)},Ze=function(m,x,y){return Ce(y?m:m-x)};var je={ONE_SECOND_IN_TS:_e,secondsToVideoTs:xe,secondsToAudioTs:ce,videoTsToSeconds:Ce,audioTsToSeconds:Re,audioTsToVideoTs:Ue,videoTsToAudioTs:ze,metadataTsToSeconds:Ze},Ne=function(m){var x,y,T=0;for(x=0;x<m.length;x++)y=m[x],T+=y.data.byteLength;return T},at=function(m,x,y,T){var P,O=0,H=0,V=0,J=0,X,ne,ge;if(!!x.length&&(P=je.audioTsToVideoTs(m.baseMediaDecodeTime,m.samplerate),O=Math.ceil(je.ONE_SECOND_IN_TS/(m.samplerate/1024)),y&&T&&(H=P-Math.max(y,T),V=Math.floor(H/O),J=V*O),!(V<1||J>je.ONE_SECOND_IN_TS/2))){for(X=ve()[m.samplerate],X||(X=x[0].data),ne=0;ne<V;ne++)ge=x[0],x.splice(0,0,{data:X,dts:ge.dts-O,pts:ge.pts-O});return m.baseMediaDecodeTime-=Math.floor(je.videoTsToAudioTs(J,m.samplerate)),J}},_t=function(m,x,y){return x.minSegmentDts>=y?m:(x.minSegmentDts=1/0,m.filter(function(T){return T.dts>=y?(x.minSegmentDts=Math.min(x.minSegmentDts,T.dts),x.minSegmentPts=x.minSegmentDts,!0):!1}))},Hr=function(m){var x,y,T=[];for(x=0;x<m.length;x++)y=m[x],T.push({size:y.data.byteLength,duration:1024});return T},_r=function(m){var x,y,T=0,P=new Uint8Array(Ne(m));for(x=0;x<m.length;x++)y=m[x],P.set(y.data,T),T+=y.data.byteLength;return P},br={prefixWithSilence:at,trimAdtsFramesByEarliestDts:_t,generateSampleTable:Hr,concatenateFrameData:_r},nr=je.ONE_SECOND_IN_TS,Lt=function(m,x){typeof x.pts=="number"&&(m.timelineStartInfo.pts===void 0&&(m.timelineStartInfo.pts=x.pts),m.minSegmentPts===void 0?m.minSegmentPts=x.pts:m.minSegmentPts=Math.min(m.minSegmentPts,x.pts),m.maxSegmentPts===void 0?m.maxSegmentPts=x.pts:m.maxSegmentPts=Math.max(m.maxSegmentPts,x.pts)),typeof x.dts=="number"&&(m.timelineStartInfo.dts===void 0&&(m.timelineStartInfo.dts=x.dts),m.minSegmentDts===void 0?m.minSegmentDts=x.dts:m.minSegmentDts=Math.min(m.minSegmentDts,x.dts),m.maxSegmentDts===void 0?m.maxSegmentDts=x.dts:m.maxSegmentDts=Math.max(m.maxSegmentDts,x.dts))},$t=function(m){delete m.minSegmentDts,delete m.maxSegmentDts,delete m.minSegmentPts,delete m.maxSegmentPts},ji=function(m,x){var y,T,P=m.minSegmentDts;return x||(P-=m.timelineStartInfo.dts),y=m.timelineStartInfo.baseMediaDecodeTime,y+=P,y=Math.max(0,y),m.type==="audio"&&(T=m.samplerate/nr,y*=T,y=Math.floor(y)),y},fr={clearDtsInfo:$t,calculateTrackBaseMediaDecodeTime:ji,collectDtsInfo:Lt},xo=4,Ou=128,Du=function(m){for(var x=0,y={payloadType:-1,payloadSize:0},T=0,P=0;x<m.byteLength&&m[x]!==Ou;){for(;m[x]===255;)T+=255,x++;for(T+=m[x++];m[x]===255;)P+=255,x++;if(P+=m[x++],!y.payload&&T===xo){var O=String.fromCharCode(m[x+3],m[x+4],m[x+5],m[x+6]);if(O==="GA94"){y.payloadType=T,y.payloadSize=P,y.payload=m.subarray(x,x+P);break}else y.payload=void 0}x+=P,T=0,P=0}return y},_o=function(m){return m.payload[0]!==181||(m.payload[1]<<8|m.payload[2])!=49||String.fromCharCode(m.payload[3],m.payload[4],m.payload[5],m.payload[6])!=="GA94"||m.payload[7]!==3?null:m.payload.subarray(8,m.payload.length-1)},Hi=function(m,x){var y=[],T,P,O,H;if(!(x[0]&64))return y;for(P=x[0]&31,T=0;T<P;T++)O=T*3,H={type:x[O+2]&3,pts:m},x[O+2]&4&&(H.ccData=x[O+3]<<8|x[O+4],y.push(H));return y},zi=function(m){for(var x=m.byteLength,y=[],T=1,P,O;T<x-2;)m[T]===0&&m[T+1]===0&&m[T+2]===3?(y.push(T+2),T+=2):T++;if(y.length===0)return m;P=x-y.length,O=new Uint8Array(P);var H=0;for(T=0;T<P;H++,T++)H===y[0]&&(H++,y.shift()),O[T]=m[H];return O},Zn={parseSei:Du,parseUserData:_o,parseCaptionPackets:Hi,discardEmulationPreventionBytes:zi,USER_DATA_REGISTERED_ITU_T_T35:xo},Ut=function F(m){m=m||{},F.prototype.init.call(this),this.parse708captions_=typeof m.parse708captions=="boolean"?m.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new dt(0,0),new dt(0,1),new dt(1,0),new dt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Xe({captionServices:m.captionServices})),this.reset(),this.ccStreams_.forEach(function(x){x.on("data",this.trigger.bind(this,"data")),x.on("partialdone",this.trigger.bind(this,"partialdone")),x.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ut.prototype=new t,Ut.prototype.push=function(F){var m,x,y;if(F.nalUnitType==="sei_rbsp"&&(m=Zn.parseSei(F.escapedRBSP),!!m.payload&&m.payloadType===Zn.USER_DATA_REGISTERED_ITU_T_T35&&(x=Zn.parseUserData(m),!!x))){if(F.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(F.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}y=Zn.parseCaptionPackets(F.pts,x),this.captionPackets_=this.captionPackets_.concat(y),this.latestDts_!==F.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=F.dts}},Ut.prototype.flushCCStreams=function(F){this.ccStreams_.forEach(function(m){return F==="flush"?m.flush():m.partialFlush()},this)},Ut.prototype.flushStream=function(F){if(!this.captionPackets_.length){this.flushCCStreams(F);return}this.captionPackets_.forEach(function(m,x){m.presortIndex=x}),this.captionPackets_.sort(function(m,x){return m.pts===x.pts?m.presortIndex-x.presortIndex:m.pts-x.pts}),this.captionPackets_.forEach(function(m){m.type<2?this.dispatchCea608Packet(m):this.dispatchCea708Packet(m)},this),this.captionPackets_.length=0,this.flushCCStreams(F)},Ut.prototype.flush=function(){return this.flushStream("flush")},Ut.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ut.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(F){F.reset()})},Ut.prototype.dispatchCea608Packet=function(F){this.setsTextOrXDSActive(F)?this.activeCea608Channel_[F.type]=null:this.setsChannel1Active(F)?this.activeCea608Channel_[F.type]=0:this.setsChannel2Active(F)&&(this.activeCea608Channel_[F.type]=1),this.activeCea608Channel_[F.type]!==null&&this.ccStreams_[(F.type<<1)+this.activeCea608Channel_[F.type]].push(F)},Ut.prototype.setsChannel1Active=function(F){return(F.ccData&30720)==4096},Ut.prototype.setsChannel2Active=function(F){return(F.ccData&30720)==6144},Ut.prototype.setsTextOrXDSActive=function(F){return(F.ccData&28928)==256||(F.ccData&30974)==4138||(F.ccData&30974)==6186},Ut.prototype.dispatchCea708Packet=function(F){this.parse708captions_&&this.cc708Stream_.push(F)};var Ya={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Iu=function(m){var x=Ya[m]||m;return m&4096&&m===x?"":String.fromCharCode(x)},kn=function(m){return 32<=m&&m<=127||160<=m&&m<=255},ir=function(m){this.windowNum=m,this.reset()};ir.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ir.prototype.getText=function(){return this.rows.join(`
`)},ir.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ir.prototype.newLine=function(F){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(F),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ir.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ir.prototype.addText=function(F){this.rows[this.rowIdx]+=F},ir.prototype.backspace=function(){if(!this.isEmpty()){var F=this.rows[this.rowIdx];this.rows[this.rowIdx]=F.substr(0,F.length-1)}};var Tr=function(m,x,y){this.serviceNum=m,this.text="",this.currentWindow=new ir(-1),this.windows=[],this.stream=y,typeof x=="string"&&this.createTextDecoder(x)};Tr.prototype.init=function(F,m){this.startPts=F;for(var x=0;x<8;x++)this.windows[x]=new ir(x),typeof m=="function"&&(this.windows[x].beforeRowOverflow=m)},Tr.prototype.setCurrentWindow=function(F){this.currentWindow=this.windows[F]},Tr.prototype.createTextDecoder=function(F){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(F)}catch(m){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+F+" encoding. "+m})}};var Xe=function F(m){m=m||{},F.prototype.init.call(this);var x=this,y=m.captionServices||{},T={},P;Object.keys(y).forEach(function(O){P=y[O],/^SERVICE/.test(O)&&(T[O]=P.encoding)}),this.serviceEncodings=T,this.current708Packet=null,this.services={},this.push=function(O){O.type===3?(x.new708Packet(),x.add708Bytes(O)):(x.current708Packet===null&&x.new708Packet(),x.add708Bytes(O))}};Xe.prototype=new t,Xe.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Xe.prototype.add708Bytes=function(F){var m=F.ccData,x=m>>>8,y=m&255;this.current708Packet.ptsVals.push(F.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(y)},Xe.prototype.push708Packet=function(){var F=this.current708Packet,m=F.data,x=null,y=null,T=0,P=m[T++];for(F.seq=P>>6,F.sizeCode=P&63;T<m.length;T++)P=m[T++],x=P>>5,y=P&31,x===7&&y>0&&(P=m[T++],x=P),this.pushServiceBlock(x,T,y),y>0&&(T+=y-1)},Xe.prototype.pushServiceBlock=function(F,m,x){var y,T=m,P=this.current708Packet.data,O=this.services[F];for(O||(O=this.initService(F,T));T<m+x&&T<P.length;T++)y=P[T],kn(y)?T=this.handleText(T,O):y===24?T=this.multiByteCharacter(T,O):y===16?T=this.extendedCommands(T,O):128<=y&&y<=135?T=this.setCurrentWindow(T,O):152<=y&&y<=159?T=this.defineWindow(T,O):y===136?T=this.clearWindows(T,O):y===140?T=this.deleteWindows(T,O):y===137?T=this.displayWindows(T,O):y===138?T=this.hideWindows(T,O):y===139?T=this.toggleWindows(T,O):y===151?T=this.setWindowAttributes(T,O):y===144?T=this.setPenAttributes(T,O):y===145?T=this.setPenColor(T,O):y===146?T=this.setPenLocation(T,O):y===143?O=this.reset(T,O):y===8?O.currentWindow.backspace():y===12?O.currentWindow.clearText():y===13?O.currentWindow.pendingNewLine=!0:y===14?O.currentWindow.clearText():y===141&&T++},Xe.prototype.extendedCommands=function(F,m){var x=this.current708Packet.data,y=x[++F];return kn(y)&&(F=this.handleText(F,m,{isExtended:!0})),F},Xe.prototype.getPts=function(F){return this.current708Packet.ptsVals[Math.floor(F/2)]},Xe.prototype.initService=function(F,m){var x="SERVICE"+F,y=this,x,T;return x in this.serviceEncodings&&(T=this.serviceEncodings[x]),this.services[F]=new Tr(F,T,y),this.services[F].init(this.getPts(m),function(P){y.flushDisplayed(P,y.services[F])}),this.services[F]},Xe.prototype.handleText=function(F,m,x){var y=x&&x.isExtended,T=x&&x.isMultiByte,P=this.current708Packet.data,O=y?4096:0,H=P[F],V=P[F+1],J=m.currentWindow,X,ne;return m.textDecoder_&&!y?(T?(ne=[H,V],F++):ne=[H],X=m.textDecoder_.decode(new Uint8Array(ne))):X=Iu(O|H),J.pendingNewLine&&!J.isEmpty()&&J.newLine(this.getPts(F)),J.pendingNewLine=!1,J.addText(X),F},Xe.prototype.multiByteCharacter=function(F,m){var x=this.current708Packet.data,y=x[F+1],T=x[F+2];return kn(y)&&kn(T)&&(F=this.handleText(++F,m,{isMultiByte:!0})),F},Xe.prototype.setCurrentWindow=function(F,m){var x=this.current708Packet.data,y=x[F],T=y&7;return m.setCurrentWindow(T),F},Xe.prototype.defineWindow=function(F,m){var x=this.current708Packet.data,y=x[F],T=y&7;m.setCurrentWindow(T);var P=m.currentWindow;return y=x[++F],P.visible=(y&32)>>5,P.rowLock=(y&16)>>4,P.columnLock=(y&8)>>3,P.priority=y&7,y=x[++F],P.relativePositioning=(y&128)>>7,P.anchorVertical=y&127,y=x[++F],P.anchorHorizontal=y,y=x[++F],P.anchorPoint=(y&240)>>4,P.rowCount=y&15,y=x[++F],P.columnCount=y&63,y=x[++F],P.windowStyle=(y&56)>>3,P.penStyle=y&7,P.virtualRowCount=P.rowCount+1,F},Xe.prototype.setWindowAttributes=function(F,m){var x=this.current708Packet.data,y=x[F],T=m.currentWindow.winAttr;return y=x[++F],T.fillOpacity=(y&192)>>6,T.fillRed=(y&48)>>4,T.fillGreen=(y&12)>>2,T.fillBlue=y&3,y=x[++F],T.borderType=(y&192)>>6,T.borderRed=(y&48)>>4,T.borderGreen=(y&12)>>2,T.borderBlue=y&3,y=x[++F],T.borderType+=(y&128)>>5,T.wordWrap=(y&64)>>6,T.printDirection=(y&48)>>4,T.scrollDirection=(y&12)>>2,T.justify=y&3,y=x[++F],T.effectSpeed=(y&240)>>4,T.effectDirection=(y&12)>>2,T.displayEffect=y&3,F},Xe.prototype.flushDisplayed=function(F,m){for(var x=[],y=0;y<8;y++)m.windows[y].visible&&!m.windows[y].isEmpty()&&x.push(m.windows[y].getText());m.endPts=F,m.text=x.join(`

`),this.pushCaption(m),m.startPts=F},Xe.prototype.pushCaption=function(F){F.text!==""&&(this.trigger("data",{startPts:F.startPts,endPts:F.endPts,text:F.text,stream:"cc708_"+F.serviceNum}),F.text="",F.startPts=F.endPts)},Xe.prototype.displayWindows=function(F,m){var x=this.current708Packet.data,y=x[++F],T=this.getPts(F);this.flushDisplayed(T,m);for(var P=0;P<8;P++)y&1<<P&&(m.windows[P].visible=1);return F},Xe.prototype.hideWindows=function(F,m){var x=this.current708Packet.data,y=x[++F],T=this.getPts(F);this.flushDisplayed(T,m);for(var P=0;P<8;P++)y&1<<P&&(m.windows[P].visible=0);return F},Xe.prototype.toggleWindows=function(F,m){var x=this.current708Packet.data,y=x[++F],T=this.getPts(F);this.flushDisplayed(T,m);for(var P=0;P<8;P++)y&1<<P&&(m.windows[P].visible^=1);return F},Xe.prototype.clearWindows=function(F,m){var x=this.current708Packet.data,y=x[++F],T=this.getPts(F);this.flushDisplayed(T,m);for(var P=0;P<8;P++)y&1<<P&&m.windows[P].clearText();return F},Xe.prototype.deleteWindows=function(F,m){var x=this.current708Packet.data,y=x[++F],T=this.getPts(F);this.flushDisplayed(T,m);for(var P=0;P<8;P++)y&1<<P&&m.windows[P].reset();return F},Xe.prototype.setPenAttributes=function(F,m){var x=this.current708Packet.data,y=x[F],T=m.currentWindow.penAttr;return y=x[++F],T.textTag=(y&240)>>4,T.offset=(y&12)>>2,T.penSize=y&3,y=x[++F],T.italics=(y&128)>>7,T.underline=(y&64)>>6,T.edgeType=(y&56)>>3,T.fontStyle=y&7,F},Xe.prototype.setPenColor=function(F,m){var x=this.current708Packet.data,y=x[F],T=m.currentWindow.penColor;return y=x[++F],T.fgOpacity=(y&192)>>6,T.fgRed=(y&48)>>4,T.fgGreen=(y&12)>>2,T.fgBlue=y&3,y=x[++F],T.bgOpacity=(y&192)>>6,T.bgRed=(y&48)>>4,T.bgGreen=(y&12)>>2,T.bgBlue=y&3,y=x[++F],T.edgeRed=(y&48)>>4,T.edgeGreen=(y&12)>>2,T.edgeBlue=y&3,F},Xe.prototype.setPenLocation=function(F,m){var x=this.current708Packet.data,y=x[F],T=m.currentWindow.penLoc;return m.currentWindow.pendingNewLine=!0,y=x[++F],T.row=y&15,y=x[++F],T.column=y&63,F},Xe.prototype.reset=function(F,m){var x=this.getPts(F);return this.flushDisplayed(x,m),this.initService(m.serviceNum,F)};var Lu={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ei=function(m){return m===null?"":(m=Lu[m]||m,String.fromCharCode(m))},Or=14,bo=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],an=function(){for(var m=[],x=Or+1;x--;)m.push("");return m},dt=function F(m,x){F.prototype.init.call(this),this.field_=m||0,this.dataChannel_=x||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(y){var T,P,O,H,V;if(T=y.ccData&32639,T===this.lastControlCode_){this.lastControlCode_=null;return}if((T&61440)==4096?this.lastControlCode_=T:T!==this.PADDING_&&(this.lastControlCode_=null),O=T>>>8,H=T&255,T!==this.PADDING_)if(T===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(T===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(y.pts),this.flushDisplayed(y.pts),P=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=P,this.startPts_=y.pts;else if(T===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(y.pts);else if(T===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(y.pts);else if(T===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(y.pts);else if(T===this.CARRIAGE_RETURN_)this.clearFormatting(y.pts),this.flushDisplayed(y.pts),this.shiftRowsUp_(),this.startPts_=y.pts;else if(T===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(T===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(y.pts),this.displayed_=an();else if(T===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=an();else if(T===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(y.pts),this.displayed_=an()),this.mode_="paintOn",this.startPts_=y.pts;else if(this.isSpecialCharacter(O,H))O=(O&3)<<8,V=ei(O|H),this[this.mode_](y.pts,V),this.column_++;else if(this.isExtCharacter(O,H))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),O=(O&3)<<8,V=ei(O|H),this[this.mode_](y.pts,V),this.column_++;else if(this.isMidRowCode(O,H))this.clearFormatting(y.pts),this[this.mode_](y.pts," "),this.column_++,(H&14)==14&&this.addFormatting(y.pts,["i"]),(H&1)==1&&this.addFormatting(y.pts,["u"]);else if(this.isOffsetControlCode(O,H))this.column_+=H&3;else if(this.isPAC(O,H)){var J=bo.indexOf(T&7968);this.mode_==="rollUp"&&(J-this.rollUpRows_+1<0&&(J=this.rollUpRows_-1),this.setRollUp(y.pts,J)),J!==this.row_&&(this.clearFormatting(y.pts),this.row_=J),H&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(y.pts,["u"]),(T&16)==16&&(this.column_=((T&14)>>1)*4),this.isColorPAC(H)&&(H&14)==14&&this.addFormatting(y.pts,["i"])}else this.isNormalChar(O)&&(H===0&&(H=null),V=ei(O),V+=ei(H),this[this.mode_](y.pts,V),this.column_+=V.length)}};dt.prototype=new t,dt.prototype.flushDisplayed=function(F){var m=this.displayed_.map(function(x,y){try{return x.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+y+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");m.length&&this.trigger("data",{startPts:this.startPts_,endPts:F,text:m,stream:this.name_})},dt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=an(),this.nonDisplayed_=an(),this.lastControlCode_=null,this.column_=0,this.row_=Or,this.rollUpRows_=2,this.formatting_=[]},dt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},dt.prototype.isSpecialCharacter=function(F,m){return F===this.EXT_&&m>=48&&m<=63},dt.prototype.isExtCharacter=function(F,m){return(F===this.EXT_+1||F===this.EXT_+2)&&m>=32&&m<=63},dt.prototype.isMidRowCode=function(F,m){return F===this.EXT_&&m>=32&&m<=47},dt.prototype.isOffsetControlCode=function(F,m){return F===this.OFFSET_&&m>=33&&m<=35},dt.prototype.isPAC=function(F,m){return F>=this.BASE_&&F<this.BASE_+8&&m>=64&&m<=127},dt.prototype.isColorPAC=function(F){return F>=64&&F<=79||F>=96&&F<=127},dt.prototype.isNormalChar=function(F){return F>=32&&F<=127},dt.prototype.setRollUp=function(F,m){if(this.mode_!=="rollUp"&&(this.row_=Or,this.mode_="rollUp",this.flushDisplayed(F),this.nonDisplayed_=an(),this.displayed_=an()),m!==void 0&&m!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[m-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]="";m===void 0&&(m=this.row_),this.topRow_=m-this.rollUpRows_+1},dt.prototype.addFormatting=function(F,m){this.formatting_=this.formatting_.concat(m);var x=m.reduce(function(y,T){return y+"<"+T+">"},"");this[this.mode_](F,x)},dt.prototype.clearFormatting=function(F){if(!!this.formatting_.length){var m=this.formatting_.reverse().reduce(function(x,y){return x+"</"+y+">"},"");this.formatting_=[],this[this.mode_](F,m)}},dt.prototype.popOn=function(F,m){var x=this.nonDisplayed_[this.row_];x+=m,this.nonDisplayed_[this.row_]=x},dt.prototype.rollUp=function(F,m){var x=this.displayed_[this.row_];x+=m,this.displayed_[this.row_]=x},dt.prototype.shiftRowsUp_=function(){var F;for(F=0;F<this.topRow_;F++)this.displayed_[F]="";for(F=this.row_+1;F<Or+1;F++)this.displayed_[F]="";for(F=this.topRow_;F<this.row_;F++)this.displayed_[F]=this.displayed_[F+1];this.displayed_[this.row_]=""},dt.prototype.paintOn=function(F,m){var x=this.displayed_[this.row_];x+=m,this.displayed_[this.row_]=x};var wn={CaptionStream:Ut,Cea608Stream:dt,Cea708Stream:Xe},wt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},To=8589934592,Ru=4294967296,ti="shared",Vi=function(m,x){var y=1;for(m>x&&(y=-1);Math.abs(x-m)>Ru;)m+=y*To;return m},Qa=function F(m){var x,y;F.prototype.init.call(this),this.type_=m||ti,this.push=function(T){this.type_!==ti&&T.type!==this.type_||(y===void 0&&(y=T.dts),T.dts=Vi(T.dts,y),T.pts=Vi(T.pts,y),x=T.dts,this.trigger("data",T))},this.flush=function(){y=x,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){y=void 0,x=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Qa.prototype=new t;var Wi={TimestampRolloverStream:Qa,handleRollover:Vi},qi=function(m,x,y){var T,P="";for(T=x;T<y;T++)P+="%"+("00"+m[T].toString(16)).slice(-2);return P},ri=function(m,x,y){return decodeURIComponent(qi(m,x,y))},Ja=function(m,x,y){return unescape(qi(m,x,y))},Pn=function(m){return m[0]<<21|m[1]<<14|m[2]<<7|m[3]},So={TXXX:function(m){var x;if(m.data[0]===3){for(x=1;x<m.data.length;x++)if(m.data[x]===0){m.description=ri(m.data,1,x),m.value=ri(m.data,x+1,m.data.length).replace(/\0*$/,"");break}m.data=m.value}},WXXX:function(m){var x;if(m.data[0]===3){for(x=1;x<m.data.length;x++)if(m.data[x]===0){m.description=ri(m.data,1,x),m.url=ri(m.data,x+1,m.data.length);break}}},PRIV:function(m){var x;for(x=0;x<m.data.length;x++)if(m.data[x]===0){m.owner=Ja(m.data,0,x);break}m.privateData=m.data.subarray(x+1),m.data=m.privateData}},ni;ni=function(m){var x={descriptor:m&&m.descriptor},y=0,T=[],P=0,O;if(ni.prototype.init.call(this),this.dispatchType=wt.METADATA_STREAM_TYPE.toString(16),x.descriptor)for(O=0;O<x.descriptor.length;O++)this.dispatchType+=("00"+x.descriptor[O].toString(16)).slice(-2);this.push=function(H){var V,J,X,ne,ge,Ae;if(H.type==="timed-metadata"){if(H.dataAlignmentIndicator&&(P=0,T.length=0),T.length===0&&(H.data.length<10||H.data[0]!=="I".charCodeAt(0)||H.data[1]!=="D".charCodeAt(0)||H.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(T.push(H),P+=H.data.byteLength,T.length===1&&(y=Pn(H.data.subarray(6,10)),y+=10),!(P<y)){for(V={data:new Uint8Array(y),frames:[],pts:T[0].pts,dts:T[0].dts},ge=0;ge<y;)V.data.set(T[0].data.subarray(0,y-ge),ge),ge+=T[0].data.byteLength,P-=T[0].data.byteLength,T.shift();J=10,V.data[5]&64&&(J+=4,J+=Pn(V.data.subarray(10,14)),y-=Pn(V.data.subarray(16,20)));do{if(X=Pn(V.data.subarray(J+4,J+8)),X<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Ae=String.fromCharCode(V.data[J],V.data[J+1],V.data[J+2],V.data[J+3]),ne={id:Ae,data:V.data.subarray(J+10,J+X+10)},ne.key=ne.id,So[ne.id]&&(So[ne.id](ne),ne.owner==="com.apple.streaming.transportStreamTimestamp")){var Me=ne.data,Se=(Me[3]&1)<<30|Me[4]<<22|Me[5]<<14|Me[6]<<6|Me[7]>>>2;Se*=4,Se+=Me[7]&3,ne.timeStamp=Se,V.pts===void 0&&V.dts===void 0&&(V.pts=ne.timeStamp,V.dts=ne.timeStamp),this.trigger("timestamp",ne)}V.frames.push(ne),J+=10,J+=X}while(J<y);this.trigger("data",V)}}}},ni.prototype=new t;var An=ni,Mu=Wi.TimestampRolloverStream,On,Dr,Dn,In=188,Za=71;On=function(){var m=new Uint8Array(In),x=0;On.prototype.init.call(this),this.push=function(y){var T=0,P=In,O;for(x?(O=new Uint8Array(y.byteLength+x),O.set(m.subarray(0,x)),O.set(y,x),x=0):O=y;P<O.byteLength;){if(O[T]===Za&&O[P]===Za){this.trigger("data",O.subarray(T,P)),T+=In,P+=In;continue}T++,P++}T<O.byteLength&&(m.set(O.subarray(T),0),x=O.byteLength-T)},this.flush=function(){x===In&&m[0]===Za&&(this.trigger("data",m),x=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){x=0,this.trigger("reset")}},On.prototype=new t,Dr=function(){var m,x,y,T;Dr.prototype.init.call(this),T=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,m=function(O,H){var V=0;H.payloadUnitStartIndicator&&(V+=O[V]+1),H.type==="pat"?x(O.subarray(V),H):y(O.subarray(V),H)},x=function(O,H){H.section_number=O[7],H.last_section_number=O[8],T.pmtPid=(O[10]&31)<<8|O[11],H.pmtPid=T.pmtPid},y=function(O,H){var V,J,X,ne;if(!!(O[5]&1)){for(T.programMapTable={video:null,audio:null,"timed-metadata":{}},V=(O[1]&15)<<8|O[2],J=3+V-4,X=(O[10]&15)<<8|O[11],ne=12+X;ne<J;){var ge=O[ne],Ae=(O[ne+1]&31)<<8|O[ne+2];ge===wt.H264_STREAM_TYPE&&T.programMapTable.video===null?T.programMapTable.video=Ae:ge===wt.ADTS_STREAM_TYPE&&T.programMapTable.audio===null?T.programMapTable.audio=Ae:ge===wt.METADATA_STREAM_TYPE&&(T.programMapTable["timed-metadata"][Ae]=ge),ne+=((O[ne+3]&15)<<8|O[ne+4])+5}H.programMapTable=T.programMapTable}},this.push=function(P){var O={},H=4;if(O.payloadUnitStartIndicator=!!(P[1]&64),O.pid=P[1]&31,O.pid<<=8,O.pid|=P[2],(P[3]&48)>>>4>1&&(H+=P[H]+1),O.pid===0)O.type="pat",m(P.subarray(H),O),this.trigger("data",O);else if(O.pid===this.pmtPid)for(O.type="pmt",m(P.subarray(H),O),this.trigger("data",O);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([P,H,O]):this.processPes_(P,H,O)},this.processPes_=function(P,O,H){H.pid===this.programMapTable.video?H.streamType=wt.H264_STREAM_TYPE:H.pid===this.programMapTable.audio?H.streamType=wt.ADTS_STREAM_TYPE:H.streamType=this.programMapTable["timed-metadata"][H.pid],H.type="pes",H.data=P.subarray(O),this.trigger("data",H)}},Dr.prototype=new t,Dr.STREAM_TYPES={h264:27,adts:15},Dn=function(){var m=this,x=!1,y={data:[],size:0},T={data:[],size:0},P={data:[],size:0},O,H=function(X,ne){var ge,Ae=X[0]<<16|X[1]<<8|X[2];ne.data=new Uint8Array,Ae===1&&(ne.packetLength=6+(X[4]<<8|X[5]),ne.dataAlignmentIndicator=(X[6]&4)!=0,ge=X[7],ge&192&&(ne.pts=(X[9]&14)<<27|(X[10]&255)<<20|(X[11]&254)<<12|(X[12]&255)<<5|(X[13]&254)>>>3,ne.pts*=4,ne.pts+=(X[13]&6)>>>1,ne.dts=ne.pts,ge&64&&(ne.dts=(X[14]&14)<<27|(X[15]&255)<<20|(X[16]&254)<<12|(X[17]&255)<<5|(X[18]&254)>>>3,ne.dts*=4,ne.dts+=(X[18]&6)>>>1)),ne.data=X.subarray(9+X[8]))},V=function(X,ne,ge){var Ae=new Uint8Array(X.size),Me={type:ne},Se=0,He=0,yt=!1,Rt;if(!(!X.data.length||X.size<9)){for(Me.trackId=X.data[0].pid,Se=0;Se<X.data.length;Se++)Rt=X.data[Se],Ae.set(Rt.data,He),He+=Rt.data.byteLength;H(Ae,Me),yt=ne==="video"||Me.packetLength<=X.size,(ge||yt)&&(X.size=0,X.data.length=0),yt&&m.trigger("data",Me)}};Dn.prototype.init.call(this),this.push=function(J){({pat:function(){},pes:function(){var ne,ge;switch(J.streamType){case wt.H264_STREAM_TYPE:ne=y,ge="video";break;case wt.ADTS_STREAM_TYPE:ne=T,ge="audio";break;case wt.METADATA_STREAM_TYPE:ne=P,ge="timed-metadata";break;default:return}J.payloadUnitStartIndicator&&V(ne,ge,!0),ne.data.push(J),ne.size+=J.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};O=J.programMapTable,O.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.video,codec:"avc",type:"video"}),O.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.audio,codec:"adts",type:"audio"}),x=!0,m.trigger("data",ne)}})[J.type]()},this.reset=function(){y.size=0,y.data.length=0,T.size=0,T.data.length=0,this.trigger("reset")},this.flushStreams_=function(){V(y,"video"),V(T,"audio"),V(P,"timed-metadata")},this.flush=function(){if(!x&&O){var J={type:"metadata",tracks:[]};O.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.video,codec:"avc",type:"video"}),O.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+O.audio,codec:"adts",type:"audio"}),m.trigger("data",J)}x=!1,this.flushStreams_(),this.trigger("done")}},Dn.prototype=new t;var Eo={PAT_PID:0,MP2T_PACKET_LENGTH:In,TransportPacketStream:On,TransportParseStream:Dr,ElementaryStream:Dn,TimestampRolloverStream:Mu,CaptionStream:wn.CaptionStream,Cea608Stream:wn.Cea608Stream,Cea708Stream:wn.Cea708Stream,MetadataStream:An};for(var Gi in wt)wt.hasOwnProperty(Gi)&&(Eo[Gi]=wt[Gi]);var Sr=Eo,Fu=je.ONE_SECOND_IN_TS,ii,Co=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ii=function(m){var x,y=0;ii.prototype.init.call(this),this.skipWarn_=function(T,P){this.trigger("log",{level:"warn",message:"adts skiping bytes "+T+" to "+P+" in frame "+y+" outside syncword"})},this.push=function(T){var P=0,O,H,V,J,X;if(m||(y=0),T.type==="audio"){x&&x.length?(V=x,x=new Uint8Array(V.byteLength+T.data.byteLength),x.set(V),x.set(T.data,V.byteLength)):x=T.data;for(var ne;P+7<x.length;){if(x[P]!==255||(x[P+1]&246)!=240){typeof ne!="number"&&(ne=P),P++;continue}if(typeof ne=="number"&&(this.skipWarn_(ne,P),ne=null),H=(~x[P+1]&1)*2,O=(x[P+3]&3)<<11|x[P+4]<<3|(x[P+5]&224)>>5,J=((x[P+6]&3)+1)*1024,X=J*Fu/Co[(x[P+2]&60)>>>2],x.byteLength-P<O)break;this.trigger("data",{pts:T.pts+y*X,dts:T.dts+y*X,sampleCount:J,audioobjecttype:(x[P+2]>>>6&3)+1,channelcount:(x[P+2]&1)<<2|(x[P+3]&192)>>>6,samplerate:Co[(x[P+2]&60)>>>2],samplingfrequencyindex:(x[P+2]&60)>>>2,samplesize:16,data:x.subarray(P+7+H,P+O)}),y++,P+=O}typeof ne=="number"&&(this.skipWarn_(ne,P),ne=null),x=x.subarray(P)}},this.flush=function(){y=0,this.trigger("done")},this.reset=function(){x=void 0,this.trigger("reset")},this.endTimeline=function(){x=void 0,this.trigger("endedtimeline")}},ii.prototype=new t;var es=ii,ts;ts=function(m){var x=m.byteLength,y=0,T=0;this.length=function(){return 8*x},this.bitsAvailable=function(){return 8*x+T},this.loadWord=function(){var P=m.byteLength-x,O=new Uint8Array(4),H=Math.min(4,x);if(H===0)throw new Error("no bytes available");O.set(m.subarray(P,P+H)),y=new DataView(O.buffer).getUint32(0),T=H*8,x-=H},this.skipBits=function(P){var O;T>P?(y<<=P,T-=P):(P-=T,O=Math.floor(P/8),P-=O*8,x-=O,this.loadWord(),y<<=P,T-=P)},this.readBits=function(P){var O=Math.min(T,P),H=y>>>32-O;return T-=O,T>0?y<<=O:x>0&&this.loadWord(),O=P-O,O>0?H<<O|this.readBits(O):H},this.skipLeadingZeros=function(){var P;for(P=0;P<T;++P)if((y&2147483648>>>P)!=0)return y<<=P,T-=P,P;return this.loadWord(),P+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var P=this.skipLeadingZeros();return this.readBits(P+1)-1},this.readExpGolomb=function(){var P=this.readUnsignedExpGolomb();return 1&P?1+P>>>1:-1*(P>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var rs=ts,$i,Ln,zr;Ln=function(){var m=0,x,y;Ln.prototype.init.call(this),this.push=function(T){var P;y?(P=new Uint8Array(y.byteLength+T.data.byteLength),P.set(y),P.set(T.data,y.byteLength),y=P):y=T.data;for(var O=y.byteLength;m<O-3;m++)if(y[m+2]===1){x=m+5;break}for(;x<O;)switch(y[x]){case 0:if(y[x-1]!==0){x+=2;break}else if(y[x-2]!==0){x++;break}m+3!==x-2&&this.trigger("data",y.subarray(m+3,x-2));do x++;while(y[x]!==1&&x<O);m=x-2,x+=3;break;case 1:if(y[x-1]!==0||y[x-2]!==0){x+=3;break}this.trigger("data",y.subarray(m+3,x-2)),m=x-2,x+=3;break;default:x+=3;break}y=y.subarray(m),x-=m,m=0},this.reset=function(){y=null,m=0,this.trigger("reset")},this.flush=function(){y&&y.byteLength>3&&this.trigger("data",y.subarray(m+3)),y=null,m=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ln.prototype=new t,zr={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},$i=function(){var m=new Ln,x,y,T,P,O,H,V;$i.prototype.init.call(this),x=this,this.push=function(J){J.type==="video"&&(y=J.trackId,T=J.pts,P=J.dts,m.push(J))},m.on("data",function(J){var X={trackId:y,pts:T,dts:P,data:J,nalUnitTypeCode:J[0]&31};switch(X.nalUnitTypeCode){case 5:X.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:X.nalUnitType="sei_rbsp",X.escapedRBSP=O(J.subarray(1));break;case 7:X.nalUnitType="seq_parameter_set_rbsp",X.escapedRBSP=O(J.subarray(1)),X.config=H(X.escapedRBSP);break;case 8:X.nalUnitType="pic_parameter_set_rbsp";break;case 9:X.nalUnitType="access_unit_delimiter_rbsp";break}x.trigger("data",X)}),m.on("done",function(){x.trigger("done")}),m.on("partialdone",function(){x.trigger("partialdone")}),m.on("reset",function(){x.trigger("reset")}),m.on("endedtimeline",function(){x.trigger("endedtimeline")}),this.flush=function(){m.flush()},this.partialFlush=function(){m.partialFlush()},this.reset=function(){m.reset()},this.endTimeline=function(){m.endTimeline()},V=function(X,ne){var ge=8,Ae=8,Me,Se;for(Me=0;Me<X;Me++)Ae!==0&&(Se=ne.readExpGolomb(),Ae=(ge+Se+256)%256),ge=Ae===0?ge:Ae},O=function(X){for(var ne=X.byteLength,ge=[],Ae=1,Me,Se;Ae<ne-2;)X[Ae]===0&&X[Ae+1]===0&&X[Ae+2]===3?(ge.push(Ae+2),Ae+=2):Ae++;if(ge.length===0)return X;Me=ne-ge.length,Se=new Uint8Array(Me);var He=0;for(Ae=0;Ae<Me;He++,Ae++)He===ge[0]&&(He++,ge.shift()),Se[Ae]=X[He];return Se},H=function(X){var ne=0,ge=0,Ae=0,Me=0,Se,He,yt,Rt,Lr,vs,jn,Xo,Yo,gi,Qo,xt=[1,1],Jo,qr;if(Se=new rs(X),He=Se.readUnsignedByte(),Rt=Se.readUnsignedByte(),yt=Se.readUnsignedByte(),Se.skipUnsignedExpGolomb(),zr[He]&&(Lr=Se.readUnsignedExpGolomb(),Lr===3&&Se.skipBits(1),Se.skipUnsignedExpGolomb(),Se.skipUnsignedExpGolomb(),Se.skipBits(1),Se.readBoolean()))for(Qo=Lr!==3?8:12,qr=0;qr<Qo;qr++)Se.readBoolean()&&(qr<6?V(16,Se):V(64,Se));if(Se.skipUnsignedExpGolomb(),vs=Se.readUnsignedExpGolomb(),vs===0)Se.readUnsignedExpGolomb();else if(vs===1)for(Se.skipBits(1),Se.skipExpGolomb(),Se.skipExpGolomb(),jn=Se.readUnsignedExpGolomb(),qr=0;qr<jn;qr++)Se.skipExpGolomb();if(Se.skipUnsignedExpGolomb(),Se.skipBits(1),Xo=Se.readUnsignedExpGolomb(),Yo=Se.readUnsignedExpGolomb(),gi=Se.readBits(1),gi===0&&Se.skipBits(1),Se.skipBits(1),Se.readBoolean()&&(ne=Se.readUnsignedExpGolomb(),ge=Se.readUnsignedExpGolomb(),Ae=Se.readUnsignedExpGolomb(),Me=Se.readUnsignedExpGolomb()),Se.readBoolean()&&Se.readBoolean()){switch(Jo=Se.readUnsignedByte(),Jo){case 1:xt=[1,1];break;case 2:xt=[12,11];break;case 3:xt=[10,11];break;case 4:xt=[16,11];break;case 5:xt=[40,33];break;case 6:xt=[24,11];break;case 7:xt=[20,11];break;case 8:xt=[32,11];break;case 9:xt=[80,33];break;case 10:xt=[18,11];break;case 11:xt=[15,11];break;case 12:xt=[64,33];break;case 13:xt=[160,99];break;case 14:xt=[4,3];break;case 15:xt=[3,2];break;case 16:xt=[2,1];break;case 255:{xt=[Se.readUnsignedByte()<<8|Se.readUnsignedByte(),Se.readUnsignedByte()<<8|Se.readUnsignedByte()];break}}xt&&xt[0]/xt[1]}return{profileIdc:He,levelIdc:yt,profileCompatibility:Rt,width:(Xo+1)*16-ne*2-ge*2,height:(2-gi)*(Yo+1)*16-Ae*2-Me*2,sarRatio:xt}}},$i.prototype=new t;var ko={H264Stream:$i,NalByteStream:Ln},Kt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ai=function(m,x){var y=m[x+6]<<21|m[x+7]<<14|m[x+8]<<7|m[x+9],T=m[x+5],P=(T&16)>>4;return y=y>=0?y:0,P?y+20:y+10},Ki=function F(m,x){return m.length-x<10||m[x]!=="I".charCodeAt(0)||m[x+1]!=="D".charCodeAt(0)||m[x+2]!=="3".charCodeAt(0)?x:(x+=ai(m,x),F(m,x))},jt=function(m){var x=Ki(m,0);return m.length>=x+2&&(m[x]&255)==255&&(m[x+1]&240)==240&&(m[x+1]&22)==16},ns=function(m){return m[0]<<21|m[1]<<14|m[2]<<7|m[3]},Nu=function(m,x,y){var T,P="";for(T=x;T<y;T++)P+="%"+("00"+m[T].toString(16)).slice(-2);return P},si=function(m,x,y){return unescape(Nu(m,x,y))},Ir=function(m,x){var y=(m[x+5]&224)>>5,T=m[x+4]<<3,P=m[x+3]&3<<11;return P|T|y},oi=function(m,x){return m[x]==="I".charCodeAt(0)&&m[x+1]==="D".charCodeAt(0)&&m[x+2]==="3".charCodeAt(0)?"timed-metadata":m[x]&!0&&(m[x+1]&240)==240?"audio":null},dr=function(m){for(var x=0;x+5<m.length;){if(m[x]!==255||(m[x+1]&246)!=240){x++;continue}return Kt[(m[x+2]&60)>>>2]}return null},Rn=function(m){var x,y,T,P;x=10,m[5]&64&&(x+=4,x+=ns(m.subarray(10,14)));do{if(y=ns(m.subarray(x+4,x+8)),y<1)return null;if(P=String.fromCharCode(m[x],m[x+1],m[x+2],m[x+3]),P==="PRIV"){T=m.subarray(x+10,x+y+10);for(var O=0;O<T.byteLength;O++)if(T[O]===0){var H=si(T,0,O);if(H==="com.apple.streaming.transportStreamTimestamp"){var V=T.subarray(O+1),J=(V[3]&1)<<30|V[4]<<22|V[5]<<14|V[6]<<6|V[7]>>>2;return J*=4,J+=V[7]&3,J}break}}x+=10,x+=y}while(x<m.byteLength);return null},Mn={isLikelyAacData:jt,parseId3TagSize:ai,parseAdtsSize:Ir,parseType:oi,parseSampleRate:dr,parseAacTimestamp:Rn},Fn;Fn=function(){var m=new Uint8Array,x=0;Fn.prototype.init.call(this),this.setTimestamp=function(y){x=y},this.push=function(y){var T=0,P=0,O,H,V,J;for(m.length?(J=m.length,m=new Uint8Array(y.byteLength+J),m.set(m.subarray(0,J)),m.set(y,J)):m=y;m.length-P>=3;){if(m[P]==="I".charCodeAt(0)&&m[P+1]==="D".charCodeAt(0)&&m[P+2]==="3".charCodeAt(0)){if(m.length-P<10||(T=Mn.parseId3TagSize(m,P),P+T>m.length))break;H={type:"timed-metadata",data:m.subarray(P,P+T)},this.trigger("data",H),P+=T;continue}else if((m[P]&255)==255&&(m[P+1]&240)==240){if(m.length-P<7||(T=Mn.parseAdtsSize(m,P),P+T>m.length))break;V={type:"audio",data:m.subarray(P,P+T),pts:x,dts:x},this.trigger("data",V),P+=T;continue}P++}O=m.length-P,O>0?m=m.subarray(P):m=new Uint8Array},this.reset=function(){m=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){m=new Uint8Array,this.trigger("endedtimeline")}},Fn.prototype=new t;var is=Fn,wo=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],li=wo,Xi=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Yi=Xi,Bu=ko.H264Stream,Uu=Mn.isLikelyAacData,Po=je.ONE_SECOND_IN_TS,Nn,sn,ui,Vr,Ao=function(m,x){x.stream=m,this.trigger("log",x)},as=function(m,x){for(var y=Object.keys(x),T=0;T<y.length;T++){var P=y[T];P==="headOfPipeline"||!x[P].on||x[P].on("log",Ao.bind(m,P))}},Oo=function(m,x){var y;if(m.length!==x.length)return!1;for(y=0;y<m.length;y++)if(m[y]!==x[y])return!1;return!0},ss=function(m,x,y,T,P,O){var H=y-x,V=T-x,J=P-y;return{start:{dts:m,pts:m+H},end:{dts:m+V,pts:m+J},prependedContentDuration:O,baseMediaDecodeTime:m}};sn=function(m,x){var y=[],T,P=0,O=0,H=1/0;x=x||{},T=x.firstSequenceNumber||0,sn.prototype.init.call(this),this.push=function(V){fr.collectDtsInfo(m,V),m&&li.forEach(function(J){m[J]=V[J]}),y.push(V)},this.setEarliestDts=function(V){P=V},this.setVideoBaseMediaDecodeTime=function(V){H=V},this.setAudioAppendStart=function(V){O=V},this.flush=function(){var V,J,X,ne,ge,Ae,Me;if(y.length===0){this.trigger("done","AudioSegmentStream");return}V=br.trimAdtsFramesByEarliestDts(y,m,P),m.baseMediaDecodeTime=fr.calculateTrackBaseMediaDecodeTime(m,x.keepOriginalTimestamps),Me=br.prefixWithSilence(m,V,O,H),m.samples=br.generateSampleTable(V),X=ie.mdat(br.concatenateFrameData(V)),y=[],J=ie.moof(T,[m]),ne=new Uint8Array(J.byteLength+X.byteLength),T++,ne.set(J),ne.set(X,J.byteLength),fr.clearDtsInfo(m),ge=Math.ceil(Po*1024/m.samplerate),V.length&&(Ae=V.length*ge,this.trigger("segmentTimingInfo",ss(je.audioTsToVideoTs(m.baseMediaDecodeTime,m.samplerate),V[0].dts,V[0].pts,V[0].dts+Ae,V[0].pts+Ae,Me||0)),this.trigger("timingInfo",{start:V[0].pts,end:V[0].pts+Ae})),this.trigger("data",{track:m,boxes:ne}),this.trigger("done","AudioSegmentStream")},this.reset=function(){fr.clearDtsInfo(m),y=[],this.trigger("reset")}},sn.prototype=new t,Nn=function(m,x){var y,T=[],P=[],O,H;x=x||{},y=x.firstSequenceNumber||0,Nn.prototype.init.call(this),delete m.minPTS,this.gopCache_=[],this.push=function(V){fr.collectDtsInfo(m,V),V.nalUnitType==="seq_parameter_set_rbsp"&&!O&&(O=V.config,m.sps=[V.data],Yi.forEach(function(J){m[J]=O[J]},this)),V.nalUnitType==="pic_parameter_set_rbsp"&&!H&&(H=V.data,m.pps=[V.data]),T.push(V)},this.flush=function(){for(var V,J,X,ne,ge,Ae,Me=0,Se,He;T.length&&T[0].nalUnitType!=="access_unit_delimiter_rbsp";)T.shift();if(T.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(V=$.groupNalsIntoFrames(T),X=$.groupFramesIntoGops(V),X[0][0].keyFrame||(J=this.getGopForFusion_(T[0],m),J?(Me=J.duration,X.unshift(J),X.byteLength+=J.byteLength,X.nalCount+=J.nalCount,X.pts=J.pts,X.dts=J.dts,X.duration+=J.duration):X=$.extendFirstKeyFrame(X)),P.length){var yt;if(x.alignGopsAtEnd?yt=this.alignGopsAtEnd_(X):yt=this.alignGopsAtStart_(X),!yt){this.gopCache_.unshift({gop:X.pop(),pps:m.pps,sps:m.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}fr.clearDtsInfo(m),X=yt}fr.collectDtsInfo(m,X),m.samples=$.generateSampleTable(X),ge=ie.mdat($.concatenateNalData(X)),m.baseMediaDecodeTime=fr.calculateTrackBaseMediaDecodeTime(m,x.keepOriginalTimestamps),this.trigger("processedGopsInfo",X.map(function(Rt){return{pts:Rt.pts,dts:Rt.dts,byteLength:Rt.byteLength}})),Se=X[0],He=X[X.length-1],this.trigger("segmentTimingInfo",ss(m.baseMediaDecodeTime,Se.dts,Se.pts,He.dts+He.duration,He.pts+He.duration,Me)),this.trigger("timingInfo",{start:X[0].pts,end:X[X.length-1].pts+X[X.length-1].duration}),this.gopCache_.unshift({gop:X.pop(),pps:m.pps,sps:m.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.trigger("baseMediaDecodeTime",m.baseMediaDecodeTime),this.trigger("timelineStartInfo",m.timelineStartInfo),ne=ie.moof(y,[m]),Ae=new Uint8Array(ne.byteLength+ge.byteLength),y++,Ae.set(ne),Ae.set(ge,ne.byteLength),this.trigger("data",{track:m,boxes:Ae}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),T=[],this.gopCache_.length=0,P.length=0,this.trigger("reset")},this.resetStream_=function(){fr.clearDtsInfo(m),O=void 0,H=void 0},this.getGopForFusion_=function(V){var J=45e3,X=1e4,ne=1/0,ge,Ae,Me,Se,He;for(He=0;He<this.gopCache_.length;He++)Se=this.gopCache_[He],Me=Se.gop,!(!(m.pps&&Oo(m.pps[0],Se.pps[0]))||!(m.sps&&Oo(m.sps[0],Se.sps[0])))&&(Me.dts<m.timelineStartInfo.dts||(ge=V.dts-Me.dts-Me.duration,ge>=-X&&ge<=J&&(!Ae||ne>ge)&&(Ae=Se,ne=ge)));return Ae?Ae.gop:null},this.alignGopsAtStart_=function(V){var J,X,ne,ge,Ae,Me,Se,He;for(Ae=V.byteLength,Me=V.nalCount,Se=V.duration,J=X=0;J<P.length&&X<V.length&&(ne=P[J],ge=V[X],ne.pts!==ge.pts);){if(ge.pts>ne.pts){J++;continue}X++,Ae-=ge.byteLength,Me-=ge.nalCount,Se-=ge.duration}return X===0?V:X===V.length?null:(He=V.slice(X),He.byteLength=Ae,He.duration=Se,He.nalCount=Me,He.pts=He[0].pts,He.dts=He[0].dts,He)},this.alignGopsAtEnd_=function(V){var J,X,ne,ge,Ae,Me;for(J=P.length-1,X=V.length-1,Ae=null,Me=!1;J>=0&&X>=0;){if(ne=P[J],ge=V[X],ne.pts===ge.pts){Me=!0;break}if(ne.pts>ge.pts){J--;continue}J===P.length-1&&(Ae=X),X--}if(!Me&&Ae===null)return null;var Se;if(Me?Se=X:Se=Ae,Se===0)return V;var He=V.slice(Se),yt=He.reduce(function(Rt,Lr){return Rt.byteLength+=Lr.byteLength,Rt.duration+=Lr.duration,Rt.nalCount+=Lr.nalCount,Rt},{byteLength:0,duration:0,nalCount:0});return He.byteLength=yt.byteLength,He.duration=yt.duration,He.nalCount=yt.nalCount,He.pts=He[0].pts,He.dts=He[0].dts,He},this.alignGopsWith=function(V){P=V}},Nn.prototype=new t,Vr=function(m,x){this.numberOfTracks=0,this.metadataStream=x,m=m||{},typeof m.remux!="undefined"?this.remuxTracks=!!m.remux:this.remuxTracks=!0,typeof m.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=m.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Vr.prototype.init.call(this),this.push=function(y){if(y.text)return this.pendingCaptions.push(y);if(y.frames)return this.pendingMetadata.push(y);this.pendingTracks.push(y.track),this.pendingBytes+=y.boxes.byteLength,y.track.type==="video"&&(this.videoTrack=y.track,this.pendingBoxes.push(y.boxes)),y.track.type==="audio"&&(this.audioTrack=y.track,this.pendingBoxes.unshift(y.boxes))}},Vr.prototype=new t,Vr.prototype.flush=function(F){var m=0,x={captions:[],captionStreams:{},metadata:[],info:{}},y,T,P,O=0,H;if(this.pendingTracks.length<this.numberOfTracks){if(F!=="VideoSegmentStream"&&F!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(O=this.videoTrack.timelineStartInfo.pts,Yi.forEach(function(V){x.info[V]=this.videoTrack[V]},this)):this.audioTrack&&(O=this.audioTrack.timelineStartInfo.pts,li.forEach(function(V){x.info[V]=this.audioTrack[V]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,P=ie.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(P.byteLength),x.initSegment.set(P),x.data=new Uint8Array(this.pendingBytes),H=0;H<this.pendingBoxes.length;H++)x.data.set(this.pendingBoxes[H],m),m+=this.pendingBoxes[H].byteLength;for(H=0;H<this.pendingCaptions.length;H++)y=this.pendingCaptions[H],y.startTime=je.metadataTsToSeconds(y.startPts,O,this.keepOriginalTimestamps),y.endTime=je.metadataTsToSeconds(y.endPts,O,this.keepOriginalTimestamps),x.captionStreams[y.stream]=!0,x.captions.push(y);for(H=0;H<this.pendingMetadata.length;H++)T=this.pendingMetadata[H],T.cueTime=je.metadataTsToSeconds(T.pts,O,this.keepOriginalTimestamps),x.metadata.push(T);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),H=0;H<x.captions.length;H++)y=x.captions[H],this.trigger("caption",y);for(H=0;H<x.metadata.length;H++)T=x.metadata[H],this.trigger("id3Frame",T)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Vr.prototype.setRemux=function(F){this.remuxTracks=F},ui=function(m){var x=this,y=!0,T,P;ui.prototype.init.call(this),m=m||{},this.baseMediaDecodeTime=m.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var O={};this.transmuxPipeline_=O,O.type="aac",O.metadataStream=new Sr.MetadataStream,O.aacStream=new is,O.audioTimestampRolloverStream=new Sr.TimestampRolloverStream("audio"),O.timedMetadataTimestampRolloverStream=new Sr.TimestampRolloverStream("timed-metadata"),O.adtsStream=new es,O.coalesceStream=new Vr(m,O.metadataStream),O.headOfPipeline=O.aacStream,O.aacStream.pipe(O.audioTimestampRolloverStream).pipe(O.adtsStream),O.aacStream.pipe(O.timedMetadataTimestampRolloverStream).pipe(O.metadataStream).pipe(O.coalesceStream),O.metadataStream.on("timestamp",function(H){O.aacStream.setTimestamp(H.timeStamp)}),O.aacStream.on("data",function(H){H.type!=="timed-metadata"&&H.type!=="audio"||O.audioSegmentStream||(P=P||{timelineStartInfo:{baseMediaDecodeTime:x.baseMediaDecodeTime},codec:"adts",type:"audio"},O.coalesceStream.numberOfTracks++,O.audioSegmentStream=new sn(P,m),O.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),O.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),O.adtsStream.pipe(O.audioSegmentStream).pipe(O.coalesceStream),x.trigger("trackinfo",{hasAudio:!!P,hasVideo:!!T}))}),O.coalesceStream.on("data",this.trigger.bind(this,"data")),O.coalesceStream.on("done",this.trigger.bind(this,"done")),as(this,O)},this.setupTsPipeline=function(){var O={};this.transmuxPipeline_=O,O.type="ts",O.metadataStream=new Sr.MetadataStream,O.packetStream=new Sr.TransportPacketStream,O.parseStream=new Sr.TransportParseStream,O.elementaryStream=new Sr.ElementaryStream,O.timestampRolloverStream=new Sr.TimestampRolloverStream,O.adtsStream=new es,O.h264Stream=new Bu,O.captionStream=new Sr.CaptionStream(m),O.coalesceStream=new Vr(m,O.metadataStream),O.headOfPipeline=O.packetStream,O.packetStream.pipe(O.parseStream).pipe(O.elementaryStream).pipe(O.timestampRolloverStream),O.timestampRolloverStream.pipe(O.h264Stream),O.timestampRolloverStream.pipe(O.adtsStream),O.timestampRolloverStream.pipe(O.metadataStream).pipe(O.coalesceStream),O.h264Stream.pipe(O.captionStream).pipe(O.coalesceStream),O.elementaryStream.on("data",function(H){var V;if(H.type==="metadata"){for(V=H.tracks.length;V--;)!T&&H.tracks[V].type==="video"?(T=H.tracks[V],T.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime):!P&&H.tracks[V].type==="audio"&&(P=H.tracks[V],P.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime);T&&!O.videoSegmentStream&&(O.coalesceStream.numberOfTracks++,O.videoSegmentStream=new Nn(T,m),O.videoSegmentStream.on("log",x.getLogTrigger_("videoSegmentStream")),O.videoSegmentStream.on("timelineStartInfo",function(J){P&&!m.keepOriginalTimestamps&&(P.timelineStartInfo=J,O.audioSegmentStream.setEarliestDts(J.dts-x.baseMediaDecodeTime))}),O.videoSegmentStream.on("processedGopsInfo",x.trigger.bind(x,"gopInfo")),O.videoSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"videoSegmentTimingInfo")),O.videoSegmentStream.on("baseMediaDecodeTime",function(J){P&&O.audioSegmentStream.setVideoBaseMediaDecodeTime(J)}),O.videoSegmentStream.on("timingInfo",x.trigger.bind(x,"videoTimingInfo")),O.h264Stream.pipe(O.videoSegmentStream).pipe(O.coalesceStream)),P&&!O.audioSegmentStream&&(O.coalesceStream.numberOfTracks++,O.audioSegmentStream=new sn(P,m),O.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),O.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),O.audioSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"audioSegmentTimingInfo")),O.adtsStream.pipe(O.audioSegmentStream).pipe(O.coalesceStream)),x.trigger("trackinfo",{hasAudio:!!P,hasVideo:!!T})}}),O.coalesceStream.on("data",this.trigger.bind(this,"data")),O.coalesceStream.on("id3Frame",function(H){H.dispatchType=O.metadataStream.dispatchType,x.trigger("id3Frame",H)}),O.coalesceStream.on("caption",this.trigger.bind(this,"caption")),O.coalesceStream.on("done",this.trigger.bind(this,"done")),as(this,O)},this.setBaseMediaDecodeTime=function(O){var H=this.transmuxPipeline_;m.keepOriginalTimestamps||(this.baseMediaDecodeTime=O),P&&(P.timelineStartInfo.dts=void 0,P.timelineStartInfo.pts=void 0,fr.clearDtsInfo(P),H.audioTimestampRolloverStream&&H.audioTimestampRolloverStream.discontinuity()),T&&(H.videoSegmentStream&&(H.videoSegmentStream.gopCache_=[]),T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,fr.clearDtsInfo(T),H.captionStream.reset()),H.timestampRolloverStream&&H.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(O){P&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(O)},this.setRemux=function(O){var H=this.transmuxPipeline_;m.remux=O,H&&H.coalesceStream&&H.coalesceStream.setRemux(O)},this.alignGopsWith=function(O){T&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(O)},this.getLogTrigger_=function(O){var H=this;return function(V){V.stream=O,H.trigger("log",V)}},this.push=function(O){if(y){var H=Uu(O);H&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!H&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),y=!1}this.transmuxPipeline_.headOfPipeline.push(O)},this.flush=function(){y=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ui.prototype=new t;var Do={Transmuxer:ui,VideoSegmentStream:Nn,AudioSegmentStream:sn,AUDIO_PROPERTIES:li,VIDEO_PROPERTIES:Yi,generateSegmentTimingInfo:ss},os=function(m){return m>>>0},ls=function(m){return("00"+m.toString(16)).slice(-2)},ci={toUnsigned:os,toHexString:ls},ju=function(m){var x="";return x+=String.fromCharCode(m[0]),x+=String.fromCharCode(m[1]),x+=String.fromCharCode(m[2]),x+=String.fromCharCode(m[3]),x},on=ju,Io=ci.toUnsigned,Qi=function F(m,x){var y=[],T,P,O,H,V;if(!x.length)return null;for(T=0;T<m.byteLength;)P=Io(m[T]<<24|m[T+1]<<16|m[T+2]<<8|m[T+3]),O=on(m.subarray(T+4,T+8)),H=P>1?T+P:m.byteLength,O===x[0]&&(x.length===1?y.push(m.subarray(T+8,H)):(V=F(m.subarray(T+8,H),x.slice(1)),V.length&&(y=y.concat(V)))),T=H;return y},ft=Qi,Lo=ci.toUnsigned,Hu=function(m){var x={version:m[0],flags:new Uint8Array(m.subarray(1,4)),baseMediaDecodeTime:Lo(m[4]<<24|m[5]<<16|m[6]<<8|m[7])};return x.version===1&&(x.baseMediaDecodeTime*=Math.pow(2,32),x.baseMediaDecodeTime+=Lo(m[8]<<24|m[9]<<16|m[10]<<8|m[11])),x},us=Hu,zu=function(m){return{isLeading:(m[0]&12)>>>2,dependsOn:m[0]&3,isDependedOn:(m[1]&192)>>>6,hasRedundancy:(m[1]&48)>>>4,paddingValue:(m[1]&14)>>>1,isNonSyncSample:m[1]&1,degradationPriority:m[2]<<8|m[3]}},Ro=zu,Mo=function(m){var x={version:m[0],flags:new Uint8Array(m.subarray(1,4)),samples:[]},y=new DataView(m.buffer,m.byteOffset,m.byteLength),T=x.flags[2]&1,P=x.flags[2]&4,O=x.flags[1]&1,H=x.flags[1]&2,V=x.flags[1]&4,J=x.flags[1]&8,X=y.getUint32(4),ne=8,ge;for(T&&(x.dataOffset=y.getInt32(ne),ne+=4),P&&X&&(ge={flags:Ro(m.subarray(ne,ne+4))},ne+=4,O&&(ge.duration=y.getUint32(ne),ne+=4),H&&(ge.size=y.getUint32(ne),ne+=4),J&&(x.version===1?ge.compositionTimeOffset=y.getInt32(ne):ge.compositionTimeOffset=y.getUint32(ne),ne+=4),x.samples.push(ge),X--);X--;)ge={},O&&(ge.duration=y.getUint32(ne),ne+=4),H&&(ge.size=y.getUint32(ne),ne+=4),V&&(ge.flags=Ro(m.subarray(ne,ne+4)),ne+=4),J&&(x.version===1?ge.compositionTimeOffset=y.getInt32(ne):ge.compositionTimeOffset=y.getUint32(ne),ne+=4),x.samples.push(ge);return x},ln=Mo,Fo=function(m){var x=new DataView(m.buffer,m.byteOffset,m.byteLength),y={version:m[0],flags:new Uint8Array(m.subarray(1,4)),trackId:x.getUint32(4)},T=y.flags[2]&1,P=y.flags[2]&2,O=y.flags[2]&8,H=y.flags[2]&16,V=y.flags[2]&32,J=y.flags[0]&65536,X=y.flags[0]&131072,ne;return ne=8,T&&(ne+=4,y.baseDataOffset=x.getUint32(12),ne+=4),P&&(y.sampleDescriptionIndex=x.getUint32(ne),ne+=4),O&&(y.defaultSampleDuration=x.getUint32(ne),ne+=4),H&&(y.defaultSampleSize=x.getUint32(ne),ne+=4),V&&(y.defaultSampleFlags=x.getUint32(ne)),J&&(y.durationIsEmpty=!0),!T&&X&&(y.baseDataOffsetIsMoof=!0),y},Ji=Fo,Vu=Zn.discardEmulationPreventionBytes,Wu=wn.CaptionStream,qu=function(m,x){for(var y=m,T=0;T<x.length;T++){var P=x[T];if(y<P.size)return P;y-=P.size}return null},Gu=function(m,x,y){var T=new DataView(m.buffer,m.byteOffset,m.byteLength),P={logs:[],seiNals:[]},O,H,V,J;for(H=0;H+4<m.length;H+=V)if(V=T.getUint32(H),H+=4,!(V<=0))switch(m[H]&31){case 6:var X=m.subarray(H+1,H+1+V),ne=qu(H,x);if(O={nalUnitType:"sei_rbsp",size:V,data:X,escapedRBSP:Vu(X),trackId:y},ne)O.pts=ne.pts,O.dts=ne.dts,J=ne;else if(J)O.pts=J.pts,O.dts=J.dts;else{P.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+H+" for trackId "+y+". See mux.js#223."});break}P.seiNals.push(O);break}return P},No=function(m,x,y){var T=x,P=y.defaultSampleDuration||0,O=y.defaultSampleSize||0,H=y.trackId,V=[];return m.forEach(function(J){var X=ln(J),ne=X.samples;ne.forEach(function(ge){ge.duration===void 0&&(ge.duration=P),ge.size===void 0&&(ge.size=O),ge.trackId=H,ge.dts=T,ge.compositionTimeOffset===void 0&&(ge.compositionTimeOffset=0),ge.pts=T+ge.compositionTimeOffset,T+=ge.duration}),V=V.concat(ne)}),V},$u=function(m,x){var y=ft(m,["moof","traf"]),T=ft(m,["mdat"]),P={},O=[];return T.forEach(function(H,V){var J=y[V];O.push({mdat:H,traf:J})}),O.forEach(function(H){var V=H.mdat,J=H.traf,X=ft(J,["tfhd"]),ne=Ji(X[0]),ge=ne.trackId,Ae=ft(J,["tfdt"]),Me=Ae.length>0?us(Ae[0]).baseMediaDecodeTime:0,Se=ft(J,["trun"]),He,yt;x===ge&&Se.length>0&&(He=No(Se,Me,ne),yt=Gu(V,He,ge),P[ge]||(P[ge]={seiNals:[],logs:[]}),P[ge].seiNals=P[ge].seiNals.concat(yt.seiNals),P[ge].logs=P[ge].logs.concat(yt.logs))}),P},Ku=function(m,x,y){var T;if(x===null)return null;T=$u(m,x);var P=T[x]||{};return{seiNals:P.seiNals,logs:P.logs,timescale:y}},Xu=function(){var m=!1,x,y,T,P,O,H;this.isInitialized=function(){return m},this.init=function(V){x=new Wu,m=!0,H=V?V.isPartial:!1,x.on("data",function(J){J.startTime=J.startPts/P,J.endTime=J.endPts/P,O.captions.push(J),O.captionStreams[J.stream]=!0}),x.on("log",function(J){O.logs.push(J)})},this.isNewInit=function(V,J){return V&&V.length===0||J&&typeof J=="object"&&Object.keys(J).length===0?!1:T!==V[0]||P!==J[T]},this.parse=function(V,J,X){var ne;if(this.isInitialized()){if(!J||!X)return null;if(this.isNewInit(J,X))T=J[0],P=X[T];else if(T===null||!P)return y.push(V),null}else return null;for(;y.length>0;){var ge=y.shift();this.parse(ge,J,X)}return ne=Ku(V,T,P),ne&&ne.logs&&(O.logs=O.logs.concat(ne.logs)),ne===null||!ne.seiNals?O.logs.length?{logs:O.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ne.seiNals),this.flushStream(),O)},this.pushNals=function(V){if(!this.isInitialized()||!V||V.length===0)return null;V.forEach(function(J){x.push(J)})},this.flushStream=function(){if(!this.isInitialized())return null;H?x.partialFlush():x.flush()},this.clearParsedCaptions=function(){O.captions=[],O.captionStreams={},O.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;x.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){y=[],T=null,P=null,O?this.clearParsedCaptions():O={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Yu=Xu,Bn=ci.toUnsigned,fi=ci.toHexString,Bo,cs,Uo,fs,jo,Zi;Bo=function(m){var x={},y=ft(m,["moov","trak"]);return y.reduce(function(T,P){var O,H,V,J,X;return O=ft(P,["tkhd"])[0],!O||(H=O[0],V=H===0?12:20,J=Bn(O[V]<<24|O[V+1]<<16|O[V+2]<<8|O[V+3]),X=ft(P,["mdia","mdhd"])[0],!X)?null:(H=X[0],V=H===0?12:20,T[J]=Bn(X[V]<<24|X[V+1]<<16|X[V+2]<<8|X[V+3]),T)},x)},cs=function(m,x){var y,T,P;return y=ft(x,["moof","traf"]),T=[].concat.apply([],y.map(function(O){return ft(O,["tfhd"]).map(function(H){var V,J,X;return V=Bn(H[4]<<24|H[5]<<16|H[6]<<8|H[7]),J=m[V]||9e4,X=ft(O,["tfdt"]).map(function(ne){var ge,Ae;return ge=ne[0],Ae=Bn(ne[4]<<24|ne[5]<<16|ne[6]<<8|ne[7]),ge===1&&(Ae*=Math.pow(2,32),Ae+=Bn(ne[8]<<24|ne[9]<<16|ne[10]<<8|ne[11])),Ae})[0],X=typeof X=="number"&&!isNaN(X)?X:1/0,X/J})})),P=Math.min.apply(null,T),isFinite(P)?P:0},Uo=function(m,x){var y=ft(x,["moof","traf"]),T=0,P=0,O;if(y&&y.length){var H=ft(y[0],["tfhd"])[0],V=ft(y[0],["trun"])[0],J=ft(y[0],["tfdt"])[0];if(H){var X=Ji(H);O=X.trackId}if(J){var ne=us(J);T=ne.baseMediaDecodeTime}if(V){var ge=ln(V);ge.samples&&ge.samples.length&&(P=ge.samples[0].compositionTimeOffset||0)}}var Ae=m[O]||9e4;return(T+P)/Ae},fs=function(m){var x=ft(m,["moov","trak"]),y=[];return x.forEach(function(T){var P=ft(T,["mdia","hdlr"]),O=ft(T,["tkhd"]);P.forEach(function(H,V){var J=on(H.subarray(8,12)),X=O[V],ne,ge,Ae;J==="vide"&&(ne=new DataView(X.buffer,X.byteOffset,X.byteLength),ge=ne.getUint8(0),Ae=ge===0?ne.getUint32(12):ne.getUint32(20),y.push(Ae))})}),y},Zi=function(m){var x=m[0],y=x===0?12:20;return Bn(m[y]<<24|m[y+1]<<16|m[y+2]<<8|m[y+3])},jo=function(m){var x=ft(m,["moov","trak"]),y=[];return x.forEach(function(T){var P={},O=ft(T,["tkhd"])[0],H,V;O&&(H=new DataView(O.buffer,O.byteOffset,O.byteLength),V=H.getUint8(0),P.id=V===0?H.getUint32(12):H.getUint32(20));var J=ft(T,["mdia","hdlr"])[0];if(J){var X=on(J.subarray(8,12));X==="vide"?P.type="video":X==="soun"?P.type="audio":P.type=X}var ne=ft(T,["mdia","minf","stbl","stsd"])[0];if(ne){var ge=ne.subarray(8);P.codec=on(ge.subarray(4,8));var Ae=ft(ge,[P.codec])[0],Me,Se;Ae&&(/^[asm]vc[1-9]$/i.test(P.codec)?(Me=Ae.subarray(78),Se=on(Me.subarray(4,8)),Se==="avcC"&&Me.length>11?(P.codec+=".",P.codec+=fi(Me[9]),P.codec+=fi(Me[10]),P.codec+=fi(Me[11])):P.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(P.codec)?(Me=Ae.subarray(28),Se=on(Me.subarray(4,8)),Se==="esds"&&Me.length>20&&Me[19]!==0?(P.codec+="."+fi(Me[19]),P.codec+="."+fi(Me[20]>>>2&63).replace(/^0/,"")):P.codec="mp4a.40.2"):P.codec=P.codec.toLowerCase())}var He=ft(T,["mdia","mdhd"])[0];He&&(P.timescale=Zi(He)),y.push(P)}),y};var ea={findBox:ft,parseType:on,timescale:Bo,startTime:cs,compositionStartTime:Uo,videoTrackIds:fs,tracks:jo,getTimescaleFromMediaHeader:Zi},ta=function(m){var x=m[1]&31;return x<<=8,x|=m[2],x},di=function(m){return!!(m[1]&64)},Un=function(m){var x=0;return(m[3]&48)>>>4>1&&(x+=m[4]+1),x},ds=function(m,x){var y=ta(m);return y===0?"pat":y===x?"pmt":x?"pes":null},hi=function(m){var x=di(m),y=4+Un(m);return x&&(y+=m[y]+1),(m[y+10]&31)<<8|m[y+11]},pi=function(m){var x={},y=di(m),T=4+Un(m);if(y&&(T+=m[T]+1),!!(m[T+5]&1)){var P,O,H;P=(m[T+1]&15)<<8|m[T+2],O=3+P-4,H=(m[T+10]&15)<<8|m[T+11];for(var V=12+H;V<O;){var J=T+V;x[(m[J+1]&31)<<8|m[J+2]]=m[J],V+=((m[J+3]&15)<<8|m[J+4])+5}return x}},Ho=function(m,x){var y=ta(m),T=x[y];switch(T){case wt.H264_STREAM_TYPE:return"video";case wt.ADTS_STREAM_TYPE:return"audio";case wt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},zo=function(m){var x=di(m);if(!x)return null;var y=4+Un(m);if(y>=m.byteLength)return null;var T=null,P;return P=m[y+7],P&192&&(T={},T.pts=(m[y+9]&14)<<27|(m[y+10]&255)<<20|(m[y+11]&254)<<12|(m[y+12]&255)<<5|(m[y+13]&254)>>>3,T.pts*=4,T.pts+=(m[y+13]&6)>>>1,T.dts=T.pts,P&64&&(T.dts=(m[y+14]&14)<<27|(m[y+15]&255)<<20|(m[y+16]&254)<<12|(m[y+17]&255)<<5|(m[y+18]&254)>>>3,T.dts*=4,T.dts+=(m[y+18]&6)>>>1)),T},hs=function(m){switch(m){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Vo=function(m){for(var x=4+Un(m),y=m.subarray(x),T=0,P=0,O=!1,H;P<y.byteLength-3;P++)if(y[P+2]===1){T=P+5;break}for(;T<y.byteLength;)switch(y[T]){case 0:if(y[T-1]!==0){T+=2;break}else if(y[T-2]!==0){T++;break}P+3!==T-2&&(H=hs(y[P+3]&31),H==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0));do T++;while(y[T]!==1&&T<y.length);P=T-2,T+=3;break;case 1:if(y[T-1]!==0||y[T-2]!==0){T+=3;break}H=hs(y[P+3]&31),H==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0),P=T-2,T+=3;break;default:T+=3;break}return y=y.subarray(P),T-=P,P=0,y&&y.byteLength>3&&(H=hs(y[P+3]&31),H==="slice_layer_without_partitioning_rbsp_idr"&&(O=!0)),O},ps={parseType:ds,parsePat:hi,parsePmt:pi,parsePayloadUnitStartIndicator:di,parsePesType:Ho,parsePesTime:zo,videoPacketContainsKeyFrame:Vo},Wr=Wi.handleRollover,ot={};ot.ts=ps,ot.aac=Mn;var Er=je.ONE_SECOND_IN_TS,Ct=188,hr=71,Qu=function(m,x){for(var y=0,T=Ct,P,O;T<m.byteLength;){if(m[y]===hr&&m[T]===hr){switch(P=m.subarray(y,T),O=ot.ts.parseType(P,x.pid),O){case"pat":x.pid=ot.ts.parsePat(P);break;case"pmt":var H=ot.ts.parsePmt(P);x.table=x.table||{},Object.keys(H).forEach(function(V){x.table[V]=H[V]});break}y+=Ct,T+=Ct;continue}y++,T++}},ra=function(m,x,y){for(var T=0,P=Ct,O,H,V,J,X,ne=!1;P<=m.byteLength;){if(m[T]===hr&&(m[P]===hr||P===m.byteLength)){switch(O=m.subarray(T,P),H=ot.ts.parseType(O,x.pid),H){case"pes":V=ot.ts.parsePesType(O,x.table),J=ot.ts.parsePayloadUnitStartIndicator(O),V==="audio"&&J&&(X=ot.ts.parsePesTime(O),X&&(X.type="audio",y.audio.push(X),ne=!0));break}if(ne)break;T+=Ct,P+=Ct;continue}T++,P++}for(P=m.byteLength,T=P-Ct,ne=!1;T>=0;){if(m[T]===hr&&(m[P]===hr||P===m.byteLength)){switch(O=m.subarray(T,P),H=ot.ts.parseType(O,x.pid),H){case"pes":V=ot.ts.parsePesType(O,x.table),J=ot.ts.parsePayloadUnitStartIndicator(O),V==="audio"&&J&&(X=ot.ts.parsePesTime(O),X&&(X.type="audio",y.audio.push(X),ne=!0));break}if(ne)break;T-=Ct,P-=Ct;continue}T--,P--}},Wo=function(m,x,y){for(var T=0,P=Ct,O,H,V,J,X,ne,ge,Ae,Me=!1,Se={data:[],size:0};P<m.byteLength;){if(m[T]===hr&&m[P]===hr){switch(O=m.subarray(T,P),H=ot.ts.parseType(O,x.pid),H){case"pes":if(V=ot.ts.parsePesType(O,x.table),J=ot.ts.parsePayloadUnitStartIndicator(O),V==="video"&&(J&&!Me&&(X=ot.ts.parsePesTime(O),X&&(X.type="video",y.video.push(X),Me=!0)),!y.firstKeyFrame)){if(J&&Se.size!==0){for(ne=new Uint8Array(Se.size),ge=0;Se.data.length;)Ae=Se.data.shift(),ne.set(Ae,ge),ge+=Ae.byteLength;if(ot.ts.videoPacketContainsKeyFrame(ne)){var He=ot.ts.parsePesTime(ne);He?(y.firstKeyFrame=He,y.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Se.size=0}Se.data.push(O),Se.size+=O.byteLength}break}if(Me&&y.firstKeyFrame)break;T+=Ct,P+=Ct;continue}T++,P++}for(P=m.byteLength,T=P-Ct,Me=!1;T>=0;){if(m[T]===hr&&m[P]===hr){switch(O=m.subarray(T,P),H=ot.ts.parseType(O,x.pid),H){case"pes":V=ot.ts.parsePesType(O,x.table),J=ot.ts.parsePayloadUnitStartIndicator(O),V==="video"&&J&&(X=ot.ts.parsePesTime(O),X&&(X.type="video",y.video.push(X),Me=!0));break}if(Me)break;T-=Ct,P-=Ct;continue}T--,P--}},gs=function(m,x){if(m.audio&&m.audio.length){var y=x;(typeof y=="undefined"||isNaN(y))&&(y=m.audio[0].dts),m.audio.forEach(function(O){O.dts=Wr(O.dts,y),O.pts=Wr(O.pts,y),O.dtsTime=O.dts/Er,O.ptsTime=O.pts/Er})}if(m.video&&m.video.length){var T=x;if((typeof T=="undefined"||isNaN(T))&&(T=m.video[0].dts),m.video.forEach(function(O){O.dts=Wr(O.dts,T),O.pts=Wr(O.pts,T),O.dtsTime=O.dts/Er,O.ptsTime=O.pts/Er}),m.firstKeyFrame){var P=m.firstKeyFrame;P.dts=Wr(P.dts,T),P.pts=Wr(P.pts,T),P.dtsTime=P.dts/Er,P.ptsTime=P.pts/Er}}},qo=function(m){for(var x=!1,y=0,T=null,P=null,O=0,H=0,V;m.length-H>=3;){var J=ot.aac.parseType(m,H);switch(J){case"timed-metadata":if(m.length-H<10){x=!0;break}if(O=ot.aac.parseId3TagSize(m,H),O>m.length){x=!0;break}P===null&&(V=m.subarray(H,H+O),P=ot.aac.parseAacTimestamp(V)),H+=O;break;case"audio":if(m.length-H<7){x=!0;break}if(O=ot.aac.parseAdtsSize(m,H),O>m.length){x=!0;break}T===null&&(V=m.subarray(H,H+O),T=ot.aac.parseSampleRate(V)),y++,H+=O;break;default:H++;break}if(x)return null}if(T===null||P===null)return null;var X=Er/T,ne={audio:[{type:"audio",dts:P,pts:P},{type:"audio",dts:P+y*1024*X,pts:P+y*1024*X}]};return ne},Go=function(m){var x={pid:null,table:null},y={};Qu(m,x);for(var T in x.table)if(x.table.hasOwnProperty(T)){var P=x.table[T];switch(P){case wt.H264_STREAM_TYPE:y.video=[],Wo(m,x,y),y.video.length===0&&delete y.video;break;case wt.ADTS_STREAM_TYPE:y.audio=[],ra(m,x,y),y.audio.length===0&&delete y.audio;break}}return y},ms=function(m,x){var y=ot.aac.isLikelyAacData(m),T;return y?T=qo(m):T=Go(m),!T||!T.audio&&!T.video?null:(gs(T,x),T)},$o={inspect:ms,parseAudioPes_:ra},Ko=function(m,x){x.on("data",function(y){var T=y.initSegment;y.initSegment={data:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength};var P=y.data;y.data=P.buffer,m.postMessage({action:"data",segment:y,byteOffset:P.byteOffset,byteLength:P.byteLength},[y.data])}),x.on("done",function(y){m.postMessage({action:"done"})}),x.on("gopInfo",function(y){m.postMessage({action:"gopInfo",gopInfo:y})}),x.on("videoSegmentTimingInfo",function(y){var T={start:{decode:je.videoTsToSeconds(y.start.dts),presentation:je.videoTsToSeconds(y.start.pts)},end:{decode:je.videoTsToSeconds(y.end.dts),presentation:je.videoTsToSeconds(y.end.pts)},baseMediaDecodeTime:je.videoTsToSeconds(y.baseMediaDecodeTime)};y.prependedContentDuration&&(T.prependedContentDuration=je.videoTsToSeconds(y.prependedContentDuration)),m.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:T})}),x.on("audioSegmentTimingInfo",function(y){var T={start:{decode:je.videoTsToSeconds(y.start.dts),presentation:je.videoTsToSeconds(y.start.pts)},end:{decode:je.videoTsToSeconds(y.end.dts),presentation:je.videoTsToSeconds(y.end.pts)},baseMediaDecodeTime:je.videoTsToSeconds(y.baseMediaDecodeTime)};y.prependedContentDuration&&(T.prependedContentDuration=je.videoTsToSeconds(y.prependedContentDuration)),m.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:T})}),x.on("id3Frame",function(y){m.postMessage({action:"id3Frame",id3Frame:y})}),x.on("caption",function(y){m.postMessage({action:"caption",caption:y})}),x.on("trackinfo",function(y){m.postMessage({action:"trackinfo",trackInfo:y})}),x.on("audioTimingInfo",function(y){m.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:je.videoTsToSeconds(y.start),end:je.videoTsToSeconds(y.end)}})}),x.on("videoTimingInfo",function(y){m.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:je.videoTsToSeconds(y.start),end:je.videoTsToSeconds(y.end)}})}),x.on("log",function(y){m.postMessage({action:"log",log:y})})},na=function(){function F(x,y){this.options=y||{},this.self=x,this.init()}var m=F.prototype;return m.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Do.Transmuxer(this.options),Ko(this.self,this.transmuxer)},m.pushMp4Captions=function(y){this.captionParser||(this.captionParser=new Yu,this.captionParser.init());var T=new Uint8Array(y.data,y.byteOffset,y.byteLength),P=this.captionParser.parse(T,y.trackIds,y.timescales);this.self.postMessage({action:"mp4Captions",captions:P&&P.captions||[],logs:P&&P.logs||[],data:T.buffer},[T.buffer])},m.probeMp4StartTime=function(y){var T=y.timescales,P=y.data,O=ea.startTime(T,P);this.self.postMessage({action:"probeMp4StartTime",startTime:O,data:P},[P.buffer])},m.probeMp4Tracks=function(y){var T=y.data,P=ea.tracks(T);this.self.postMessage({action:"probeMp4Tracks",tracks:P,data:T},[T.buffer])},m.probeTs=function(y){var T=y.data,P=y.baseStartTime,O=typeof P=="number"&&!isNaN(P)?P*je.ONE_SECOND_IN_TS:void 0,H=$o.inspect(T,O),V=null;H&&(V={hasVideo:H.video&&H.video.length===2||!1,hasAudio:H.audio&&H.audio.length===2||!1},V.hasVideo&&(V.videoStart=H.video[0].ptsTime),V.hasAudio&&(V.audioStart=H.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:V,data:T},[T.buffer])},m.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},m.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},m.push=function(y){var T=new Uint8Array(y.data,y.byteOffset,y.byteLength);this.transmuxer.push(T)},m.reset=function(){this.transmuxer.reset()},m.setTimestampOffset=function(y){var T=y.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(je.secondsToVideoTs(T)))},m.setAudioAppendStart=function(y){this.transmuxer.setAudioAppendStart(Math.ceil(je.secondsToVideoTs(y.appendStart)))},m.setRemux=function(y){this.transmuxer.setRemux(y.remux)},m.flush=function(y){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},m.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},m.alignGopsWith=function(y){this.transmuxer.alignGopsWith(y.gopsToAlignWith.slice())},F}();self.onmessage=function(F){if(F.data.action==="init"&&F.data.options){this.messageHandlers=new na(self,F.data.options);return}this.messageHandlers||(this.messageHandlers=new na(self)),F.data&&F.data.action&&F.data.action!=="init"&&this.messageHandlers[F.data.action]&&this.messageHandlers[F.data.action](F.data)}})),PE=uy(wE),AE=function(t,r,i){var e=t.data.segment,n=e.type,s=e.initSegment,o=e.captions,l=e.captionStreams,u=e.metadata,f=e.videoFrameDtsTime,c=e.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},h={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof f!="undefined"&&(h.videoFrameDtsTime=f),typeof c!="undefined"&&(h.videoFramePtsTime=c),i(h)},OE=function(t){var r=t.transmuxedData,i=t.callback;r.buffer=[],i(r)},DE=function(t,r){r.gopInfo=t.data.gopInfo},dy=function(t){var r=t.transmuxer,i=t.bytes,e=t.audioAppendStart,n=t.gopsToAlignWith,s=t.remux,o=t.onData,l=t.onTrackInfo,u=t.onAudioTimingInfo,f=t.onVideoTimingInfo,c=t.onVideoSegmentTimingInfo,d=t.onAudioSegmentTimingInfo,h=t.onId3,p=t.onCaptions,g=t.onDone,v=t.onEndedTimeline,b=t.onTransmuxerLog,S=t.isEndOfTimeline,C={buffer:[]},A=S,_=function(j){r.currentTransmux===t&&(j.data.action==="data"&&AE(j,C,o),j.data.action==="trackinfo"&&l(j.data.trackInfo),j.data.action==="gopInfo"&&DE(j,C),j.data.action==="audioTimingInfo"&&u(j.data.audioTimingInfo),j.data.action==="videoTimingInfo"&&f(j.data.videoTimingInfo),j.data.action==="videoSegmentTimingInfo"&&c(j.data.videoSegmentTimingInfo),j.data.action==="audioSegmentTimingInfo"&&d(j.data.audioSegmentTimingInfo),j.data.action==="id3Frame"&&h([j.data.id3Frame],j.data.id3Frame.dispatchType),j.data.action==="caption"&&p(j.data.caption),j.data.action==="endedtimeline"&&(A=!1,v()),j.data.action==="log"&&b(j.data.log),j.data.type==="transmuxed"&&(A||(r.onmessage=null,OE({transmuxedData:C,callback:g}),hy(r))))};if(r.onmessage=_,e&&r.postMessage({action:"setAudioAppendStart",appendStart:e}),Array.isArray(n)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof s!="undefined"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var w=i instanceof ArrayBuffer?i:i.buffer,k=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:w,byteOffset:k,byteLength:i.byteLength},[w])}S&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},hy=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():dy(t.currentTransmux))},py=function(t,r){t.postMessage({action:r}),hy(t)},gy=function(t,r){if(!r.currentTransmux){r.currentTransmux=t,py(r,t);return}r.transmuxQueue.push(py.bind(null,r,t))},IE=function(t){gy("reset",t)},LE=function(t){gy("endTimeline",t)},my=function(t){if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,dy(t);return}t.transmuxer.transmuxQueue.push(t)},RE=function(t){var r=new PE;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:t}),r},zd={reset:IE,endTimeline:LE,transmux:my,createTransmuxer:RE},bu=function(t){var r=t.transmuxer,i=t.endAction||t.action,e=t.callback,n=wr({},t,{endAction:null,transmuxer:null,callback:null}),s=function u(f){f.data.action===i&&(r.removeEventListener("message",u),f.data.data&&(f.data.data=new Uint8Array(f.data.data,t.byteOffset||0,t.byteLength||f.data.data.byteLength),t.data&&(t.data=f.data.data)),e(f.data))};if(r.addEventListener("message",s),t.data){var o=t.data instanceof ArrayBuffer;n.byteOffset=o?0:t.data.byteOffset,n.byteLength=t.data.byteLength;var l=[o?t.data:t.data.buffer];r.postMessage(n,l)}else r.postMessage(n)},rn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Vd=function(t){t.forEach(function(r){r.abort()})},ME=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},FE=function(t){var r=t.target,i=Date.now()-r.requestTime,e={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return e.bytesReceived=t.loaded,e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3),e},Wd=function(t,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:rn.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:rn.ABORTED,xhr:r}:t?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:rn.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:rn.FAILURE,xhr:r}:null},vy=function(t,r,i){return function(e,n){var s=n.response,o=Wd(e,n);if(o)return i(o,t);if(s.byteLength!==16)return i({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:rn.FAILURE,xhr:n},t);for(var l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),f=0;f<r.length;f++)r[f].bytes=u;return i(null,t)}},yy=function(t,r){var i=kf(t.map.bytes);if(i!=="mp4"){var e=t.map.resolvedUri||t.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+e,code:rn.FAILURE})}bu({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(s){var o=s.tracks,l=s.data;return t.map.bytes=l,o.forEach(function(u){t.map.tracks=t.map.tracks||{},!t.map.tracks[u.type]&&(t.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[u.id]=u.timescale))}),r(null)}})},NE=function(t){var r=t.segment,i=t.finishProcessingFn;return function(e,n){var s=Wd(e,n);if(s)return i(s,r);var o=new Uint8Array(n.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,yy(r,function(l){if(l)return l.xhr=n,l.status=n.status,i(l,r);i(null,r)})}},BE=function(t){var r=t.segment,i=t.finishProcessingFn,e=t.responseType;return function(n,s){var o=Wd(n,s);if(o)return i(o,r);var l=e==="arraybuffer"||!s.responseText?s.response:CE(s.responseText.substring(r.lastReachedChar||0));return r.stats=ME(s),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),i(null,r)}},UE=function(t){var r=t.segment,i=t.bytes,e=t.trackInfoFn,n=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,f=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,g=r.map&&r.map.tracks||{},v=Boolean(g.audio&&g.video),b=n.bind(null,r,"audio","start"),S=n.bind(null,r,"audio","end"),C=n.bind(null,r,"video","start"),A=n.bind(null,r,"video","end"),_=function(){return my({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:v,onData:function(R){R.type=R.type==="combined"?"video":R.type,d(r,R)},onTrackInfo:function(R){e&&(v&&(R.isMuxed=!0),e(r,R))},onAudioTimingInfo:function(R){b&&typeof R.start!="undefined"&&(b(R.start),b=null),S&&typeof R.end!="undefined"&&S(R.end)},onVideoTimingInfo:function(R){C&&typeof R.start!="undefined"&&(C(R.start),C=null),A&&typeof R.end!="undefined"&&A(R.end)},onVideoSegmentTimingInfo:function(R){s(R)},onAudioSegmentTimingInfo:function(R){o(R)},onId3:function(R,j){l(r,R,j)},onCaptions:function(R){u(r,[R])},isEndOfTimeline:f,onEndedTimeline:function(){c()},onTransmuxerLog:p,onDone:function(R){!h||(R.type=R.type==="combined"?"video":R.type,h(null,r,R))}})};bu({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(k){r.bytes=i=k.data;var R=k.result;R&&(e(r,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:v}),e=null,R.hasAudio&&!v&&b(R.audioStart),R.hasVideo&&C(R.videoStart),b=null,C=null),_()}})},xy=function(t){var r=t.segment,i=t.bytes,e=t.trackInfoFn,n=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,f=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,g=new Uint8Array(i);if(l1(g)){r.isFmp4=!0;var v=r.map.tracks,b={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(b.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(b.videoCodec=v.video.codec),v.video&&v.audio&&(b.isMuxed=!0),e(r,b);var S=function(A){d(r,{data:g,type:b.hasAudio&&!b.isMuxed?"audio":"video"}),A&&A.length&&u(r,A),h(null,r,{})};bu({action:"probeMp4StartTime",timescales:r.map.timescales,data:g,transmuxer:r.transmuxer,callback:function(A){var _=A.data,w=A.startTime;if(i=_.buffer,r.bytes=g=_,b.hasAudio&&!b.isMuxed&&n(r,"audio","start",w),b.hasVideo&&n(r,"video","start",w),!v.video||!_.byteLength||!r.transmuxer){S();return}bu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:g,timescales:r.map.timescales,trackIds:[v.video.id],callback:function(R){i=R.data.buffer,r.bytes=g=R.data,R.logs.forEach(function(j){p(se.mergeOptions(j,{stream:"mp4CaptionParser"}))}),S(R.captions)}})}});return}if(!r.transmuxer){h(null,r,{});return}if(typeof r.container=="undefined"&&(r.container=kf(g)),r.container!=="ts"&&r.container!=="aac"){e(r,{hasAudio:!1,hasVideo:!1}),h(null,r,{});return}UE({segment:r,bytes:i,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:f,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p})},_y=function(t,r){var i=t.id,e=t.key,n=t.encryptedBytes,s=t.decryptionWorker,o=function u(f){if(f.data.source===i){s.removeEventListener("message",u);var c=f.data.decrypted;r(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};s.addEventListener("message",o);var l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(ty({source:i,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},jE=function(t){var r=t.decryptionWorker,i=t.segment,e=t.trackInfoFn,n=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,f=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog;_y({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(g){i.bytes=g,xy({segment:i,bytes:i.bytes,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:f,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p})})},HE=function(t){var r=t.activeXhrs,i=t.decryptionWorker,e=t.trackInfoFn,n=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,f=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,g=0,v=!1;return function(b,S){if(!v){if(b)return v=!0,Vd(r),h(b,S);if(g+=1,g===r.length){var C=function(){if(S.encryptedBytes)return jE({decryptionWorker:i,segment:S,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:f,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p});xy({segment:S,bytes:S.bytes,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:f,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return _y({decryptionWorker:i,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key},function(A){S.map.bytes=A,yy(S,function(_){if(_)return Vd(r),h(_,S);C()})});C()}}}},zE=function(t){var r=t.loadendState,i=t.abortFn;return function(e){var n=e.target;n.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},VE=function(t){var r=t.segment,i=t.progressFn;return t.trackInfoFn,t.timingInfoFn,t.videoSegmentTimingInfoFn,t.audioSegmentTimingInfoFn,t.id3Fn,t.captionsFn,t.isEndOfTimeline,t.endedTimelineFn,t.dataFn,function(e){var n=e.target;if(!n.aborted)return r.stats=se.mergeOptions(r.stats,FE(e)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(e,r)}},WE=function(t){var r=t.xhr,i=t.xhrOptions,e=t.decryptionWorker,n=t.segment,s=t.abortFn,o=t.progressFn,l=t.trackInfoFn,u=t.timingInfoFn,f=t.videoSegmentTimingInfoFn,c=t.audioSegmentTimingInfoFn,d=t.id3Fn,h=t.captionsFn,p=t.isEndOfTimeline,g=t.endedTimelineFn,v=t.dataFn,b=t.doneFn,S=t.onTransmuxerLog,C=[],A=HE({activeXhrs:C,decryptionWorker:e,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:p,endedTimelineFn:g,dataFn:v,doneFn:b,onTransmuxerLog:S});if(n.key&&!n.key.bytes){var _=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&_.push(n.map.key);var w=se.mergeOptions(i,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),k=vy(n,_,A),R=r(w,k);C.push(R)}if(n.map&&!n.map.bytes){var j=n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri);if(j){var N=se.mergeOptions(i,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),M=vy(n,[n.map.key],A),z=r(N,M);C.push(z)}var I=se.mergeOptions(i,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:Ud(n.map)}),U=NE({segment:n,finishProcessingFn:A}),K=r(I,U);C.push(K)}var te=se.mergeOptions(i,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:Ud(n)}),oe=BE({segment:n,finishProcessingFn:A,responseType:te.responseType}),G=r(te,oe);G.addEventListener("progress",VE({segment:n,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:p,endedTimelineFn:g,dataFn:v})),C.push(G);var q={};return C.forEach(function(Z){Z.addEventListener("loadend",zE({loadendState:q,abortFn:s}))}),function(){return Vd(C)}},qE=jr("CodecUtils"),GE=function(t){var r=t.attributes||{};if(r.CODECS)return Jr(r.CODECS)},by=function(t,r){var i=r.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},$E=function(t,r){if(!by(t,r))return!0;var i=r.attributes||{},e=t.mediaGroups.AUDIO[i.AUDIO];for(var n in e)if(!e[n].uri&&!e[n].playlists)return!0;return!1},Tu=function(t){var r={};return t.forEach(function(i){var e=i.mediaType,n=i.type,s=i.details;r[e]=r[e]||[],r[e].push($p(""+n+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){qE("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},Ty=function(t){var r=0;return t.audio&&r++,t.video&&r++,r},go=function(t,r){var i=r.attributes||{},e=Tu(GE(r)||[]);if(by(t,r)&&!e.audio&&!$E(t,r)){var n=Tu(wb(t,i.AUDIO)||[]);n.audio&&(e.audio=n.audio)}return e},Su=jr("PlaylistSelector"),Sy=function(t){if(!(!t||!t.playlist)){var r=t.playlist;return JSON.stringify({id:r.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:r.attributes&&r.attributes.CODECS||""})}},Eu=function(t,r){if(!t)return"";var i=Q.getComputedStyle(t);return i?i[r]:""},Ka=function(t,r){var i=t.slice();t.sort(function(e,n){var s=r(e,n);return s===0?i.indexOf(e)-i.indexOf(n):s})},qd=function(t,r){var i,e;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||Q.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(e=r.attributes.BANDWIDTH),e=e||Q.Number.MAX_VALUE,i-e},KE=function(t,r){var i,e;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||Q.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(e=r.attributes.RESOLUTION.width),e=e||Q.Number.MAX_VALUE,i===e&&t.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?t.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-e},Ey=function(t,r,i,e,n,s){if(!!t){var o={bandwidth:r,width:i,height:e,limitRenditionByPlayerDimensions:n},l=t.playlists;cr.isAudioOnly(t)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(N){var M,z=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.width,I=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.height;return M=N.attributes&&N.attributes.BANDWIDTH,M=M||Q.Number.MAX_VALUE,{bandwidth:M,width:z,height:I,playlist:N}});Ka(u,function(N,M){return N.bandwidth-M.bandwidth}),u=u.filter(function(N){return!cr.isIncompatible(N.playlist)});var f=u.filter(function(N){return cr.isEnabled(N.playlist)});f.length||(f=u.filter(function(N){return!cr.isDisabled(N.playlist)}));var c=f.filter(function(N){return N.bandwidth*It.BANDWIDTH_VARIANCE<r}),d=c[c.length-1],h=c.filter(function(N){return N.bandwidth===d.bandwidth})[0];if(n===!1){var p=h||f[0]||u[0];if(p&&p.playlist){var g="sortedPlaylistReps";return h&&(g="bandwidthBestRep"),f[0]&&(g="enabledPlaylistReps"),Su("choosing "+Sy(p)+" using "+g+" with options",o),p.playlist}return Su("could not choose a playlist with options",o),null}var v=c.filter(function(N){return N.width&&N.height});Ka(v,function(N,M){return N.width-M.width});var b=v.filter(function(N){return N.width===i&&N.height===e});d=b[b.length-1];var S=b.filter(function(N){return N.bandwidth===d.bandwidth})[0],C,A,_;S||(C=v.filter(function(N){return N.width>i||N.height>e}),A=C.filter(function(N){return N.width===C[0].width&&N.height===C[0].height}),d=A[A.length-1],_=A.filter(function(N){return N.bandwidth===d.bandwidth})[0]);var w;if(s.experimentalLeastPixelDiffSelector){var k=v.map(function(N){return N.pixelDiff=Math.abs(N.width-i)+Math.abs(N.height-e),N});Ka(k,function(N,M){return N.pixelDiff===M.pixelDiff?M.bandwidth-N.bandwidth:N.pixelDiff-M.pixelDiff}),w=k[0]}var R=w||_||S||h||f[0]||u[0];if(R&&R.playlist){var j="sortedPlaylistReps";return w?j="leastPixelDiffRep":_?j="resolutionPlusOneRep":S?j="resolutionBestRep":h?j="bandwidthBestRep":f[0]&&(j="enabledPlaylistReps"),Su("choosing "+Sy(R)+" using "+j+" with options",o),R.playlist}return Su("could not choose a playlist with options",o),null}},Cy=function(){var t=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return Ey(this.playlists.master,this.systemBandwidth,parseInt(Eu(this.tech_.el(),"width"),10)*t,parseInt(Eu(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},XE=function(t){var r=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=t*this.systemBandwidth+(1-t)*r,i=this.systemBandwidth),Ey(this.playlists.master,r,parseInt(Eu(this.tech_.el(),"width"),10)*e,parseInt(Eu(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},YE=function(t){var r=t.master,i=t.currentTime,e=t.bandwidth,n=t.duration,s=t.segmentDuration,o=t.timeUntilRebuffer,l=t.currentTimeline,u=t.syncController,f=r.playlists.filter(function(g){return!cr.isIncompatible(g)}),c=f.filter(cr.isEnabled);c.length||(c=f.filter(function(g){return!cr.isDisabled(g)}));var d=c.filter(cr.hasAttribute.bind(null,"BANDWIDTH")),h=d.map(function(g){var v=u.getSyncPoint(g,n,l,i),b=v?1:2,S=cr.estimateSegmentRequestTime(s,e,g),C=S*b-o;return{playlist:g,rebufferingImpact:C}}),p=h.filter(function(g){return g.rebufferingImpact<=0});return Ka(p,function(g,v){return qd(v.playlist,g.playlist)}),p.length?p[0]:(Ka(h,function(g,v){return g.rebufferingImpact-v.rebufferingImpact}),h[0]||null)},QE=function(){var t=this,r=this.playlists.master.playlists.filter(cr.isEnabled);Ka(r,function(e,n){return qd(e,n)});var i=r.filter(function(e){return!!go(t.playlists.master,e).video});return i[0]||null},JE=function(t){var r=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(function(e){i.set(e,r),r+=e.byteLength})),i},ZE=function(t,r,i){if(!t[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var e=i;/^cc708_/.test(i)&&(e="SERVICE"+i.split("_")[1]);var n=r.textTracks().getTrackById(e);if(n)t[i]=n;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,l=i,u=!1,f=s[e];f&&(o=f.label,l=f.language,u=f.default),t[i]=r.addRemoteTextTrack({kind:"captions",id:e,default:u,label:o,language:l},!1).track}}},eC=function(t){var r=t.inbandTextTracks,i=t.captionArray,e=t.timestampOffset;if(!!i){var n=Q.WebKitDataCue||Q.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new n(s.startTime+e,s.endTime+e,s.text))})}},tC=function(t){Object.defineProperties(t.frame,{id:{get:function(){return se.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return se.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return se.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},rC=function(t){var r=t.inbandTextTracks,i=t.metadataArray,e=t.timestampOffset,n=t.videoDuration;if(!!i){var s=Q.WebKitDataCue||Q.VTTCue,o=r.metadataTrack_;if(!!o&&(i.forEach(function(h){var p=h.cueTime+e;typeof p!="number"||Q.isNaN(p)||p<0||!(p<1/0)||h.frames.forEach(function(g){var v=new s(p,p,g.value||g.url||g.data||"");v.frame=g,v.value=g,tC(v),o.addCue(v)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],f=0;f<l.length;f++)l[f]&&u.push(l[f]);var c=u.reduce(function(h,p){var g=h[p.startTime]||[];return g.push(p),h[p.startTime]=g,h},{}),d=Object.keys(c).sort(function(h,p){return Number(h)-Number(p)});d.forEach(function(h,p){var g=c[h],v=Number(d[p+1])||n;g.forEach(function(b){b.endTime=v})})}}},nC=function(t,r,i){t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=r)},mo=function(t,r,i){var e,n;if(!!i&&!!i.cues)for(e=i.cues.length;e--;)n=i.cues[e],n.startTime>=t&&n.endTime<=r&&i.removeCue(n)},iC=function(t){var r=t.cues;if(!!r)for(var i=0;i<r.length;i++){for(var e=[],n=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(n++,n>1&&e.push(r[s]));e.length&&e.forEach(function(o){return t.removeCue(o)})}},aC=function(t,r,i){if(typeof r=="undefined"||r===null||!t.length)return[];var e=Math.ceil((r-i+3)*Hl.ONE_SECOND_IN_TS),n;for(n=0;n<t.length&&!(t[n].pts>e);n++);return t.slice(n)},sC=function(t,r,i){if(!r.length)return t;if(i)return r.slice();var e=r[0].pts,n=0;for(n;n<t.length&&!(t[n].pts>=e);n++);return t.slice(0,n).concat(r)},oC=function(t,r,i,e){for(var n=Math.ceil((r-e)*Hl.ONE_SECOND_IN_TS),s=Math.ceil((i-e)*Hl.ONE_SECOND_IN_TS),o=t.slice(),l=t.length;l--&&!(t[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(t[u].pts<=n););return u=Math.max(u,0),o.splice(u,l-u+1),o},lC=function(t,r){if(!t&&!r||!t&&r||t&&!r)return!1;if(t===r)return!0;var i=Object.keys(t).sort(),e=Object.keys(r).sort();if(i.length!==e.length)return!1;for(var n=0;n<i.length;n++){var s=i[n];if(s!==e[n]||t[s]!==r[s])return!1}return!0},ky=22,uC=function(t,r,i){r=r||[];for(var e=[],n=0,s=0;s<r.length;s++){var o=r[s];if(t===o.timeline&&(e.push(s),n+=o.duration,n>i))return s}return e.length===0?0:e[e.length-1]},vo=1,cC=500,wy=function(t){return typeof t=="number"&&isFinite(t)},Cu=1/60,fC=function(t,r,i){return t!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},dC=function(t,r,i){var e=r-It.BACK_BUFFER_LENGTH;t.length&&(e=Math.max(e,t.start(0)));var n=r-i;return Math.min(n,e)},Xa=function(t){var r=t.startOfSegment,i=t.duration,e=t.segment,n=t.part,s=t.playlist,o=s.mediaSequence,l=s.id,u=s.segments,f=u===void 0?[]:u,c=t.mediaIndex,d=t.partIndex,h=t.timeline,p=f.length-1,g="mediaIndex/partIndex increment";t.getMediaInfoForTime?g="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(g="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(g+=" with independent "+t.independent);var v=typeof d=="number",b=t.segment.uri?"segment":"pre-segment",S=v?jv({preloadSegment:e})-1:0;return b+" ["+(o+c)+"/"+(o+p)+"]"+(v?" part ["+d+"/"+S+"]":"")+(" segment start/end ["+e.start+" => "+e.end+"]")+(v?" part start/end ["+n.start+" => "+n.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+h+"]")+(" selected by ["+g+"]")+(" playlist ["+l+"]")},Py=function(t){return t+"TimingInfo"},hC=function(t){var r=t.segmentTimeline,i=t.currentTimeline,e=t.startOfSegment,n=t.buffered,s=t.overrideCheck;return!s&&r===i?null:r<i?e:n.length?n.end(n.length-1):e},Ay=function(t){var r=t.timelineChangeController,i=t.currentTimeline,e=t.segmentTimeline,n=t.loaderType,s=t.audioDisabled;if(i===e)return!1;if(n==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==e}if(n==="main"&&s){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===e)}return!1},pC=function(t,r){var i=t&&typeof t.start=="number"&&typeof t.end=="number"?t.end-t.start:0,e=r&&typeof r.start=="number"&&typeof r.end=="number"?r.end-r.start:0;return Math.max(i,e)},Oy=function(t){var r=t.segmentDuration,i=t.maxDuration;return r?Math.round(r)>i+Jn:!1},gC=function(t,r){if(r!=="hls")return null;var i=pC(t.audioTimingInfo,t.videoTimingInfo);if(!i)return null;var e=t.playlist.targetDuration,n=Oy({segmentDuration:i,maxDuration:e*2}),s=Oy({segmentDuration:i,maxDuration:e}),o="Segment with index "+t.mediaIndex+" "+("from playlist "+t.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+t.duration+" ")+("and the target duration is "+e+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return n||s?{severity:n?"warn":"info",message:o}:null},Gd=function(a){we(t,a);function t(i,e){var n;if(n=a.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=i.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=i.hasPlayed,n.currentTime_=i.currentTime,n.seekable_=i.seekable,n.seeking_=i.seeking,n.duration_=i.duration,n.mediaSource_=i.mediaSource,n.vhs_=i.vhs,n.loaderType_=i.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=i.segmentMetadataTrack,n.goalBufferLength_=i.goalBufferLength,n.sourceType_=i.sourceType,n.sourceUpdater_=i.sourceUpdater,n.inbandTextTracks_=i.inbandTextTracks,n.state_="INIT",n.timelineChangeController_=i.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=i.parse708captions,n.captionServices_=i.captionServices,n.experimentalExactManifestTimings=i.experimentalExactManifestTimings,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=se.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=i.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=i.decrypter,n.syncController_=i.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",function(){n.isEndOfStream_()||(n.ended_=!1)}),n.fetchAtBuffer_=!1,n.logger_=jr("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty($e(n),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n.loaderType_==="main"&&n.timelineChangeController_.on("pendingtimelinechange",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n.loaderType_==="audio"&&n.timelineChangeController_.on("timelinechange",function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n}var r=t.prototype;return r.createTransmuxer_=function(){return zd.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e},r.error=function(e){return typeof e!="undefined"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&zd.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return se.createTimeRanges();if(this.loaderType_==="main"){var n=e.hasAudio,s=e.hasVideo,o=e.isMuxed;if(s&&n&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(e,n){if(n===void 0&&(n=!1),!e)return null;var s=_u(e),o=this.initSegments_[s];return n&&!o&&e.bytes&&(this.initSegments_[s]=o={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),o||e},r.segmentKey=function(e,n){if(n===void 0&&(n=!1),!e)return null;var s=ry(e),o=this.keyCache_[s];this.cacheEncryptionKeys_&&n&&!o&&e.bytes&&(this.keyCache_[s]=o={resolvedUri:e.resolvedUri,bytes:e.bytes});var l={resolvedUri:(o||e).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(e,n){if(n===void 0&&(n={}),!!e){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==e.uri){this.mediaIndex!==null&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=e.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var f=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!f.parts||!f.parts.length||!f.parts[this.partIndex])){var c=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=c}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=e.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,e)}},r.pause=function(){this.checkBufferTimeout_&&(Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&zd.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(e,n,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(e,n,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=oC(this.gopBuffer_,e,n,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(e,n,u));for(var f in this.inbandTextTracks_)mo(e,n,this.inbandTextTracks_[f]);mo(e,n,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),cC)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();!e||(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},r.isEndOfStream_=function(e,n,s){if(e===void 0&&(e=this.mediaIndex),n===void 0&&(n=this.playlist_),s===void 0&&(s=this.partIndex),!n||!this.mediaSource_)return!1;var o=typeof e=="number"&&n.segments[e],l=e+1===n.segments.length,u=!o||!o.parts||s+1===o.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var e=this.buffered_(),n=Nv(e)||0,s=Ad(e,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var f={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(f.isSyncRequest)f.mediaIndex=uC(this.currentTimeline_,u,n);else if(this.mediaIndex!==null){var c=u[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;f.startOfSegment=c.end?c.end:n,c.parts&&c.parts[d+1]?(f.mediaIndex=this.mediaIndex,f.partIndex=d+1):f.mediaIndex=this.mediaIndex+1}else{var h=cr.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?n:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),p=h.segmentIndex,g=h.startTime,v=h.partIndex;f.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+n:"currentTime "+this.currentTime_(),f.mediaIndex=p,f.startOfSegment=g,f.partIndex=v}var b=u[f.mediaIndex],S=b&&typeof f.partIndex=="number"&&b.parts&&b.parts[f.partIndex];if(!b||typeof f.partIndex=="number"&&!S)return null;if(typeof f.partIndex!="number"&&b.parts&&(f.partIndex=0,S=b.parts[0]),!s&&S&&!S.independent)if(f.partIndex===0){var C=u[f.mediaIndex-1],A=C.parts&&C.parts.length&&C.parts[C.parts.length-1];A&&A.independent&&(f.mediaIndex-=1,f.partIndex=C.parts.length-1,f.independent="previous segment")}else b.parts[f.partIndex-1].independent&&(f.partIndex-=1,f.independent="previous part");var _=this.mediaSource_&&this.mediaSource_.readyState==="ended";return f.mediaIndex>=u.length-1&&_&&!this.seeking_()?null:this.generateSegmentInfo_(f)},r.generateSegmentInfo_=function(e){var n=e.independent,s=e.playlist,o=e.mediaIndex,l=e.startOfSegment,u=e.isSyncRequest,f=e.partIndex,c=e.forceTimestampOffset,d=e.getMediaInfoForTime,h=s.segments[o],p=typeof f=="number"&&h.parts[f],g={requestId:"segment-loader-"+Math.random(),uri:p&&p.resolvedUri||h.resolvedUri,mediaIndex:o,partIndex:p?f:null,isSyncRequest:u,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:p&&p.duration||h.duration,segment:h,part:p,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:n},v=typeof c!="undefined"?c:this.isPendingTimestampOffset_;g.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:v});var b=Nv(this.sourceUpdater_.audioBuffered());return typeof b=="number"&&(g.audioAppendStart=b-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(g.gopsToAlignWith=aC(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),g},r.timestampOffsetForSegment_=function(e){return hC(e)},r.earlyAbortWhenNeeded_=function(e){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var n=this.currentTime_(),s=e.bandwidth,o=this.pendingSegment_.duration,l=cr.estimateSegmentRequestTime(o,s,this.playlist_,e.bytesReceived),u=US(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var f=YE({master:this.vhs_.playlists.master,currentTime:n,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!f){var c=l-u,d=c-f.rebufferingImpact,h=.5;u<=Jn&&(h=1),!(!f.playlist||f.playlist.uri===this.playlist_.uri||d<h)&&(this.bandwidth=f.playlist.attributes.BANDWIDTH*It.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(e){this.logger_("Aborting "+Xa(e)),this.mediaRequestsAborted+=1},r.handleProgress_=function(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(e,n){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},lC(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(e,n,s,o){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var l=this.pendingSegment_,u=Py(n);l[u]=l[u]||{},l[u][s]=o,this.logger_("timinginfo: "+n+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(e,n){var s=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};n.forEach(function(f){u[f.stream]=u[f.stream]||{startTime:1/0,captions:[],endTime:0};var c=u[f.stream];c.startTime=Math.min(c.startTime,f.startTime+l),c.endTime=Math.max(c.endTime,f.endTime+l),c.captions.push(f)}),Object.keys(u).forEach(function(f){var c=u[f],d=c.startTime,h=c.endTime,p=c.captions,g=s.inbandTextTracks_;s.logger_("adding cues from "+d+" -> "+h+" for "+f),ZE(g,s.vhs_.tech_,f),mo(d,h,g[f]),eC({captionArray:p,inbandTextTracks:g,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(e,n,s){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();nC(this.inbandTextTracks_,s,this.vhs_.tech_),rC({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(n){return n()})},r.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(n){return n()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Ay({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(e){return e===void 0&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(e){return e===void 0&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;var s=n.hasAudio,o=n.hasVideo,l=n.isMuxed;return!(o&&!e.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!e.audioTimingInfo||Ay({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(e,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[Py(n.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,n.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var f=this.chooseNextRequest_();if(f.mediaIndex!==s.mediaIndex||f.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,n)}}},r.updateAppendInitSegmentStatus=function(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)},r.getInitSegmentAndUpdateState_=function(e){var n=e.type,s=e.initSegment,o=e.map,l=e.playlist;if(o){var u=_u(o);if(this.activeInitSegmentId_===u)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return s&&this.appendInitSegment_[n]?(this.playlistOfLastInitSegment_[n]=l,this.appendInitSegment_[n]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(e,n){var s=this,o=e.segmentInfo,l=e.type,u=e.bytes,f=this.sourceUpdater_.audioBuffered(),c=this.sourceUpdater_.videoBuffered();f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ui(f).join(", ")),c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ui(c).join(", "));var d=f.length?f.start(0):0,h=f.length?f.end(f.length-1):0,p=c.length?c.start(0):0,g=c.length?c.end(c.length-1):0;if(h-d<=vo&&g-p<=vo){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Ui(f).join(", ")+", ")+("video buffer: "+Ui(c).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var v=this.currentTime_(),b=v-vo;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+b),this.remove(0,b,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+vo+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=Q.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},vo*1e3)},!0)},r.handleAppendError_=function(e,n){var s=e.segmentInfo,o=e.type,l=e.bytes;if(!!n){if(n.code===ky){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(o+" append of "+l.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(e){var n=e.segmentInfo,s=e.type,o=e.initSegment,l=e.data,u=e.bytes;if(!u){var f=[l],c=l.byteLength;o&&(f.unshift(o),c+=o.byteLength),u=JE({bytes:c,segments:f})}this.sourceUpdater_.appendBuffer({segmentInfo:n,type:s,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:n,type:s,bytes:u}))},r.handleSegmentTimingInfo_=function(e,n,s){if(!(!this.pendingSegment_||n!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=e+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(e,n){var s=n.type,o=n.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:s,initSegment:l,data:o})}},r.loadSegment_=function(e){var n=this;if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=wr({},e,{forceTimestampOffset:!0});wr(e,n.generateSegmentInfo_(s)),n.isPendingTimestampOffset_=!1,n.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)},r.updateTransmuxerAndRequestSegment_=function(e){var n=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var s=this.createSimplifiedSegmentObj_(e),o=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),l=this.mediaIndex!==null,u=e.timeline!==this.currentTimeline_&&e.timeline>0,f=o||l&&u;this.logger_("Requesting "+Xa(e)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=WE({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:f,endedTimelineFn:function(){n.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(d){var h=d.message,p=d.level,g=d.stream;n.logger_(Xa(e)+" logged from transmuxer stream "+g+" as a "+p+": "+h)}})},r.trimBackBuffer_=function(e){var n=dC(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)},r.createSimplifiedSegmentObj_=function(e){var n=e.segment,s=e.part,o={resolvedUri:s?s.resolvedUri:n.resolvedUri,byterange:s?s.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},l=e.playlist.segments[e.mediaIndex-1];if(l&&l.timeline===n.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),n.key){var u=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(n.key),o.key.iv=u}return n.map&&(o.map=this.initSegmentForMap(n.map)),o},r.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},r.saveBandwidthRelatedStats_=function(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<Cu){this.logger_("Ignoring segment's bandwidth because its duration of "+e+(" is less than the min to record "+Cu));return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(e,n,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,s));return}if(this.saveTransferStats_(n.stats),!!this.pendingSegment_&&n.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===rn.ABORTED)return;if(this.pause(),e.code===rn.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,n.stats),o.endOfAllRequests=n.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=sC(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(e){var n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)},r.updateMediaSecondsLoaded_=function(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(e){var n=e.currentStart,s=e.playlist,o=e.mediaIndex,l=e.firstVideoFrameTimeForData,u=e.currentVideoTimestampOffset,f=e.useVideoTimingInfo,c=e.videoTimingInfo,d=e.audioTimingInfo;if(typeof n!="undefined")return n;if(!f)return d.start;var h=s.segments[o-1];return o===0||!h||typeof h.start=="undefined"||h.end!==l+u?l:c.start},r.waitForAppendsToComplete_=function(e){var n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=n.hasAudio,o=n.hasVideo,l=n.isMuxed,u=this.loaderType_==="main"&&o,f=!this.audioDisabled_&&s&&!l;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}u&&e.waitingOnAppends++,f&&e.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),f&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},r.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(e){var n=fC(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(e){if(!(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")){var n=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}},r.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var n=this.getMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo,o=s&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;!o||(e.timingInfo.end=typeof o.end=="number"?o.end:o.start+e.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});var n=gC(e,this.sourceType_);if(n&&(n.severity==="warn"?se.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Xa(e));return}this.logger_("Appended "+Xa(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var s=e.segment,o=e.part,l=s.end&&this.currentTime_()-s.end>e.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>e.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+Xa(e)),this.resetEverything();return}var f=this.mediaIndex!==null;f&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(e){if(e.duration<Cu){this.logger_("Ignoring segment's throughput because its duration of "+e.duration+(" is less than the min to record "+Cu));return}var n=this.throughput.rate,s=Date.now()-e.endOfAllRequests+1,o=Math.floor(e.byteLength/s*8*1e3);this.throughput.rate+=(o-n)/++this.throughput.count},r.addSegmentMetadataCue_=function(e){if(!!this.segmentMetadataTrack_){var n=e.segment,s=n.start,o=n.end;if(!(!wy(s)||!wy(o))){mo(s,o,this.segmentMetadataTrack_);var l=Q.WebKitDataCue||Q.VTTCue,u={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:s,end:o},f=JSON.stringify(u),c=new l(s,o,f);c.value=u,this.segmentMetadataTrack_.addCue(c)}}},t}(se.EventTarget);function En(){}var Dy=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toUpperCase()})},mC=["video","audio"],$d=function(t,r){var i=r[t+"Buffer"];return i&&i.updating||r.queuePending[t]},vC=function(t,r){for(var i=0;i<r.length;i++){var e=r[i];if(e.type==="mediaSource")return null;if(e.type===t)return i}return null},Kd=function a(t,r){if(r.queue.length!==0){var i=0,e=r.queue[i];if(e.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),e.action(r),e.doneFn&&e.doneFn(),a("audio",r),a("video",r));return}if(t!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||$d(t,r))){if(e.type!==t){if(i=vC(t,r.queue),i===null)return;e=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[t]=e,e.action(t,r),!e.doneFn){r.queuePending[t]=null,a(t,r);return}}}},Iy=function(t,r){var i=r[t+"Buffer"],e=Dy(t);!i||(i.removeEventListener("updateend",r["on"+e+"UpdateEnd_"]),i.removeEventListener("error",r["on"+e+"Error_"]),r.codecs[t]=null,r[t+"Buffer"]=null)},nn=function(t,r){return t&&r&&Array.prototype.indexOf.call(t.sourceBuffers,r)!==-1},yr={appendBuffer:function(t,r,i){return function(e,n){var s=n[e+"Buffer"];if(!!nn(n.mediaSource,s)){n.logger_("Appending segment "+r.mediaIndex+"'s "+t.length+" bytes to "+e+"Buffer");try{s.appendBuffer(t)}catch(o){n.logger_("Error with code "+o.code+" "+(o.code===ky?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+e+"Buffer")),n.queuePending[e]=null,i(o)}}}},remove:function(t,r){return function(i,e){var n=e[i+"Buffer"];if(!!nn(e.mediaSource,n)){e.logger_("Removing "+t+" to "+r+" from "+i+"Buffer");try{n.remove(t,r)}catch{e.logger_("Remove "+t+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(t){return function(r,i){var e=i[r+"Buffer"];!nn(i.mediaSource,e)||(i.logger_("Setting "+r+"timestampOffset to "+t),e.timestampOffset=t)}},callback:function(t){return function(r,i){t()}},endOfStream:function(t){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{r.mediaSource.endOfStream(t)}catch(i){se.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(t){return function(r){r.logger_("Setting mediaSource duration to "+t);try{r.mediaSource.duration=t}catch(i){se.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(t,r){if(r.mediaSource.readyState==="open"){var i=r[t+"Buffer"];if(!!nn(r.mediaSource,i)){r.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(e){se.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},addSourceBuffer:function(t,r){return function(i){var e=Dy(t),n=Ns(r);i.logger_("Adding "+t+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",i["on"+e+"UpdateEnd_"]),s.addEventListener("error",i["on"+e+"Error_"]),i.codecs[t]=r,i[t+"Buffer"]=s}},removeSourceBuffer:function(t){return function(r){var i=r[t+"Buffer"];if(Iy(t,r),!!nn(r.mediaSource,i)){r.logger_("Removing "+t+"Buffer with codec "+r.codecs[t]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(e){se.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},changeType:function(t){return function(r,i){var e=i[r+"Buffer"],n=Ns(t);!nn(i.mediaSource,e)||i.codecs[r]!==t&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+t),e.changeType(n),i.codecs[r]=t)}}},xr=function(t){var r=t.type,i=t.sourceUpdater,e=t.action,n=t.doneFn,s=t.name;i.queue.push({type:r,action:e,doneFn:n,name:s}),Kd(r,i)},Ly=function(t,r){return function(i){if(r.queuePending[t]){var e=r.queuePending[t].doneFn;r.queuePending[t]=null,e&&e(r[t+"Error_"])}Kd(t,r)}},Ry=function(a){we(t,a);function t(i){var e;return e=a.call(this)||this,e.mediaSource=i,e.sourceopenListener_=function(){return Kd("mediaSource",$e(e))},e.mediaSource.addEventListener("sourceopen",e.sourceopenListener_),e.logger_=jr("SourceUpdater"),e.audioTimestampOffset_=0,e.videoTimestampOffset_=0,e.queue=[],e.queuePending={audio:null,video:null},e.delayedAudioAppendQueue_=[],e.videoAppendQueued_=!1,e.codecs={},e.onVideoUpdateEnd_=Ly("video",$e(e)),e.onAudioUpdateEnd_=Ly("audio",$e(e)),e.onVideoError_=function(n){e.videoError_=n},e.onAudioError_=function(n){e.audioError_=n},e.createdSourceBuffers_=!1,e.initializedEme_=!1,e.triggeredReady_=!1,e}var r=t.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(e,n){xr({type:"mediaSource",sourceUpdater:this,action:yr.addSourceBuffer(e,n),name:"addSourceBuffer"})},r.abort=function(e){xr({type:e,sourceUpdater:this,action:yr.abort(e),name:"abort"})},r.removeSourceBuffer=function(e){if(!this.canRemoveSourceBuffer()){se.log.error("removeSourceBuffer is not supported!");return}xr({type:"mediaSource",sourceUpdater:this,action:yr.removeSourceBuffer(e),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!se.browser.IE_VERSION&&!se.browser.IS_FIREFOX&&Q.MediaSource&&Q.MediaSource.prototype&&typeof Q.MediaSource.prototype.removeSourceBuffer=="function"},t.canChangeType=function(){return Q.SourceBuffer&&Q.SourceBuffer.prototype&&typeof Q.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(e,n){if(!this.canChangeType()){se.log.error("changeType is not supported!");return}xr({type:e,sourceUpdater:this,action:yr.changeType(n),name:"changeType"})},r.addOrChangeSourceBuffers=function(e){var n=this;if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(function(s){var o=e[s];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(s,o);n.canChangeType()&&n.changeType(s,o)})},r.appendBuffer=function(e,n){var s=this,o=e.segmentInfo,l=e.type,u=e.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_("delayed audio append of "+u.length+" until video append");return}var f=n;if(xr({type:l,sourceUpdater:this,action:yr.appendBuffer(u,o||{mediaIndex:-1},f),doneFn:n,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var c=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+c.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,c.forEach(function(d){s.appendBuffer.apply(s,d)})}},r.audioBuffered=function(){return nn(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:se.createTimeRange()},r.videoBuffered=function(){return nn(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:se.createTimeRange()},r.buffered=function(){var e=nn(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=nn(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():BS(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(e,n){n===void 0&&(n=En),xr({type:"mediaSource",sourceUpdater:this,action:yr.duration(e),name:"duration",doneFn:n})},r.endOfStream=function(e,n){e===void 0&&(e=null),n===void 0&&(n=En),typeof e!="string"&&(e=void 0),xr({type:"mediaSource",sourceUpdater:this,action:yr.endOfStream(e),name:"endOfStream",doneFn:n})},r.removeAudio=function(e,n,s){if(s===void 0&&(s=En),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}xr({type:"audio",sourceUpdater:this,action:yr.remove(e,n),doneFn:s,name:"remove"})},r.removeVideo=function(e,n,s){if(s===void 0&&(s=En),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}xr({type:"video",sourceUpdater:this,action:yr.remove(e,n),doneFn:s,name:"remove"})},r.updating=function(){return!!($d("audio",this)||$d("video",this))},r.audioTimestampOffset=function(e){return typeof e!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(xr({type:"audio",sourceUpdater:this,action:yr.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},r.videoTimestampOffset=function(e){return typeof e!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(xr({type:"video",sourceUpdater:this,action:yr.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},r.audioQueueCallback=function(e){!this.audioBuffer||xr({type:"audio",sourceUpdater:this,action:yr.callback(e),name:"callback"})},r.videoQueueCallback=function(e){!this.videoBuffer||xr({type:"video",sourceUpdater:this,action:yr.callback(e),name:"callback"})},r.dispose=function(){var e=this;this.trigger("dispose"),mC.forEach(function(n){e.abort(n),e.canRemoveSourceBuffer()?e.removeSourceBuffer(n):e[n+"QueueCallback"](function(){return Iy(n,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(se.EventTarget),My=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Fy=new Uint8Array(`

`.split("").map(function(a){return a.charCodeAt(0)})),yC=function(a){we(t,a);function t(i,e){var n;return e===void 0&&(e={}),n=a.call(this,i,e)||this,n.mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=i.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}var r=t.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return se.createTimeRanges();var e=this.subtitlesTrack_.cues,n=e[0].startTime,s=e[e.length-1].startTime;return se.createTimeRanges([[n,s]])},r.initSegmentForMap=function(e,n){if(n===void 0&&(n=!1),!e)return null;var s=_u(e),o=this.initSegments_[s];if(n&&!o&&e.bytes){var l=Fy.byteLength+e.bytes.byteLength,u=new Uint8Array(l);u.set(e.bytes),u.set(Fy,e.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:u}}return o||e},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(e){return typeof e=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(e,n){mo(e,n,this.subtitlesTrack_)},r.fillBuffer_=function(){var e=this,n=this.chooseNextRequest_();if(!!n){if(this.syncController_.timestampOffsetForTimeline(n.timeline)===null){var s=function(){e.state="READY",e.paused()||e.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(n)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(a.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},r.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(e,n,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===rn.TIMEOUT&&this.handleTimeout_(),e.code===rn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,n.stats),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=n.map.bytes),l.bytes=n.bytes,typeof Q.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var f,c=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",f),o.stopForError({message:"Error loading vtt.js"})};f=function(){o.subtitlesTrack_.tech_.off("vttjserror",c),o.segmentRequestFinished_(e,n,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",f),this.subtitlesTrack_.tech_.one("vttjserror",c);return}u.requested=!0;try{this.parseVTTCues_(l)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(d){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new Q.VTTCue(d.startTime,d.endTime,d.text):d)}),iC(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(e){var n,s=!1;typeof Q.TextDecoder=="function"?n=new Q.TextDecoder("utf8"):(n=Q.WebVTT.StringDecoder(),s=!0);var o=new Q.WebVTT.Parser(Q,Q.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=e.cues.push.bind(e.cues),o.ontimestampmap=function(f){e.timestampmap=f},o.onparsingerror=function(f){se.log.warn("Error encountered when parsing cues: "+f.message)},e.segment.map){var l=e.segment.map.bytes;s&&(l=My(l)),o.parse(l)}var u=e.bytes;s&&(u=My(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(e,n,s){var o=e.segment;if(!!n){if(!e.cues.length){o.empty=!0;return}var l=e.timestampmap,u=l.MPEGTS/Hl.ONE_SECOND_IN_TS-l.LOCAL+n.mapping;if(e.cues.forEach(function(d){d.startTime+=u,d.endTime+=u}),!s.syncInfo){var f=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+e.mediaIndex,time:Math.min(f,c-o.duration)}}}},t}(Gd),xC=function(t,r){for(var i=t.cues,e=0;e<i.length;e++){var n=i[e];if(r>=n.adStartTime&&r<=n.adEndTime)return n}return null},_C=function(t,r,i){if(i===void 0&&(i=0),!!t.segments)for(var e=i,n,s=0;s<t.segments.length;s++){var o=t.segments[s];if(n||(n=xC(r,e+o.duration/2)),n){if("cueIn"in o){n.endTime=e,n.adEndTime=e,e+=o.duration,n=null;continue}if(e<n.endTime){e+=o.duration;continue}n.endTime+=o.duration}else if("cueOut"in o&&(n=new Q.VTTCue(e,e+o.duration,o.cueOut),n.adStartTime=e,n.adEndTime=e+parseFloat(o.cueOut),r.addCue(n)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],f=l[1];n=new Q.VTTCue(e,e+o.duration,""),n.adStartTime=e-u,n.adEndTime=n.adStartTime+f,r.addCue(n)}e+=o.duration}},bC=86400,Ny=[{name:"VOD",run:function(t,r,i,e,n){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(t,r,i,e,n){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var s=null,o=null,l=Dd(r);n=n||0;for(var u=0;u<l.length;u++){var f=r.endList||n===0?u:l.length-(u+1),c=l[f],d=c.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!(!h||!d.dateTimeObject)){var p=d.dateTimeObject.getTime()/1e3,g=p+h;if(d.parts&&typeof c.partIndex=="number")for(var v=0;v<c.partIndex;v++)g+=d.parts[v].duration;var b=Math.abs(n-g);if(o!==null&&(b===0||o<b))break;o=b,s={time:g,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return s}},{name:"Segment",run:function(t,r,i,e,n){var s=null,o=null;n=n||0;for(var l=Dd(r),u=0;u<l.length;u++){var f=r.endList||n===0?u:l.length-(u+1),c=l[f],d=c.segment,h=c.part&&c.part.start||d&&d.start;if(d.timeline===e&&typeof h!="undefined"){var p=Math.abs(n-h);if(o!==null&&o<p)break;(!s||o===null||o>=p)&&(o=p,s={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:function(t,r,i,e,n){var s=null;if(n=n||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],f=r.discontinuitySequence+l+1,c=t.discontinuities[f];if(c){var d=Math.abs(n-c.time);if(o!==null&&o<d)break;(!s||o===null||o>=d)&&(o=d,s={time:c.time,segmentIndex:u,partIndex:null})}}return s}},{name:"Playlist",run:function(t,r,i,e,n){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],TC=function(a){we(t,a);function t(i){var e;return e=a.call(this)||this,e.timelines=[],e.discontinuities=[],e.timelineToDatetimeMappings={},e.logger_=jr("SyncController"),e}var r=t.prototype;return r.getSyncPoint=function(e,n,s,o){var l=this.runStrategies_(e,n,s,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(e,n){if(!e||!e.segments)return null;var s=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+fo({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(e,n,s,o){for(var l=[],u=0;u<Ny.length;u++){var f=Ny[u],c=f.run(this,e,n,s,o);c&&(c.strategy=f.name,l.push({strategy:f.name,syncPoint:c}))}return l},r.selectSyncPoint_=function(e,n){for(var s=e[0].syncPoint,o=Math.abs(e[0].syncPoint[n.key]-n.value),l=e[0].strategy,u=1;u<e.length;u++){var f=Math.abs(e[u].syncPoint[n.key]-n.value);f<o&&(o=f,s=e[u].syncPoint,l=e[u].strategy)}return this.logger_("syncPoint for ["+n.key+": "+n.value+"] chosen with strategy"+(" ["+l+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(e,n){var s=n.mediaSequence-e.mediaSequence;if(s>bC){se.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var l=e.segments[o];if(l&&typeof l.start!="undefined"){n.syncInfo={mediaSequence:e.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+n.syncInfo.time+","+(" mediaSequence: "+n.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var n=e.segments[0],s=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-s}},r.saveSegmentTimingInfo=function(e){var n=e.segmentInfo,s=e.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(n,n.timingInfo,s),l=n.segment;o&&(this.saveDiscontinuitySyncInfo_(n),n.playlist.syncInfo||(n.playlist.syncInfo={mediaSequence:n.playlist.mediaSequence+n.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&s&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(e){return typeof this.timelines[e]=="undefined"?null:this.timelines[e].time},r.mappingForTimeline=function(e){return typeof this.timelines[e]=="undefined"?null:this.timelines[e].mapping},r.calculateSegmentTimeMapping_=function(e,n,s){var o=e.segment,l=e.part,u=this.timelines[e.timeline],f,c;if(typeof e.timestampOffset=="number")u={time:e.startOfSegment,mapping:e.startOfSegment-n.start},s&&(this.timelines[e.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),f=e.startOfSegment,c=n.end+u.mapping;else if(u)f=n.start+u.mapping,c=n.end+u.mapping;else return!1;return l&&(l.start=f,l.end=c),(!o.start||f<o.start)&&(o.start=f),o.end=c,!0},r.saveDiscontinuitySyncInfo_=function(e){var n=e.playlist,s=e.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=0;o<n.discontinuityStarts.length;o++){var l=n.discontinuityStarts[o],u=n.discontinuitySequence+o+1,f=l-e.mediaIndex,c=Math.abs(f);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>c){var d=void 0;f<0?d=s.start-fo({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:l}):d=s.end+fo({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:d,accuracy:c}}}},r.dispose=function(){this.trigger("dispose"),this.off()},t}(se.EventTarget),SC=function(a){we(t,a);function t(){var i;return i=a.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=t.prototype;return r.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(e){var n=e.type,s=e.from,o=e.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[n]={type:n,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[n]},r.lastTimelineChange=function(e){var n=e.type,s=e.from,o=e.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[n]={type:n,from:s,to:o},delete this.pendingTimelineChanges_[n],this.trigger("timelinechange")),this.lastTimelineChanges_[n]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(se.EventTarget),EC=cy(fy(function(){function a(g,v,b){return b={path:v,exports:{},require:function(C,A){return t(C,A==null?b.path:A)}},g(b,b.exports),b.exports}function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=a(function(g){function v(S,C){for(var A=0;A<C.length;A++){var _=C[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function b(S,C,A){return C&&v(S.prototype,C),A&&v(S,A),S}g.exports=b,g.exports.default=g.exports,g.exports.__esModule=!0}),i=a(function(g){function v(b,S){return g.exports=v=Object.setPrototypeOf||function(A,_){return A.__proto__=_,A},g.exports.default=g.exports,g.exports.__esModule=!0,v(b,S)}g.exports=v,g.exports.default=g.exports,g.exports.__esModule=!0}),e=a(function(g){function v(b,S){b.prototype=Object.create(S.prototype),b.prototype.constructor=b,i(b,S)}g.exports=v,g.exports.default=g.exports,g.exports.__esModule=!0}),n=function(){function g(){this.listeners={}}var v=g.prototype;return v.on=function(S,C){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push(C)},v.off=function(S,C){if(!this.listeners[S])return!1;var A=this.listeners[S].indexOf(C);return this.listeners[S]=this.listeners[S].slice(0),this.listeners[S].splice(A,1),A>-1},v.trigger=function(S){var C=this.listeners[S];if(!!C)if(arguments.length===2)for(var A=C.length,_=0;_<A;++_)C[_].call(this,arguments[1]);else for(var w=Array.prototype.slice.call(arguments,1),k=C.length,R=0;R<k;++R)C[R].apply(this,w)},v.dispose=function(){this.listeners={}},v.pipe=function(S){this.on("data",function(C){S.push(C)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function s(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var v=[[[],[],[],[],[]],[[],[],[],[],[]]],b=v[0],S=v[1],C=b[4],A=S[4],_,w,k,R=[],j=[],N,M,z,I,U,K;for(_=0;_<256;_++)j[(R[_]=_<<1^(_>>7)*283)^_]=_;for(w=k=0;!C[w];w^=N||1,k=j[k]||1)for(I=k^k<<1^k<<2^k<<3^k<<4,I=I>>8^I&255^99,C[w]=I,A[I]=w,z=R[M=R[N=R[w]]],K=z*16843009^M*65537^N*257^w*16843008,U=R[I]*257^I*16843008,_=0;_<4;_++)b[_][w]=U=U<<24^U>>>8,S[_][I]=K=K<<24^K>>>8;for(_=0;_<5;_++)b[_]=b[_].slice(0),S[_]=S[_].slice(0);return v},l=null,u=function(){function g(b){l||(l=o()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var S,C,A,_=this._tables[0][4],w=this._tables[1],k=b.length,R=1;if(k!==4&&k!==6&&k!==8)throw new Error("Invalid aes key size");var j=b.slice(0),N=[];for(this._key=[j,N],S=k;S<4*k+28;S++)A=j[S-1],(S%k==0||k===8&&S%k==4)&&(A=_[A>>>24]<<24^_[A>>16&255]<<16^_[A>>8&255]<<8^_[A&255],S%k==0&&(A=A<<8^A>>>24^R<<24,R=R<<1^(R>>7)*283)),j[S]=j[S-k]^A;for(C=0;S;C++,S--)A=j[C&3?S:S-4],S<=4||C<4?N[C]=A:N[C]=w[0][_[A>>>24]]^w[1][_[A>>16&255]]^w[2][_[A>>8&255]]^w[3][_[A&255]]}var v=g.prototype;return v.decrypt=function(S,C,A,_,w,k){var R=this._key[1],j=S^R[0],N=_^R[1],M=A^R[2],z=C^R[3],I,U,K,te=R.length/4-2,oe,G=4,q=this._tables[1],Z=q[0],ae=q[1],Y=q[2],ie=q[3],he=q[4];for(oe=0;oe<te;oe++)I=Z[j>>>24]^ae[N>>16&255]^Y[M>>8&255]^ie[z&255]^R[G],U=Z[N>>>24]^ae[M>>16&255]^Y[z>>8&255]^ie[j&255]^R[G+1],K=Z[M>>>24]^ae[z>>16&255]^Y[j>>8&255]^ie[N&255]^R[G+2],z=Z[z>>>24]^ae[j>>16&255]^Y[N>>8&255]^ie[M&255]^R[G+3],G+=4,j=I,N=U,M=K;for(oe=0;oe<4;oe++)w[(3&-oe)+k]=he[j>>>24]<<24^he[N>>16&255]<<16^he[M>>8&255]<<8^he[z&255]^R[G++],I=j,j=N,N=M,M=z,z=I},g}(),f=function(g){e(v,g);function v(){var S;return S=g.call(this,n)||this,S.jobs=[],S.delay=1,S.timeout_=null,S}var b=v.prototype;return b.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},b.push=function(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},v}(n),c=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},d=function(v,b,S){var C=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),A=new u(Array.prototype.slice.call(b)),_=new Uint8Array(v.byteLength),w=new Int32Array(_.buffer),k,R,j,N,M,z,I,U,K;for(k=S[0],R=S[1],j=S[2],N=S[3],K=0;K<C.length;K+=4)M=c(C[K]),z=c(C[K+1]),I=c(C[K+2]),U=c(C[K+3]),A.decrypt(M,z,I,U,w,K),w[K]=c(w[K]^k),w[K+1]=c(w[K+1]^R),w[K+2]=c(w[K+2]^j),w[K+3]=c(w[K+3]^N),k=M,R=z,j=I,N=U;return _},h=function(){function g(b,S,C,A){var _=g.STEP,w=new Int32Array(b.buffer),k=new Uint8Array(b.byteLength),R=0;for(this.asyncStream_=new f,this.asyncStream_.push(this.decryptChunk_(w.subarray(R,R+_),S,C,k)),R=_;R<w.length;R+=_)C=new Uint32Array([c(w[R-4]),c(w[R-3]),c(w[R-2]),c(w[R-1])]),this.asyncStream_.push(this.decryptChunk_(w.subarray(R,R+_),S,C,k));this.asyncStream_.push(function(){A(null,s(k))})}var v=g.prototype;return v.decryptChunk_=function(S,C,A,_){return function(){var w=d(S,C,A);_.set(w,S.byteOffset)}},r(g,null,[{key:"STEP",get:function(){return 32e3}}]),g}(),p=function(v){var b={};return Object.keys(v).forEach(function(S){var C=v[S];ArrayBuffer.isView(C)?b[S]={bytes:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength}:b[S]=C}),b};self.onmessage=function(g){var v=g.data,b=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),S=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),C=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new h(b,S,C,function(A,_){self.postMessage(p({source:v.source,decrypted:_}),[_.buffer])})}})),CC=uy(EC),kC=function(t){var r=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},ku=function(t,r){t.abort(),t.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Xd=function(t,r){r.activePlaylistLoader=t,t.load()},wC=function(t,r){return function(){var i=r.segmentLoaders,e=i[t],n=i.main,s=r.mediaTypes[t],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,f=s.lastGroup_;if(!(l&&f&&l.id===f.id)&&(s.lastGroup_=l,s.lastTrack_=o,ku(e,s),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&n.resetEverything();return}e.resyncLoader(),Xd(l.playlistLoader,s)}}},PC=function(t,r){return function(){var i=r.segmentLoaders[t],e=r.mediaTypes[t];e.lastGroup_=null,i.abort(),i.pause()}},AC=function(t,r){return function(){var i=r.masterPlaylistLoader,e=r.segmentLoaders,n=e[t],s=e.main,o=r.mediaTypes[t],l=o.activeTrack(),u=o.getActiveGroup(),f=o.activePlaylistLoader,c=o.lastTrack_;if(!(c&&l&&c.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,ku(n,o),!!u)){if(u.isMasterPlaylist){if(!l||!c||l.id===c.id)return;var d=r.vhs.masterPlaylistController_,h=d.selectPlaylist();if(d.media()===h)return;o.logger_("track change. Switching master audio from "+c.id+" to "+l.id),i.pause(),s.resetEverything(),d.fastQualityChange_(h);return}if(t==="AUDIO"){if(!u.playlistLoader){s.setAudio(!0),s.resetEverything();return}n.setAudio(!0),s.setAudio(!1)}if(f===u.playlistLoader){Xd(u.playlistLoader,o);return}n.track&&n.track(l),n.resetEverything(),Xd(u.playlistLoader,o)}}},wu={AUDIO:function(t,r){return function(){var i=r.segmentLoaders[t],e=r.mediaTypes[t],n=r.blacklistCurrentPlaylist;ku(i,e);var s=e.activeTrack(),o=e.activeGroup(),l=(o.filter(function(c){return c.default})[0]||o[0]).id,u=e.tracks[l];if(s===u){n({message:"Problem encountered loading the default audio track."});return}se.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var f in e.tracks)e.tracks[f].enabled=e.tracks[f]===u;e.onTrackChanged()}},SUBTITLES:function(t,r){return function(){var i=r.segmentLoaders[t],e=r.mediaTypes[t];se.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ku(i,e);var n=e.activeTrack();n&&(n.mode="disabled"),e.onTrackChanged()}}},By={AUDIO:function(t,r,i){if(!!r){var e=i.tech,n=i.requestOptions,s=i.segmentLoaders[t];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,n),(!e.paused()||o.endList&&e.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),n),e.paused()||s.load()}),r.on("error",wu[t](t,i))}},SUBTITLES:function(t,r,i){var e=i.tech,n=i.requestOptions,s=i.segmentLoaders[t],o=i.mediaTypes[t];r.on("loadedmetadata",function(){var l=r.media();s.playlist(l,n),s.track(o.activeTrack()),(!e.paused()||l.endList&&e.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),n),e.paused()||s.load()}),r.on("error",wu[t](t,i))}},OC={AUDIO:function(t,r){var i=r.vhs,e=r.sourceType,n=r.segmentLoaders[t],s=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[t],u=l.groups,f=l.tracks,c=l.logger_,d=r.masterPlaylistLoader,h=ho(d.master);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},h&&(o[t].main.default.playlists=d.master.playlists));for(var p in o[t]){u[p]||(u[p]=[]);for(var g in o[t][p]){var v=o[t][p][g],b=void 0;if(h?(c("AUDIO group '"+p+"' label '"+g+"' is a master playlist"),v.isMasterPlaylist=!0,b=null):e==="vhs-json"&&v.playlists?b=new $a(v.playlists[0],i,s):v.resolvedUri?b=new $a(v.resolvedUri,i,s):v.playlists&&e==="dash"?b=new Hd(v.playlists[0],i,s,d):b=null,v=se.mergeOptions({id:g,playlistLoader:b},v),By[t](t,v.playlistLoader,r),u[p].push(v),typeof f[g]=="undefined"){var S=new se.AudioTrack({id:g,kind:kC(v),enabled:!1,language:v.language,default:v.default,label:g});f[g]=S}}}n.on("error",wu[t](t,r))},SUBTITLES:function(t,r){var i=r.tech,e=r.vhs,n=r.sourceType,s=r.segmentLoaders[t],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[t],f=u.groups,c=u.tracks,d=r.masterPlaylistLoader;for(var h in l[t]){f[h]||(f[h]=[]);for(var p in l[t][h])if(!l[t][h][p].forced){var g=l[t][h][p],v=void 0;if(n==="hls")v=new $a(g.resolvedUri,e,o);else if(n==="dash"){var b=g.playlists.filter(function(C){return C.excludeUntil!==1/0});if(!b.length)return;v=new Hd(g.playlists[0],e,o,d)}else n==="vhs-json"&&(v=new $a(g.playlists?g.playlists[0]:g.resolvedUri,e,o));if(g=se.mergeOptions({id:p,playlistLoader:v},g),By[t](t,g.playlistLoader,r),f[h].push(g),typeof c[p]=="undefined"){var S=i.addRemoteTextTrack({id:p,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:p},!1).track;c[p]=S}}}s.on("error",wu[t](t,r))},"CLOSED-CAPTIONS":function(t,r){var i=r.tech,e=r.master.mediaGroups,n=r.mediaTypes[t],s=n.groups,o=n.tracks;for(var l in e[t]){s[l]||(s[l]=[]);for(var u in e[t][l]){var f=e[t][l][u];if(!!/^(?:CC|SERVICE)/.test(f.instreamId)){var c=i.options_.vhs&&i.options_.vhs.captionServices||{},d={label:u,language:f.language,instreamId:f.instreamId,default:f.default&&f.autoselect};if(c[d.instreamId]&&(d=se.mergeOptions(d,c[d.instreamId])),d.default===void 0&&delete d.default,s[l].push(se.mergeOptions({id:u},f)),typeof o[u]=="undefined"){var h=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[u]=h}}}}}},DC=function a(t,r){for(var i=0;i<t.length;i++)if(Rd(r,t[i])||t[i].playlists&&a(t[i].playlists,r))return!0;return!1},IC=function(t,r){return function(i){var e=r.masterPlaylistLoader,n=r.mediaTypes[t].groups,s=e.media();if(!s)return null;var o=null;s.attributes[t]&&(o=n[s.attributes[t]]);var l=Object.keys(n);if(!o)if(t==="AUDIO"&&l.length>1&&ho(r.master))for(var u=0;u<l.length;u++){var f=n[l[u]];if(DC(f,s)){o=f;break}}else n.main?o=n.main:l.length===1&&(o=n[l[0]]);return typeof i=="undefined"?o:i===null||!o?null:o.filter(function(c){return c.id===i.id})[0]||null}},LC={AUDIO:function(t,r){return function(){var i=r.mediaTypes[t].tracks;for(var e in i)if(i[e].enabled)return i[e];return null}},SUBTITLES:function(t,r){return function(){var i=r.mediaTypes[t].tracks;for(var e in i)if(i[e].mode==="showing"||i[e].mode==="hidden")return i[e];return null}}},RC=function(t,r){var i=r.mediaTypes;return function(){var e=i[t].activeTrack();return e?i[t].activeGroup(e):null}},MC=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(p){OC[p](p,t)});var r=t.mediaTypes,i=t.masterPlaylistLoader,e=t.tech,n=t.vhs,s=t.segmentLoaders,o=s.AUDIO,l=s.main;["AUDIO","SUBTITLES"].forEach(function(p){r[p].activeGroup=IC(p,t),r[p].activeTrack=LC[p](p,t),r[p].onGroupChanged=wC(p,t),r[p].onGroupChanging=PC(p,t),r[p].onTrackChanged=AC(p,t),r[p].getActiveGroup=RC(p,t)});var u=r.AUDIO.activeGroup();if(u){var f=(u.filter(function(p){return p.default})[0]||u[0]).id;r.AUDIO.tracks[f].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var c=r.AUDIO.getActiveGroup();c.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(p){return r[p].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(p){return r[p].onGroupChanging()})});var d=function(){r.AUDIO.onTrackChanged(),e.trigger({type:"usage",name:"vhs-audio-change"}),e.trigger({type:"usage",name:"hls-audio-change"})};e.audioTracks().addEventListener("change",d),e.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),n.on("dispose",function(){e.audioTracks().removeEventListener("change",d),e.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),e.clearTracks("audio");for(var h in r.AUDIO.tracks)e.audioTracks().addTrack(r.AUDIO.tracks[h])},FC=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){t[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:En,activeTrack:En,getActiveGroup:En,onGroupChanged:En,onTrackChanged:En,lastTrack_:null,logger_:jr("MediaGroups["+r+"]")}}),t},NC=60*2,Cn,BC=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],UC=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},jC=function(t){var r=t.currentPlaylist,i=t.buffered,e=t.currentTime,n=t.nextPlaylist,s=t.bufferLowWaterLine,o=t.bufferHighWaterLine,l=t.duration,u=t.experimentalBufferBasedABR,f=t.log;if(!n)return se.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(r&&r.id||"null")+" -> "+n.id;if(!r)return f(c+" as current playlist is not set"),!0;if(n.id===r.id)return!1;var d=Boolean(Ga(i,e).length);if(!r.endList)return!d&&typeof r.partTargetDuration=="number"?(f("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(f(c+" as current playlist is live"),!0);var h=Ad(i,e),p=u?It.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:It.MAX_BUFFER_LOW_WATER_LINE;if(l<p)return f(c+" as duration < max low water line ("+l+" < "+p+")"),!0;var g=n.attributes.BANDWIDTH,v=r.attributes.BANDWIDTH;if(g<v&&(!u||h<o)){var b=c+" as next bandwidth < current bandwidth ("+g+" < "+v+")";return u&&(b+=" and forwardBuffer < bufferHighWaterLine ("+h+" < "+o+")"),f(b),!0}if((!u||g>v)&&h>=s){var S=c+" as forwardBuffer >= bufferLowWaterLine ("+h+" >= "+s+")";return u&&(S+=" and next bandwidth > current bandwidth ("+g+" > "+v+")"),f(S),!0}return f("not "+c+" as no switching criteria met"),!1},HC=function(a){we(t,a);function t(i){var e;e=a.call(this)||this;var n=i.src,s=i.handleManifestRedirects,o=i.withCredentials,l=i.tech,u=i.bandwidth,f=i.externVhs,c=i.useCueTags,d=i.blacklistDuration,h=i.enableLowInitialPlaylist,p=i.sourceType,g=i.cacheEncryptionKeys,v=i.experimentalBufferBasedABR,b=i.experimentalLeastPixelDiffSelector,S=i.captionServices;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var C=i.maxPlaylistRetries;(C===null||typeof C=="undefined")&&(C=1/0),Cn=f,e.experimentalBufferBasedABR=Boolean(v),e.experimentalLeastPixelDiffSelector=Boolean(b),e.withCredentials=o,e.tech_=l,e.vhs_=l.vhs,e.sourceType_=p,e.useCueTags_=c,e.blacklistDuration=d,e.maxPlaylistRetries=C,e.enableLowInitialPlaylist=h,e.useCueTags_&&(e.cueTagsTrack_=e.tech_.addTextTrack("metadata","ad-cues"),e.cueTagsTrack_.inBandMetadataTrackDispatchType=""),e.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:C,timeout:null},e.on("error",e.pauseLoading),e.mediaTypes_=FC(),e.mediaSource=new Q.MediaSource,e.handleDurationChange_=e.handleDurationChange_.bind($e(e)),e.handleSourceOpen_=e.handleSourceOpen_.bind($e(e)),e.handleSourceEnded_=e.handleSourceEnded_.bind($e(e)),e.mediaSource.addEventListener("durationchange",e.handleDurationChange_),e.mediaSource.addEventListener("sourceopen",e.handleSourceOpen_),e.mediaSource.addEventListener("sourceended",e.handleSourceEnded_),e.seekable_=se.createTimeRanges(),e.hasPlayed_=!1,e.syncController_=new TC(i),e.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,e.decrypter_=new CC,e.sourceUpdater_=new Ry(e.mediaSource),e.inbandTextTracks_={},e.timelineChangeController_=new SC;var A={vhs:e.vhs_,parse708captions:i.parse708captions,captionServices:S,mediaSource:e.mediaSource,currentTime:e.tech_.currentTime.bind(e.tech_),seekable:function(){return e.seekable()},seeking:function(){return e.tech_.seeking()},duration:function(){return e.duration()},hasPlayed:function(){return e.hasPlayed_},goalBufferLength:function(){return e.goalBufferLength()},bandwidth:u,syncController:e.syncController_,decrypter:e.decrypter_,sourceType:e.sourceType_,inbandTextTracks:e.inbandTextTracks_,cacheEncryptionKeys:g,sourceUpdater:e.sourceUpdater_,timelineChangeController:e.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};e.masterPlaylistLoader_=e.sourceType_==="dash"?new Hd(n,e.vhs_,e.requestOptions_):new $a(n,e.vhs_,e.requestOptions_),e.setupMasterPlaylistLoaderListeners_(),e.mainSegmentLoader_=new Gd(se.mergeOptions(A,{segmentMetadataTrack:e.segmentMetadataTrack_,loaderType:"main"}),i),e.audioSegmentLoader_=new Gd(se.mergeOptions(A,{loaderType:"audio"}),i),e.subtitleSegmentLoader_=new yC(se.mergeOptions(A,{loaderType:"vtt",featuresNativeTextTracks:e.tech_.featuresNativeTextTracks}),i),e.setupSegmentLoaderListeners_(),e.experimentalBufferBasedABR&&(e.masterPlaylistLoader_.one("loadedplaylist",function(){return e.startABRTimer_()}),e.tech_.on("pause",function(){return e.stopABRTimer_()}),e.tech_.on("play",function(){return e.startABRTimer_()})),BC.forEach(function(w){e[w+"_"]=UC.bind($e(e),w)}),e.logger_=jr("MPC"),e.triggeredFmp4Usage=!1,e.tech_.preload()==="none"?(e.loadOnPlay_=function(){e.loadOnPlay_=null,e.masterPlaylistLoader_.load()},e.tech_.one("play",e.loadOnPlay_)):e.masterPlaylistLoader_.load(),e.timeToLoadedData__=-1,e.mainAppendsToLoadedData__=-1,e.audioAppendsToLoadedData__=-1;var _=e.tech_.preload()==="none"?"play":"loadstart";return e.tech_.one(_,function(){var w=Date.now();e.tech_.one("loadeddata",function(){e.timeToLoadedData__=Date.now()-w,e.mainAppendsToLoadedData__=e.mainSegmentLoader_.mediaAppends,e.audioAppendsToLoadedData__=e.audioSegmentLoader_.mediaAppends})}),e}var r=t.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},r.switchMedia_=function(e,n,s){var o=this.media(),l=o&&(o.id||o.uri),u=e.id||e.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+n),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+n})),this.masterPlaylistLoader_.media(e,s)},r.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=Q.setInterval(function(){return e.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Q.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var e=this.master(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;var s=e.mediaGroups.AUDIO,o=Object.keys(s),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=s.main||o.length&&s[o[0]];for(var f in u)if(u[f].default){l={label:f};break}}if(!l)return n;var c=[];for(var d in s)if(s[d][l.label]){var h=s[d][l.label];if(h.playlists&&h.playlists.length)c.push.apply(c,h.playlists);else if(h.uri)c.push(h);else if(e.playlists.length)for(var p=0;p<e.playlists.length;p++){var g=e.playlists[p];g.attributes&&g.attributes.AUDIO&&g.attributes.AUDIO===d&&c.push(g)}}return c.length?c:n},r.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var n=e.masterPlaylistLoader_.media(),s=n.targetDuration*1.5*1e3;Ld(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=s,n.endList&&e.tech_.preload()!=="none"&&(e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load()),MC({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),n),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var n=e.masterPlaylistLoader_.media();if(!n){e.excludeUnsupportedVariants_();var s;if(e.enableLowInitialPlaylist&&(s=e.selectInitialPlaylist()),s||(s=e.selectPlaylist()),!s||!e.shouldSwitchToMedia_(s))return;e.initialMedia_=s,e.switchMedia_(e.initialMedia_,"initial");var o=e.sourceType_==="vhs-json"&&e.initialMedia_.segments;if(!o)return;n=e.initialMedia_}e.handleUpdatedMediaPlaylist(n)}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var n=e.masterPlaylistLoader_.media(),s=n.targetDuration*1.5*1e3;Ld(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=s,e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var n=e.masterPlaylistLoader_.media();if(n.lastExcludeReason_!=="playlist-unchanged"){var s=e.stuckAtPlaylistEnd_(n);s&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(e,n){var s=e.mediaGroups||{},o=!0,l=Object.keys(s.AUDIO);for(var u in s.AUDIO)for(var f in s.AUDIO[u]){var c=s.AUDIO[u][f];c.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Cn.Playlist.isAes(n)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(e){var n=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return jC({buffered:u,currentTime:s,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=e.selectPlaylist();e.shouldSwitchToMedia_(s)&&e.switchMedia_(s,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},NC))});var n=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var o=e.getCodecsOrExclude_();!o||e.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",n),this.audioSegmentLoader_.on("trackinfo",n),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(e){e===void 0&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},r.fastQualityChange_=function(e){var n=this;if(e===void 0&&(e=this.selectPlaylist()),e===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){se.browser.IE_VERSION||se.browser.IS_EDGE?n.tech_.setCurrentTime(n.tech_.currentTime()+.04):n.tech_.setCurrentTime(n.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}},r.setupFirstPlay=function(){var e=this,n=this.masterPlaylistLoader_.media();if(!n||this.tech_.paused()||this.hasPlayed_)return!1;if(!n.endList){var s=this.seekable();if(!s.length)return!1;if(se.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(s.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();typeof e!="undefined"&&typeof e.then=="function"&&e.then(null,function(n){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(!(!e||!e.length)){var n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}!e||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(e){var n=this.seekable();if(!n.length)return!1;var s=this.syncController_.getExpiredTime(e,this.duration());if(s===null)return!1;var o=Cn.Playlist.playlistEnd(e,s),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=tn;var f=u.end(u.length-1);return f-l<=tn&&o-f<=tn},r.blacklistCurrentPlaylist=function(e,n){e===void 0&&(e={});var s=e.playlist||this.masterPlaylistLoader_.media();if(n=n||e.blacklistDuration||this.blacklistDuration,!s){this.error=e,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(yu),u=l.length===1&&l[0]===s;if(o.length===1&&n!==1/0)return se.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var f=!1;o.forEach(function(b){if(b!==s){var S=b.excludeUntil;typeof S!="undefined"&&S!==1/0&&(f=!0,delete b.excludeUntil)}}),f&&(se.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var c;s.playlistErrors_>this.maxPlaylistRetries?c=1/0:c=Date.now()+n*1e3,s.excludeUntil=c,e.reason&&(s.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var d=this.selectPlaylist();if(!d){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var h=e.internal?this.logger_:se.log.warn,p=e.message?" "+e.message:"";h((e.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(p+" Switching to playlist "+d.id+".")),d.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),d.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var g=d.targetDuration/2*1e3||5*1e3,v=typeof d.lastRequest=="number"&&Date.now()-d.lastRequest<=g;return this.switchMedia_(d,"exclude",u||v)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(e,n){var s=this,o=[],l=e==="all";(l||e==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||e==="audio")&&u.push("AUDIO"),(l||e==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(f){var c=s.mediaTypes_[f]&&s.mediaTypes_[f].activePlaylistLoader;c&&o.push(c)}),["main","audio","subtitle"].forEach(function(f){var c=s[f+"SegmentLoader_"];c&&(e===f||e==="all")&&o.push(c)}),o.forEach(function(f){return n.forEach(function(c){typeof f[c]=="function"&&f[c]()})})},r.setCurrentTime=function(e){var n=Ga(this.tech_.buffered(),e);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Cn.Playlist.duration(e):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var e;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var n=this.masterPlaylistLoader_.media();if(!!n){var s=this.syncController_.getExpiredTime(n,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,l=Cn.Playlist.seekable(n,s,Cn.Playlist.liveEdgeDelay(o,n));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(n,this.duration()),s===null||(e=Cn.Playlist.seekable(n,s,Cn.Playlist.liveEdgeDelay(o,n)),e.length===0)))){var u,f;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),f=this.seekable_.start(0)),e?e.start(0)>l.end(0)||l.start(0)>e.end(0)?this.seekable_=l:this.seekable_=se.createTimeRanges([[e.start(0)>l.start(0)?e.start(0):l.start(0),e.end(0)<l.end(0)?e.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===f)&&(this.logger_("seekable updated ["+Fv(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){var n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}var s=this.tech_.buffered(),o=Cn.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(n){var s=e.mediaTypes_[n].groups;for(var o in s)s[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!s)},r.getCodecsOrExclude_=function(){var e=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};n.video=n.main;var s=go(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(o.video=s.video||n.main.videoCodec||Ab),n.main.isMuxed&&(o.video+=","+(s.audio||n.main.audioCodec||Xp)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||l)&&(o.audio=s.audio||n.main.audioCodec||n.audio.audioCodec||Xp,n.audio.isFmp4=n.main.hasAudio&&!n.main.isMuxed?n.main.isFmp4:n.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(v,b){return v?wl(b):rf(b)},f={},c;if(["video","audio"].forEach(function(g){if(o.hasOwnProperty(g)&&!u(n[g].isFmp4,o[g])){var v=n[g].isFmp4?"browser":"muxer";f[v]=f[v]||[],f[v].push(o[g]),g==="audio"&&(c=v)}}),l&&c&&this.media().attributes.AUDIO){var d=this.media().attributes.AUDIO;this.master().playlists.forEach(function(g){var v=g.attributes&&g.attributes.AUDIO;v===d&&g!==e.media()&&(g.excludeUntil=1/0)}),this.logger_("excluding audio group "+d+" as "+c+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(f).length){var h=Object.keys(f).reduce(function(g,v){return g&&(g+=", "),g+=v+' does not support codec(s): "'+f[v].join(",")+'"',g},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:h,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var p=[];if(["video","audio"].forEach(function(g){var v=(Jr(e.sourceUpdater_.codecs[g]||"")[0]||{}).type,b=(Jr(o[g]||"")[0]||{}).type;v&&b&&v.toLowerCase()!==b.toLowerCase()&&p.push('"'+e.sourceUpdater_.codecs[g]+'" -> "'+o[g]+'"')}),p.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+p.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(!!e){this.sourceUpdater_.createSourceBuffers(e);var n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}}},r.excludeUnsupportedVariants_=function(){var e=this,n=this.master().playlists,s=[];Object.keys(n).forEach(function(o){var l=n[o];if(s.indexOf(l.id)===-1){s.push(l.id);var u=go(e.master,l),f=[];u.audio&&!rf(u.audio)&&!wl(u.audio)&&f.push("audio codec "+u.audio),u.video&&!rf(u.video)&&!wl(u.video)&&f.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&f.push("text codec "+u.text),f.length&&(l.excludeUntil=1/0,e.logger_("excluding "+l.id+" for unsupported: "+f.join(", ")))}})},r.excludeIncompatibleVariants_=function(e){var n=this,s=[],o=this.master().playlists,l=Tu(Jr(e)),u=Ty(l),f=l.video&&Jr(l.video)[0]||null,c=l.audio&&Jr(l.audio)[0]||null;Object.keys(o).forEach(function(d){var h=o[d];if(!(s.indexOf(h.id)!==-1||h.excludeUntil===1/0)){s.push(h.id);var p=[],g=go(n.masterPlaylistLoader_.master,h),v=Ty(g);if(!(!g.audio&&!g.video)){if(v!==u&&p.push('codec count "'+v+'" !== "'+u+'"'),!n.sourceUpdater_.canChangeType()){var b=g.video&&Jr(g.video)[0]||null,S=g.audio&&Jr(g.audio)[0]||null;b&&f&&b.type.toLowerCase()!==f.type.toLowerCase()&&p.push('video codec "'+b.type+'" !== "'+f.type+'"'),S&&c&&S.type.toLowerCase()!==c.type.toLowerCase()&&p.push('audio codec "'+S.type+'" !== "'+c.type+'"')}p.length&&(h.excludeUntil=1/0,n.logger_("blacklisting "+h.id+": "+p.join(" && ")))}}})},r.updateAdCues_=function(e){var n=0,s=this.seekable();s.length&&(n=s.start(0)),_C(e,this.cueTagsTrack_,n)},r.goalBufferLength=function(){var e=this.tech_.currentTime(),n=It.GOAL_BUFFER_LENGTH,s=It.GOAL_BUFFER_LENGTH_RATE,o=Math.max(n,It.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*s,o)},r.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),n=It.BUFFER_LOW_WATER_LINE,s=It.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(n,It.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(n,It.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*s,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return It.BUFFER_HIGH_WATER_LINE},t}(se.EventTarget),zC=function(t,r,i){return function(e){var n=t.master.playlists[r],s=Id(n),o=yu(n);return typeof e=="undefined"?o:(e?delete n.disabled:n.disabled=!0,e!==o&&!s&&(i(),e?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),e)}},VC=function(t,r,i){var e=t.masterPlaylistController_,n=t.options_.smoothQualityChange,s=n?"smooth":"fast",o=e[s+"QualityChange_"].bind(e);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH}this.codecs=go(e.master(),r),this.playlist=r,this.id=i,this.enabled=zC(t.playlists,r.id,o)},WC=function(t){t.representations=function(){var r=t.masterPlaylistController_.master(),i=ho(r)?t.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(e){return!Id(e)}).map(function(e,n){return new VC(t,e,e.id)}):[]}},Uy=["seeking","seeked","pause","playing","error"],qC=function(){function a(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=jr("PlaybackWatcher"),this.logger_("initialize");var e=function(){return i.monitorCurrentTime_()},n=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],f={};u.forEach(function(d){f[d]={reset:function(){return i.resetSegmentDownloads_(d)},updateend:function(){return i.checkSegmentDownloads_(d)}},l[d+"SegmentLoader_"].on("appendsdone",f[d].updateend),l[d+"SegmentLoader_"].on("playlistupdate",f[d].reset),i.tech_.on(["seeked","seeking"],f[d].reset)});var c=function(h){["main","audio"].forEach(function(p){l[p+"SegmentLoader_"][h]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Uy,o),this.tech_.on("canplay",n),this.tech_.one("play",e),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(Uy,o),i.tech_.off("canplay",n),i.tech_.off("play",e),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),u.forEach(function(d){l[d+"SegmentLoader_"].off("appendsdone",f[d].updateend),l[d+"SegmentLoader_"].off("playlistupdate",f[d].reset),i.tech_.off(["seeked","seeking"],f[d].reset)}),i.checkCurrentTimeTimeout_&&Q.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var t=a.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Q.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(i){var e=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=e.buffered_()},t.checkSegmentDownloads_=function(i){var e=this.masterPlaylistController_,n=e[i+"SegmentLoader_"],s=n.buffered_(),o=jS(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Ui(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&e.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},t.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+tn>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var e=this.seekable(),n=this.tech_.currentTime(),s=this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var l=e.end(e.length-1);o=l}if(this.beforeSeekableWindow_(e,n)){var u=e.start(0);o=u+(u===e.end(0)?0:tn)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+Fv(e)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var f=this.masterPlaylistController_.sourceUpdater_,c=this.tech_.buffered(),d=f.audioBuffer?f.audioBuffered():null,h=f.videoBuffer?f.videoBuffered():null,p=this.media(),g=p.partTargetDuration?p.partTargetDuration:(p.targetDuration-Jn)*2,v=[d,h],b=0;b<v.length;b++)if(!!v[b]){var S=Ad(v[b],n);if(S<g)return!1}var C=vu(c,n);return C.length===0?!1:(o=C.start(0)+tn,this.logger_("Buffered region starts ("+C.start(0)+") "+(" just beyond seek point ("+n+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},t.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),e=this.tech_.buffered(),n=Ga(e,i);if(n.length&&i+3<=n.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},t.techWaiting_=function(){var i=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,e)){var n=i.end(i.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to "+("live point (seekable end) "+n)),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:e});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=vu(o,e);if(u.length>0){var f=u.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+f+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),f*1e3,e),!0}return!1},t.afterSeekableWindow_=function(i,e,n,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+tn,l=!n.endList;return l&&s&&(o=i.end(i.length-1)+n.targetDuration*3),e>o},t.beforeSeekableWindow_=function(i,e){return!!(i.length&&i.start(0)>0&&e<i.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(i){var e=i.videoBuffered,n=i.audioBuffered,s=i.currentTime;if(!!e){var o;if(e.length&&n.length){var l=Ga(e,s-3),u=Ga(e,s),f=Ga(n,s);f.length&&!u.length&&l.length&&(o={start:l.end(0),end:f.end(0)})}else{var c=vu(e,s);c.length||(o=this.gapFromVideoUnderflow_(e,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},t.skipTheGap_=function(i){var e=this.tech_.buffered(),n=this.tech_.currentTime(),s=vu(e,n);this.cancelTimer_(),!(s.length===0||n!==i)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Jn),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(i,e){for(var n=NS(i),s=0;s<n.length;s++){var o=n.start(s),l=n.end(s);if(e-o<4&&e-o>2)return{start:o,end:l}}return null},a}(),GC={errorInterval:30,getSource:function(t){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return t(i)}},$C=function a(t,r){var i=0,e=0,n=se.mergeOptions(GC,r);t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){e&&t.currentTime(e)},o=function(d){d!=null&&(e=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-i<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){se.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),n.getSource.call(t,o)},u=function c(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",c)},f=function(d){u(),a(t,d)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=f},KC=function(t){$C(this,t)},jy="2.12.0",XC="5.14.1",YC="0.19.2",QC="4.7.0",JC="3.1.2",Bt={PlaylistLoader:$a,Playlist:cr,utils:cE,STANDARD_PLAYLIST_SELECTOR:Cy,INITIAL_PLAYLIST_SELECTOR:QE,lastBandwidthSelector:Cy,movingAverageBandwidthSelector:XE,comparePlaylistBandwidth:qd,comparePlaylistResolution:KE,xhr:ey()};Object.keys(It).forEach(function(a){Object.defineProperty(Bt,a,{get:function(){return se.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),It[a]},set:function(r){if(se.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){se.log.warn("value of Vhs."+a+" must be greater than or equal to 0");return}It[a]=r}})});var Hy="videojs-vhs",zy=function(t,r){for(var i=r.media(),e=-1,n=0;n<t.length;n++)if(t[n].id===i.id){e=n;break}t.selectedIndex_=e,t.trigger({selectedIndex:e,type:"change"})},ZC=function(t,r){r.representations().forEach(function(i){t.addQualityLevel(i)}),zy(t,r.playlists)};Bt.canPlaySource=function(){return se.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ek=function(t,r,i){if(!t)return t;var e={};r&&r.attributes&&r.attributes.CODECS&&(e=Tu(Jr(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(e.audio=i.attributes.CODECS);var n=Ns(e.video),s=Ns(e.audio),o={};for(var l in t)o[l]={},s&&(o[l].audioContentType=s),n&&(o[l].videoContentType=n),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof t[l]=="string"&&(o[l].url=t[l]);return se.mergeOptions(t,o)},tk=function(t,r){return t.reduce(function(i,e){if(!e.contentProtection)return i;var n=r.reduce(function(s,o){var l=e.contentProtection[o];return l&&l.pssh&&(s[o]={pssh:l.pssh}),s},{});return Object.keys(n).length&&i.push(n),i},[])},rk=function(t){var r=t.player,i=t.sourceKeySystems,e=t.audioMedia,n=t.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=e?n.concat([e]):n,o=tk(s,Object.keys(i)),l=[],u=[];return o.forEach(function(f){u.push(new Promise(function(c,d){r.tech_.one("keysessioncreated",c)})),l.push(new Promise(function(c,d){r.eme.initializeMediaKeys({keySystems:f},function(h){if(h){d(h);return}c()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},nk=function(t){var r=t.player,i=t.sourceKeySystems,e=t.media,n=t.audioMedia,s=ek(i,e,n);return s?(r.currentSource().keySystems=s,s&&!r.eme?(se.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Vy=function(){if(!Q.localStorage)return null;var t=Q.localStorage.getItem(Hy);if(!t)return null;try{return JSON.parse(t)}catch{return null}},ik=function(t){if(!Q.localStorage)return!1;var r=Vy();r=r?se.mergeOptions(r,t):t;try{Q.localStorage.setItem(Hy,JSON.stringify(r))}catch{return!1}return r},ak=function(t){return t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t};Bt.supportsNativeHls=function(){if(!Ee||!Ee.createElement)return!1;var a=Ee.createElement("video");if(!se.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(r){return/maybe|probably/i.test(a.canPlayType(r))})}();Bt.supportsNativeDash=function(){return!Ee||!Ee.createElement||!se.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ee.createElement("video").canPlayType("application/dash+xml"))}();Bt.supportsTypeNatively=function(a){return a==="hls"?Bt.supportsNativeHls:a==="dash"?Bt.supportsNativeDash:!1};Bt.isSupported=function(){return se.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var sk=se.getComponent("Component"),Yd=function(a){we(t,a);function t(i,e,n){var s;if(s=a.call(this,e,se.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&se.log.warn("Using hls options is deprecated. Use vhs instead."),typeof n.initialBandwidth=="number"&&(s.options_.bandwidth=n.initialBandwidth),s.logger_=jr("VhsHandler"),e.options_&&e.options_.playerId){var o=se(e.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return se.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"hls-player-access"}),$e(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return se.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"vhs-player-access"}),$e(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return se.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),$e(s)},configurable:!0}),s.player_=o}if(s.tech_=e,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(Ee,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=Ee.fullscreenElement||Ee.webkitFullscreenElement||Ee.mozFullScreenElement||Ee.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=t.prototype;return r.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var n=Vy();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=It.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===It.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof e.source_[s]!="undefined"&&(e.options_[s]=e.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,n){var s=this;if(!!e){this.setOptions_(),this.options_.src=ak(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Bt,this.options_.sourceType=Yp(n),this.options_.seekTo=function(u){s.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&se.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new HC(this.options_);var o=se.mergeOptions({liveRangeSafeTimeDelta:tn},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new qC(o),this.masterPlaylistController_.on("error",function(){var u=se.players[s.tech_.options_.playerId],f=s.masterPlaylistController_.error;typeof f=="object"&&!f.code?f.code=3:typeof f=="string"&&(f={message:f,code:3}),u.error(f)});var l=this.options_.experimentalBufferBasedABR?Bt.movingAverageBandwidthSelector(.55):Bt.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Bt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(f){this.masterPlaylistController_.selectPlaylist=f.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(f){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=f,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var f=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,c=Q.navigator.connection||Q.navigator.mozConnection||Q.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&c){var h=c.downlink*1e3*1e3;h>=d&&f>=d?f=Math.max(f,h):f=h}return f},set:function(f){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=f,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var f=1/(this.bandwidth||1),c;this.throughput>0?c=1/this.throughput:c=0;var d=Math.floor(1/(f+c));return d},set:function(){se.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Ui(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ui(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&ik({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){WC(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),!!this.tech_.el()&&(this.mediaSourceUrl_=Q.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.setupEme_=function(){var e=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=nk({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:n&&n.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),se.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),rk({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:n&&n.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(o){e.logger_("error while creating EME key session",o),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.setupQualityLevels_=function(){var e=this,n=se.players[this.tech_.options_.playerId];!n||!n.qualityLevels||this.qualityLevels_||(this.qualityLevels_=n.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){ZC(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){zy(e.qualityLevels_,e.playlists)}))},t.version=function(){return{"@videojs/http-streaming":jy,"mux.js":XC,"mpd-parser":YC,"m3u8-parser":QC,"aes-decrypter":JC}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Ry.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Q.URL.revokeObjectURL&&(Q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),a.prototype.dispose.call(this)},r.convertToProgramTime=function(e,n){return vE({playlist:this.masterPlaylistController_.media(),time:e,callback:n})},r.seekToProgramTime=function(e,n,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),yE({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})},t}(sk),Pu={name:"videojs-http-streaming",VERSION:jy,canHandleSource:function(t,r){r===void 0&&(r={});var i=se.mergeOptions(se.options,r);return Pu.canPlayType(t.type,i)},handleSource:function(t,r,i){i===void 0&&(i={});var e=se.mergeOptions(se.options,i);return r.vhs=new Yd(t,r,e),se.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return se.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=ey(),r.vhs.src(t.src,t.type),r.vhs},canPlayType:function(t,r){r===void 0&&(r={});var i=se.mergeOptions(se.options,r),e=i.vhs.overrideNative,n=e===void 0?!se.browser.IS_ANY_SAFARI:e,s=Yp(t),o=s&&(!Bt.supportsTypeNatively(s)||n);return o?"maybe":""}},ok=function(){return wl("avc1.4d400d,mp4a.40.2")};ok()&&se.getTech("Html5").registerSourceHandler(Pu,0);se.VhsHandler=Yd;Object.defineProperty(se,"HlsHandler",{get:function(){return se.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Yd},configurable:!0});se.VhsSourceHandler=Pu;Object.defineProperty(se,"HlsSourceHandler",{get:function(){return se.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Pu},configurable:!0});se.Vhs=Bt;Object.defineProperty(se,"Hls",{get:function(){return se.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Bt},configurable:!0});se.use||(se.registerComponent("Hls",Bt),se.registerComponent("Vhs",Bt));se.options.vhs=se.options.vhs||{};se.options.hls=se.options.hls||{};if(!se.getPlugin||!se.getPlugin("reloadSourceOnError")){var lk=se.registerPlugin||se.plugin;lk("reloadSourceOnError",KC)}var Wy={exports:{}};(function(a,t){(function(i,e){a.exports=e()})(Os,function(){return function(r){var i={};function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=r,e.c=i,e.d=function(n,s,o){e.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:o})},e.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,s){if(s&1&&(n=e(n)),s&8||s&4&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),s&2&&typeof n!="string")for(var l in n)e.d(o,l,function(u){return n[u]}.bind(null,l));return o},e.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(s,"a",s),s},e.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},e.p="",e(e.s=79)}([function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.util=i.PresentationMode=void 0,i.createDom=l,i.hasClass=u,i.addClass=f,i.removeClass=c,i.toggleClass=d,i.findDom=h,i.padStart=p,i.format=g,i.event=v,i.typeOf=b,i.deepCopy=S,i.getBgImage=C,i.copyDom=A,i._setInterval=_,i._clearInterval=w,i.createImgBtn=k,i.isWeiXin=R,i.isUc=j,i.computeWatchDur=N,i.offInDestroy=M,i.on=z,i.once=I,i.getBuffered2=U,i.checkIsBrowser=K,i.setStyle=te,i.checkWebkitSetPresentationMode=oe;var n=e(7),s=o(n);function o(G){return G&&G.__esModule?G:{default:G}}function l(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",Y=document.createElement(G);return Y.className=ae,Y.innerHTML=q,Object.keys(Z).forEach(function(ie){var he=ie,Te=Z[ie];G==="video"||G==="audio"?Te&&Y.setAttribute(he,Te):Y.setAttribute(he,Te)}),Y}function u(G,q){return G?G.classList?Array.prototype.some.call(G.classList,function(Z){return Z===q}):G.className?!!G.className.match(new RegExp("(\\s|^)"+q+"(\\s|$)")):!1:!1}function f(G,q){!G||(G.classList?q.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(Z){Z&&G.classList.add(Z)}):u(G,q)||(G.className+=" "+q))}function c(G,q){!G||(G.classList?q.split(/\s+/g).forEach(function(Z){G.classList.remove(Z)}):u(G,q)&&q.split(/\s+/g).forEach(function(Z){var ae=new RegExp("(\\s|^)"+Z+"(\\s|$)");G.className=G.className.replace(ae," ")}))}function d(G,q){!G||q.split(/\s+/g).forEach(function(Z){u(G,Z)?c(G,Z):f(G,Z)})}function h(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,q=arguments[1],Z=void 0;try{Z=G.querySelector(q)}catch{q.indexOf("#")===0&&(Z=G.getElementById(q.slice(1)))}return Z}function p(G,q,Z){for(var ae=String(Z),Y=q>>0,ie=Math.ceil(Y/ae.length),he=[],Te=String(G);ie--;)he.push(ae);return he.join("").substring(0,Y-Te.length)+Te}function g(G){if(window.isNaN(G))return"";var q=p(Math.floor(G/3600),2,0),Z=p(Math.floor((G-q*3600)/60),2,0),ae=p(Math.floor(G-q*3600-Z*60),2,0);return(q==="00"?[Z,ae]:[q,Z,ae]).join(":")}function v(G){if(G.touches){var q=G.touches[0]||G.changedTouches[0];G.clientX=q.clientX||0,G.clientY=q.clientY||0,G.offsetX=q.pageX-q.target.offsetLeft,G.offsetY=q.pageY-q.target.offsetTop}G._target=G.target||G.srcElement}function b(G){return Object.prototype.toString.call(G).match(/([^\s.*]+)(?=]$)/g)[0]}function S(G,q){if(b(q)==="Object"&&b(G)==="Object")return Object.keys(q).forEach(function(Z){b(q[Z])==="Object"&&!(q[Z]instanceof Node)?G[Z]?S(G[Z],q[Z]):G[Z]=q[Z]:b(q[Z])==="Array"?G[Z]=b(G[Z])==="Array"?G[Z].concat(q[Z]):q[Z]:G[Z]=q[Z]}),G}function C(G){var q=(G.currentStyle||window.getComputedStyle(G,null)).backgroundImage;if(!q||q==="none")return"";var Z=document.createElement("a");return Z.href=q.replace(/url\("|"\)/g,""),Z.href}function A(G){if(G&&G.nodeType===1){var q=document.createElement(G.tagName);return Array.prototype.forEach.call(G.attributes,function(Z){q.setAttribute(Z.name,Z.value)}),G.innerHTML&&(q.innerHTML=G.innerHTML),q}else return""}function _(G,q,Z,ae){G._interval[q]||(G._interval[q]=setInterval(Z.bind(G),ae))}function w(G,q){clearInterval(G._interval[q]),G._interval[q]=null}function k(G,q,Z,ae){var Y=l("xg-"+G,"",{},"xgplayer-"+G+"-img");if(Y.style.backgroundImage='url("'+q+'")',Z&&ae){var ie=void 0,he=void 0,Te=void 0;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(Pe){return Z.indexOf(Pe)>-1&&ae.indexOf(Pe)>-1?(ie=Number(Z.slice(0,Z.indexOf(Pe)).trim()),he=Number(ae.slice(0,ae.indexOf(Pe)).trim()),Te=Pe,!1):!0}),Y.style.width=""+ie+Te,Y.style.height=""+he+Te,Y.style.backgroundSize=""+ie+Te+" "+he+Te,G==="start"?Y.style.margin="-"+he/2+Te+" auto auto -"+ie/2+Te:Y.style.margin="auto 5px auto 5px"}return Y}function R(){var G=window.navigator.userAgent.toLowerCase();return G.indexOf("micromessenger")>-1}function j(){var G=window.navigator.userAgent.toLowerCase();return G.indexOf("ucbrowser")>-1}function N(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],q=[],Z=0;Z<G.length;Z++)if(!(!G[Z].end||G[Z].begin<0||G[Z].end<0||G[Z].end<G[Z].begin))if(q.length<1)q.push({begin:G[Z].begin,end:G[Z].end});else for(var ae=0;ae<q.length;ae++){var Y=G[Z].begin,ie=G[Z].end;if(ie<q[ae].begin){q.splice(ae,0,{begin:Y,end:ie});break}else if(Y>q[ae].end){if(ae>q.length-2){q.push({begin:Y,end:ie});break}}else{var he=q[ae].begin,Te=q[ae].end;q[ae].begin=Math.min(Y,he),q[ae].end=Math.max(ie,Te);break}}for(var Pe=0,Ie=0;Ie<q.length;Ie++)Pe+=q[Ie].end-q[Ie].begin;return Pe}function M(G,q,Z,ae){function Y(){G.off(q,Z),G.off(ae,Y)}G.once(ae,Y)}function z(G,q,Z,ae){if(ae)G.on(q,Z),M(G,q,Z,ae);else{var Y=function ie(he){Z(he),G.off(q,ie)};G.on(q,Y)}}function I(G,q,Z,ae){if(ae)G.once(q,Z),M(G,q,Z,ae);else{var Y=function ie(he){Z(he),G.off(q,ie)};G.once(q,Y)}}function U(G){for(var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,Z=[],ae=0;ae<G.length;ae++)Z.push({start:G.start(ae)<.5?0:G.start(ae),end:G.end(ae)});Z.sort(function(Pe,Ie){var st=Pe.start-Ie.start;return st||Ie.end-Pe.end});var Y=[];if(q)for(var ie=0;ie<Z.length;ie++){var he=Y.length;if(he){var Te=Y[he-1].end;Z[ie].start-Te<q?Z[ie].end>Te&&(Y[he-1].end=Z[ie].end):Y.push(Z[ie])}else Y.push(Z[ie])}else Y=Z;return new s.default(Y)}function K(){return!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined")}function te(G,q,Z){var ae=G.style;try{ae[q]=Z}catch{ae.setProperty(q,Z)}}i.PresentationMode={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"};function oe(G){return typeof G.webkitSetPresentationMode=="function"}i.util={createDom:l,hasClass:u,addClass:f,removeClass:c,toggleClass:d,findDom:h,padStart:p,format:g,event:v,typeOf:b,deepCopy:S,getBgImage:C,copyDom:A,setInterval:_,clearInterval:w,createImgBtn:k,isWeiXin:R,isUc:j,computeWatchDur:N,offInDestroy:M,on:z,once:I,getBuffered2:U,checkIsBrowser:K,setStyle:te}},function(r,i){r.exports=function(s){var o=[];return o.toString=function(){return this.map(function(u){var f=e(u,s);return u[2]?"@media "+u[2]+"{"+f+"}":f}).join("")},o.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var f={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(f[d]=!0)}for(c=0;c<l.length;c++){var h=l[c];(typeof h[0]!="number"||!f[h[0]])&&(u&&!h[2]?h[2]=u:u&&(h[2]="("+h[2]+") and ("+u+")"),o.push(h))}},o};function e(s,o){var l=s[1]||"",u=s[3];if(!u)return l;if(o&&typeof btoa=="function"){var f=n(u),c=u.sources.map(function(d){return"/*# sourceURL="+u.sourceRoot+d+" */"});return[l].concat(c).concat([f]).join(`
`)}return[l].join(`
`)}function n(s){var o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,"+o;return"/*# "+l+" */"}},function(r,i,e){var n={},s=function(N){var M;return function(){return typeof M=="undefined"&&(M=N.apply(this,arguments)),M}},o=s(function(){return window&&document&&document.all&&!window.atob}),l=function(N){return document.querySelector(N)},u=function(N){var M={};return function(z){if(typeof z=="function")return z();if(typeof M[z]=="undefined"){var I=l.call(this,z);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}M[z]=I}return M[z]}}(),f=null,c=0,d=[],h=e(36);r.exports=function(N,M){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");M=M||{},M.attrs=typeof M.attrs=="object"?M.attrs:{},!M.singleton&&typeof M.singleton!="boolean"&&(M.singleton=o()),M.insertInto||(M.insertInto="head"),M.insertAt||(M.insertAt="bottom");var z=g(N,M);return p(z,M),function(U){for(var K=[],te=0;te<z.length;te++){var oe=z[te],G=n[oe.id];G.refs--,K.push(G)}if(U){var q=g(U,M);p(q,M)}for(var te=0;te<K.length;te++){var G=K[te];if(G.refs===0){for(var Z=0;Z<G.parts.length;Z++)G.parts[Z]();delete n[G.id]}}}};function p(N,M){for(var z=0;z<N.length;z++){var I=N[z],U=n[I.id];if(U){U.refs++;for(var K=0;K<U.parts.length;K++)U.parts[K](I.parts[K]);for(;K<I.parts.length;K++)U.parts.push(_(I.parts[K],M))}else{for(var te=[],K=0;K<I.parts.length;K++)te.push(_(I.parts[K],M));n[I.id]={id:I.id,refs:1,parts:te}}}}function g(N,M){for(var z=[],I={},U=0;U<N.length;U++){var K=N[U],te=M.base?K[0]+M.base:K[0],oe=K[1],G=K[2],q=K[3],Z={css:oe,media:G,sourceMap:q};I[te]?I[te].parts.push(Z):z.push(I[te]={id:te,parts:[Z]})}return z}function v(N,M){var z=u(N.insertInto);if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=d[d.length-1];if(N.insertAt==="top")I?I.nextSibling?z.insertBefore(M,I.nextSibling):z.appendChild(M):z.insertBefore(M,z.firstChild),d.push(M);else if(N.insertAt==="bottom")z.appendChild(M);else if(typeof N.insertAt=="object"&&N.insertAt.before){var U=u(N.insertInto+" "+N.insertAt.before);z.insertBefore(M,U)}else throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`)}function b(N){if(N.parentNode===null)return!1;N.parentNode.removeChild(N);var M=d.indexOf(N);M>=0&&d.splice(M,1)}function S(N){var M=document.createElement("style");return N.attrs.type="text/css",A(M,N.attrs),v(N,M),M}function C(N){var M=document.createElement("link");return N.attrs.type="text/css",N.attrs.rel="stylesheet",A(M,N.attrs),v(N,M),M}function A(N,M){Object.keys(M).forEach(function(z){N.setAttribute(z,M[z])})}function _(N,M){var z,I,U,K;if(M.transform&&N.css)if(K=M.transform(N.css),K)N.css=K;else return function(){};if(M.singleton){var te=c++;z=f||(f=S(M)),I=k.bind(null,z,te,!1),U=k.bind(null,z,te,!0)}else N.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(z=C(M),I=j.bind(null,z,M),U=function(){b(z),z.href&&URL.revokeObjectURL(z.href)}):(z=S(M),I=R.bind(null,z),U=function(){b(z)});return I(N),function(G){if(G){if(G.css===N.css&&G.media===N.media&&G.sourceMap===N.sourceMap)return;I(N=G)}else U()}}var w=function(){var N=[];return function(M,z){return N[M]=z,N.filter(Boolean).join(`
`)}}();function k(N,M,z,I){var U=z?"":I.css;if(N.styleSheet)N.styleSheet.cssText=w(M,U);else{var K=document.createTextNode(U),te=N.childNodes;te[M]&&N.removeChild(te[M]),te.length?N.insertBefore(K,te[M]):N.appendChild(K)}}function R(N,M){var z=M.css,I=M.media;if(I&&N.setAttribute("media",I),N.styleSheet)N.styleSheet.cssText=z;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(z))}}function j(N,M,z){var I=z.css,U=z.sourceMap,K=M.convertToAbsoluteUrls===void 0&&U;(M.convertToAbsoluteUrls||K)&&(I=h(I)),U&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(U))))+" */");var te=new Blob([I],{type:"text/css"}),oe=N.href;N.href=URL.createObjectURL(te),oe&&URL.revokeObjectURL(oe)}},function(r,i,e){var n=e(24)();r.exports=function(s){return s!==n&&s!==null}},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(8);function s(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var o={network:{code:1,msg:"\u89C6\u9891\u4E0B\u8F7D\u9519\u8BEF",remark:"\u53EA\u8981\u89C6\u9891\u4E0B\u8F7D\u9519\u8BEF\u5C31\u4F7F\u7528\u6B64\u7C7B\u578B\uFF0C\u65E0\u8BBA\u662Fvideo\u672C\u8EAB\u7684\u8D85\u65F6\u8FD8\u662Fxhr\u7684\u5206\u6BB5\u8BF7\u6C42\u8D85\u65F6\u6216\u8005\u8D44\u6E90\u4E0D\u5B58\u5728"},mse:{code:2,msg:"\u6D41\u8FFD\u52A0\u9519\u8BEF",remark:"\u8FFD\u52A0\u6D41\u7684\u65F6\u5019\u5982\u679C\u7C7B\u578B\u4E0D\u5BF9\u3001\u65E0\u6CD5\u88AB\u6B63\u786E\u89E3\u7801\u5219\u4F1A\u89E6\u53D1\u6B64\u7C7B\u9519\u8BEF"},parse:{code:3,msg:"\u89E3\u6790\u9519\u8BEF",remark:"mp4\u3001hls\u3001flv\u6211\u4EEC\u90FD\u662F\u4F7F\u7528js\u8FDB\u884C\u683C\u5F0F\u89E3\u6790\uFF0C\u5982\u679C\u89E3\u6790\u5931\u8D25\u5219\u4F1A\u89E6\u53D1\u6B64\u7C7B\u9519\u8BEF"},format:{code:4,msg:"\u683C\u5F0F\u9519\u8BEF",remark:"\u5982\u679C\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u7684\u683C\u5F0F\u5BFC\u81F4\u64AD\u653E\u9519\u8BEF"},decoder:{code:5,msg:"\u89E3\u7801\u9519\u8BEF",remark:"\u6D4F\u89C8\u5668\u89E3\u7801\u5F02\u5E38\u4F1A\u629B\u51FA\u6B64\u7C7B\u578B\u9519\u8BEF"},runtime:{code:6,msg:"\u8BED\u6CD5\u9519\u8BEF",remark:"\u64AD\u653E\u5668\u8BED\u6CD5\u9519\u8BEF"},timeout:{code:7,msg:"\u64AD\u653E\u8D85\u65F6",remark:"\u64AD\u653E\u8FC7\u7A0B\u4E2D\u65E0\u6CD5\u6B63\u5E38\u8BF7\u6C42\u4E0B\u4E00\u4E2A\u5206\u6BB5\u5BFC\u81F4\u64AD\u653E\u4E2D\u65AD"},other:{code:8,msg:"\u5176\u4ED6\u9519\u8BEF",remark:"\u4E0D\u53EF\u77E5\u7684\u9519\u8BEF\u6216\u88AB\u5FFD\u7565\u7684\u9519\u8BEF\u7C7B\u578B"}},l=function u(f,c,d,h,p,g,v,b){var S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:{line:"",handle:"",msg:"",version:""},C=arguments[9],A=arguments[10];s(this,u);var _={};if(arguments.length>1)_.playerVersion=n.version,_.errorType=f,_.domain=document.domain,_.duration=d,_.currentTime=c,_.networkState=h,_.readyState=p,_.currentSrc=v,_.src=g,_.ended=b,_.errd=S,_.ex=(o[f]||{}).msg,_.errorCode=C,_.mediaError=A;else{var w=arguments[0];Object.keys(w).map(function(k){_[k]=w[k]}),_.ex=(w.type&&o[w.type]||{}).msg}return _};i.default=l,r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n={};Object.defineProperty(n,"device",{get:function(){var o=n.os;return o.isPc?"pc":"mobile"}}),Object.defineProperty(n,"browser",{get:function(){var o=navigator.userAgent.toLowerCase(),l={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(l).filter(function(u){return l[u].test(o)}))[0]||""}}),Object.defineProperty(n,"os",{get:function(){var o=navigator.userAgent,l=/(?:Windows Phone)/.test(o),u=/(?:SymbianOS)/.test(o)||l,f=/(?:Android)/.test(o),c=/(?:Firefox)/.test(o),d=/(?:iPad|PlayBook)/.test(o)||f&&!/(?:Mobile)/.test(o)||c&&/(?:Tablet)/.test(o),h=/(?:iPhone)/.test(o)&&!d,p=!h&&!f&&!u&&!d;return{isTablet:d,isPhone:h,isAndroid:f,isPc:p,isSymbian:u,isWindowsPhone:l,isFireFox:c}}}),i.default=n,r.exports=i.default},function(r,i,e){var n=void 0;r.exports=function(s){return s!==n&&s!==null}},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function l(u,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,f,c){return f&&l(u.prototype,f),c&&l(u,c),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u){s(this,l),this.bufferedList=u}return n(l,[{key:"start",value:function(f){return this.bufferedList[f].start}},{key:"end",value:function(f){return this.bufferedList[f].end}},{key:"length",get:function(){return this.bufferedList.length}}]),l}();i.default=o,r.exports=i.default},function(r){r.exports=JSON.parse('{"version":"2.31.4"}')},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function N(M,z){for(var I=0;I<z.length;I++){var U=z[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(M,U.key,U)}}return function(M,z,I){return z&&N(M.prototype,z),I&&N(M,I),M}}(),s=function N(M,z,I){M===null&&(M=Function.prototype);var U=Object.getOwnPropertyDescriptor(M,z);if(U===void 0){var K=Object.getPrototypeOf(M);return K===null?void 0:N(K,z,I)}else{if("value"in U)return U.value;var te=U.get;return te===void 0?void 0:te.call(I)}},o=e(11),l=_(o),u=e(0),f=e(5),c=_(f),d=e(7),h=_(d),p=e(4),g=_(p),v=e(31),b=_(v),S=e(10),C=_(S);e(34);var A=e(8);function _(N){return N&&N.__esModule?N:{default:N}}function w(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}function k(N,M){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:N}function R(N,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);N.prototype=Object.create(M&&M.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(N,M):N.__proto__=M)}var j=function(N){R(M,N);function M(z){w(this,M);var I=k(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,z));if(I.config=(0,u.deepCopy)({width:600,height:337.5,ignores:[],whitelist:[],lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),inactive:3e3,volume:.6,controls:!0,controlsList:["nodownload"]},z),I.version=A.version,I.userTimer=null,I.waitTimer=null,I.history=[],I.isProgressMoving=!1,I.root=(0,u.findDom)(document,"#"+I.config.id),I.controls=(0,u.createDom)("xg-controls","",{unselectable:"on",onselectstart:"return false"},"xgplayer-controls"),I.config.isShowControl&&(I.controls.style.display="none"),!I.root){var U=I.config.el;if(U&&U.nodeType===1)I.root=U;else{var K;return I.emit("error",new g.default({type:"use",errd:{line:45,handle:"Constructor",msg:"container id can't be empty"},vid:I.config.vid})),console.error("container id can't be empty"),K=!1,k(I,K)}}if((0,u.addClass)(I.root,"xgplayer xgplayer-"+c.default.device+" xgplayer-nostart xgplayer-pause "+(I.config.controls?"":"xgplayer-no-controls")),I.root.appendChild(I.controls),I.config.fluid?(I.root.style["max-width"]="100%",I.root.style.width="100%",I.root.style.height="0",I.root.style["padding-top"]=I.config.height*100/I.config.width+"%",I.video.style.position="absolute",I.video.style.top="0",I.video.style.left="0"):(I.config.width&&(typeof I.config.width!="number"?I.root.style.width=I.config.width:I.root.style.width=I.config.width+"px"),I.config.height&&(typeof I.config.height!="number"?I.root.style.height=I.config.height:I.root.style.height=I.config.height+"px")),I.config.execBeforePluginsCall&&I.config.execBeforePluginsCall.forEach(function(q){q.call(I,I)}),I.config.closeI18n||M.install(C.default.name,C.default.method),I.config.controlStyle&&(0,u.typeOf)(I.config.controlStyle)==="String"){var te=I;fetch(te.config.controlStyle,{method:"GET",headers:{Accept:"application/json"}}).then(function(q){q.ok&&q.json().then(function(Z){for(var ae in Z)Z.hasOwnProperty(ae)&&(te.config[ae]=Z[ae]);te.pluginsCall()})}).catch(function(q){console.log("Fetch\u9519\u8BEF:"+q)})}else I.pluginsCall();I.config.controlPlugins&&M.controlsRun(I.config.controlPlugins,I),I.ev.forEach(function(q){var Z=Object.keys(q)[0],ae=I[q[Z]];ae&&I.on(Z,ae)}),["focus","blur"].forEach(function(q){I.on(q,I["on"+q.charAt(0).toUpperCase()+q.slice(1)])});var oe=I;I.mousemoveFunc=function(){oe.emit("focus"),oe.config.closeFocusVideoFocus||oe.video.focus()},I.root.addEventListener("mousemove",I.mousemoveFunc),I.playFunc=function(){oe.emit("focus"),oe.config.closePlayVideoFocus||oe.video.focus()},oe.once("play",I.playFunc),I.getVideoSize=function(){if(this.video.videoWidth&&this.video.videoHeight){var q=oe.root.getBoundingClientRect();oe.config.fitVideoSize==="auto"?q.width/q.height>this.video.videoWidth/this.video.videoHeight?oe.root.style.height=this.video.videoHeight/this.video.videoWidth*q.width+"px":oe.root.style.width=this.video.videoWidth/this.video.videoHeight*q.height+"px":oe.config.fitVideoSize==="fixWidth"?oe.root.style.height=this.video.videoHeight/this.video.videoWidth*q.width+"px":oe.config.fitVideoSize==="fixHeight"&&(oe.root.style.width=this.video.videoWidth/this.video.videoHeight*q.height+"px")}},oe.once("loadeddata",I.getVideoSize),setTimeout(function(){I.emit("ready"),I.isReady=!0},0),I.config.videoInit&&(0,u.hasClass)(I.root,"xgplayer-nostart")&&I.start(),oe.config.rotate&&(oe.on("requestFullscreen",I.updateRotateDeg),oe.on("exitFullscreen",I.updateRotateDeg));function G(){oe.root.removeEventListener("mousemove",oe.mousemoveFunc),oe.off("destroy",G)}return oe.once("destroy",G),I}return n(M,[{key:"attachVideo",value:function(){var I=this;this.video&&this.video.nodeType===1&&this.root.insertBefore(this.video,this.root.firstChild),setTimeout(function(){I.emit("complete"),I.danmu&&typeof I.danmu.resize=="function"&&I.danmu.resize()},1)}},{key:"start",value:function(){var I=this,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.url;if(!!this.video){var K=this;if(!U||U===""){this.emit("urlNull");return}this.canPlayFunc=function(){K.off("canplay",K.canPlayFunc);var te=K.video.play();te!==void 0&&te&&te.then(function(){K.emit("autoplay started")}).catch(function(){K.emit("autoplay was prevented"),(0,u.addClass)(K.root,"xgplayer-is-autoplay")})},(0,u.typeOf)(U)!=="Array"?(0,u.typeOf)(U)==="String"&&U.indexOf("blob:")>-1&&U===this.video.src||(this.video.src=U):U.forEach(function(te){I.video.appendChild((0,u.createDom)("source","",{src:""+te.src,type:""+(te.type||"")}))}),this.config.autoplay&&(c.default.os.isPhone?this.canPlayFunc():this.on("canplay",this.canPlayFunc)),this.config.disableStartLoad||this.video.load(),this.attachVideo()}}},{key:"reload",value:function(){this.video.load(),this.reloadFunc=function(){var I=this.play();I!==void 0&&I&&I.catch(function(U){})},this.once("loadeddata",this.reloadFunc)}},{key:"destroy",value:function(){var I=this,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,K=this;clearInterval(this.bulletResizeTimer);for(var te in this._interval)clearInterval(this._interval[te]),this._interval[te]=null;this.checkTimer&&clearInterval(this.checkTimer),this.waitTimer&&clearTimeout(this.waitTimer),this.ev.forEach(function(G){var q=Object.keys(G)[0],Z=I[G[q]];Z&&I.off(q,Z)}),this.loadeddataFunc&&this.off("loadeddata",this.loadeddataFunc),this.reloadFunc&&this.off("loadeddata",this.reloadFunc),this.replayFunc&&this.off("play",this.replayFunc),this.playFunc&&this.off("play",this.playFunc),this.getVideoSize&&this.off("loadeddata",this.getVideoSize),["focus","blur"].forEach(function(G){I.off(G,I["on"+G.charAt(0).toUpperCase()+G.slice(1)])}),(!this.config.keyShortcut||this.config.keyShortcut==="on")&&["video","controls"].forEach(function(G){I[G]&&I[G].removeEventListener("keydown",function(q){K.onKeydown(q,K)})});function oe(){if(this.emit("destroy"),this.video.removeAttribute("src"),this.video.load(),U){this.root.innerHTML="";var G=this.root.className.split(" ");G.length>0?this.root.className=G.filter(function(Z){return Z.indexOf("xgplayer")<0}).join(" "):this.root.className=""}for(var q in this)delete this[q];(0,b.default)(this)}this.paused?oe.call(this):(this.pause(),this.once("pause",oe)),s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"destroy",this).call(this)}},{key:"replay",value:function(){var I=this._replay;if((0,u.removeClass)(this.root,"xgplayer-ended"),c.default.browser.indexOf("ie")>-1&&(this.emit("play"),this.emit("playing")),I&&I instanceof Function)I();else{this.currentTime=0;var U=this.play();U!==void 0&&U&&U.catch(function(K){})}}},{key:"userGestureTrigEvent",value:function(I,U){var K=this,te=function(G,q){K.emit(G,q)};this.config.userGestureEventMiddleware&&typeof this.config.userGestureEventMiddleware[I]=="function"?this.config.userGestureEventMiddleware[I].call(this,this,I,U,te):te.call(this,I,U)}},{key:"pluginsCall",value:function(){var I=this;M.plugins.s_i18n&&M.plugins.s_i18n.call(this,this);var U=this;if(M.plugins){var K=this.config.ignores;Object.keys(M.plugins).forEach(function(te){var oe=M.plugins[te];!oe||typeof oe!="function"?console.warn("plugin name",te,"is invalid"):!K.some(function(G){return te===G||te==="s_"+G})&&te!=="s_i18n"&&(["pc","tablet","mobile"].some(function(G){return G===te})?te===c.default.device&&setTimeout(function(){!U.video||oe.call(U,U)},0):oe.call(I,I))})}}},{key:"onFocus",value:function(){var I=this;(0,u.hasClass)(this.root,"xgplayer-inactive")&&I.emit("controlShow"),(0,u.removeClass)(this.root,"xgplayer-inactive"),I.userTimer&&clearTimeout(I.userTimer),I.userTimer=setTimeout(function(){I.emit("blur")},I.config.inactive)}},{key:"onBlur",value:function(){(this.config.enablePausedInactive||!this.paused)&&!this.ended&&!this.config.closeInactive&&((0,u.hasClass)(this.root,"xgplayer-inactive")||this.emit("controlHide"),(0,u.addClass)(this.root,"xgplayer-inactive"))}},{key:"onPlay",value:function(){(0,u.addClass)(this.root,"xgplayer-isloading"),(0,u.addClass)(this.root,"xgplayer-playing"),(0,u.removeClass)(this.root,"xgplayer-pause")}},{key:"onPause",value:function(){(0,u.addClass)(this.root,"xgplayer-pause"),this.userTimer&&clearTimeout(this.userTimer),this.emit("focus")}},{key:"onEnded",value:function(){(0,u.addClass)(this.root,"xgplayer-ended"),(0,u.removeClass)(this.root,"xgplayer-playing")}},{key:"onSeeking",value:function(){this.isSeeking=!0,this.onWaiting()}},{key:"onSeeked",value:function(){var I=this;this.once("timeupdate",function(){I.isSeeking=!1}),this.waitTimer&&clearTimeout(this.waitTimer),(0,u.removeClass)(this.root,"xgplayer-isloading")}},{key:"onWaiting",value:function(){var I=this;I.waitTimer&&clearTimeout(I.waitTimer),I.checkTimer&&(clearInterval(I.checkTimer),I.checkTimer=null);var U=I.currentTime;I.waitTimer=setTimeout(function(){(0,u.addClass)(I.root,"xgplayer-isloading"),I.checkTimer=setInterval(function(){I.currentTime!==U&&((0,u.removeClass)(I.root,"xgplayer-isloading"),clearInterval(I.checkTimer),I.checkTimer=null)},1e3)},500)}},{key:"onPlaying",value:function(){this.paused||(this.isSeeking=!1,this.waitTimer&&clearTimeout(this.waitTimer),(0,u.removeClass)(this.root,"xgplayer-isloading xgplayer-nostart xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay"),(0,u.addClass)(this.root,"xgplayer-playing"))}}],[{key:"install",value:function(I,U){!(0,u.checkIsBrowser)()||(M.plugins||(M.plugins={}),M.plugins[I]||(M.plugins[I]=U))}},{key:"installAll",value:function(I){for(var U=0;U<I.length;U++)M.install(I[U].name,I[U].method)}},{key:"use",value:function(I,U){M.plugins||(M.plugins={}),M.plugins[I]=U}},{key:"useAll",value:function(I){for(var U in I)M.use(I[U].name,I[U].method)}},{key:"controlsRun",value:function(I,U){I.forEach(function(K){K.method.call(U)})}}]),M}(l.default);j.util=u.util,j.sniffer=c.default,j.Errors=g.default,j.XgplayerTimeRange=h.default,i.default=j,r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u={};u.en={HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"Pip",MINIPLAYER:"Miniplayer",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",MINIPLAYER_DRAG:"Click and hold to drag",AIRPLAY_TIPS:"Airplay"},u["zh-cn"]={HAVE_NOTHING:"\u6CA1\u6709\u5173\u4E8E\u97F3\u9891/\u89C6\u9891\u662F\u5426\u5C31\u7EEA\u7684\u4FE1\u606F",HAVE_METADATA:"\u97F3\u9891/\u89C6\u9891\u7684\u5143\u6570\u636E\u5DF2\u5C31\u7EEA",HAVE_CURRENT_DATA:"\u5173\u4E8E\u5F53\u524D\u64AD\u653E\u4F4D\u7F6E\u7684\u6570\u636E\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u6CA1\u6709\u8DB3\u591F\u7684\u6570\u636E\u6765\u64AD\u653E\u4E0B\u4E00\u5E27/\u6BEB\u79D2",HAVE_FUTURE_DATA:"\u5F53\u524D\u53CA\u81F3\u5C11\u4E0B\u4E00\u5E27\u7684\u6570\u636E\u662F\u53EF\u7528\u7684",HAVE_ENOUGH_DATA:"\u53EF\u7528\u6570\u636E\u8DB3\u4EE5\u5F00\u59CB\u64AD\u653E",NETWORK_EMPTY:"\u97F3\u9891/\u89C6\u9891\u5C1A\u672A\u521D\u59CB\u5316",NETWORK_IDLE:"\u97F3\u9891/\u89C6\u9891\u662F\u6D3B\u52A8\u7684\u4E14\u5DF2\u9009\u53D6\u8D44\u6E90\uFF0C\u4F46\u5E76\u672A\u4F7F\u7528\u7F51\u7EDC",NETWORK_LOADING:"\u6D4F\u89C8\u5668\u6B63\u5728\u4E0B\u8F7D\u6570\u636E",NETWORK_NO_SOURCE:"\u672A\u627E\u5230\u97F3\u9891/\u89C6\u9891\u6765\u6E90",MEDIA_ERR_ABORTED:"\u53D6\u56DE\u8FC7\u7A0B\u88AB\u7528\u6237\u4E2D\u6B62",MEDIA_ERR_NETWORK:"\u5F53\u4E0B\u8F7D\u65F6\u53D1\u751F\u9519\u8BEF",MEDIA_ERR_DECODE:"\u5F53\u89E3\u7801\u65F6\u53D1\u751F\u9519\u8BEF",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u4E0D\u652F\u6301\u7684\u97F3\u9891/\u89C6\u9891\u683C\u5F0F",REPLAY:"\u91CD\u64AD",ERROR:"\u7F51\u7EDC\u8FDE\u63A5\u4F3C\u4E4E\u51FA\u73B0\u4E86\u95EE\u9898",PLAY_TIPS:"\u64AD\u653E",PAUSE_TIPS:"\u6682\u505C",PLAYNEXT_TIPS:"\u4E0B\u4E00\u96C6",DOWNLOAD_TIPS:"\u4E0B\u8F7D",ROTATE_TIPS:"\u65CB\u8F6C",RELOAD_TIPS:"\u91CD\u65B0\u8F7D\u5165",FULLSCREEN_TIPS:"\u8FDB\u5165\u5168\u5C4F",EXITFULLSCREEN_TIPS:"\u9000\u51FA\u5168\u5C4F",CSSFULLSCREEN_TIPS:"\u8FDB\u5165\u6837\u5F0F\u5168\u5C4F",EXITCSSFULLSCREEN_TIPS:"\u9000\u51FA\u6837\u5F0F\u5168\u5C4F",TEXTTRACK:"\u5B57\u5E55",PIP:"\u753B\u4E2D\u753B",MINIPLAYER:"\u8FF7\u4F60\u64AD\u653E\u5668",SCREENSHOT:"\u622A\u56FE",LIVE:"\u6B63\u5728\u76F4\u64AD",OFF:"\u5173\u95ED",MINIPLAYER_DRAG:"\u70B9\u51FB\u6309\u4F4F\u53EF\u62D6\u52A8\u89C6\u9891",AIRPLAY_TIPS:"\u9694\u7A7A\u64AD\u653E"},u["zh-hk"]={HAVE_NOTHING:"\u6C92\u6709\u95DC\u65BC\u97F3\u983B/\u8996\u983B\u662F\u5426\u5C31\u7DD2\u7684\u4FE1\u606F",HAVE_METADATA:"\u97F3\u983B/\u8996\u983B\u7684\u5143\u6578\u64DA\u5DF2\u5C31\u7DD2",HAVE_CURRENT_DATA:"\u95DC\u65BC\u7576\u524D\u64AD\u653E\u4F4D\u7F6E\u7684\u6578\u64DA\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u6C92\u6709\u8DB3\u5920\u7684\u6578\u64DA\u4F86\u64AD\u653E\u4E0B\u58F9\u5E40/\u6BEB\u79D2",HAVE_FUTURE_DATA:"\u7576\u524D\u53CA\u81F3\u5C11\u4E0B\u58F9\u5E40\u7684\u6578\u64DA\u662F\u53EF\u7528\u7684",HAVE_ENOUGH_DATA:"\u53EF\u7528\u6578\u64DA\u8DB3\u4EE5\u958B\u59CB\u64AD\u653E",NETWORK_EMPTY:"\u97F3\u983B/\u8996\u983B\u5C1A\u672A\u521D\u59CB\u5316",NETWORK_IDLE:"\u97F3\u983B/\u8996\u983B\u662F\u6D3B\u52D5\u7684\u4E14\u5DF2\u9078\u53D6\u8CC7\u6E90\uFF0C\u4F46\u4E26\u672A\u4F7F\u7528\u7DB2\u7D61",NETWORK_LOADING:"\u700F\u89BD\u5668\u6B63\u5728\u4E0B\u8F09\u6578\u64DA",NETWORK_NO_SOURCE:"\u672A\u627E\u5230\u97F3\u983B/\u8996\u983B\u4F86\u6E90",MEDIA_ERR_ABORTED:"\u53D6\u56DE\u904E\u7A0B\u88AB\u7528\u6236\u4E2D\u6B62",MEDIA_ERR_NETWORK:"\u7576\u4E0B\u8F09\u6642\u767C\u751F\u932F\u8AA4",MEDIA_ERR_DECODE:"\u7576\u89E3\u78BC\u6642\u767C\u751F\u932F\u8AA4",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u4E0D\u652F\u6301\u7684\u97F3\u983B/\u8996\u983B\u683C\u5F0F",REPLAY:"\u91CD\u64AD",ERROR:"\u7DB2\u7D61\u9023\u63A5\u4F3C\u4E4E\u51FA\u73FE\u4E86\u554F\u984C",PLAY_TIPS:"\u64AD\u653E",PAUSE_TIPS:"\u66AB\u505C",PLAYNEXT_TIPS:"\u4E0B\u58F9\u96C6",DOWNLOAD_TIPS:"\u4E0B\u8F09",ROTATE_TIPS:"\u65CB\u8F49",RELOAD_TIPS:"\u91CD\u65B0\u8F09\u5165",FULLSCREEN_TIPS:"\u9032\u5165\u5168\u5C4F",EXITFULLSCREEN_TIPS:"\u9000\u51FA\u5168\u5C4F",CSSFULLSCREEN_TIPS:"\u9032\u5165\u6A23\u5F0F\u5168\u5C4F",EXITCSSFULLSCREEN_TIPS:"\u9000\u51FA\u6A23\u5F0F\u5168\u5C4F",TEXTTRACK:"\u5B57\u5E55",PIP:"\u756B\u4E2D\u756B",MINIPLAYER:"\u8FF7\u59B3\u64AD\u653E\u5668",SCREENSHOT:"\u622A\u5716",LIVE:"\u6B63\u5728\u76F4\u64AD",OFF:"\u95DC\u9589",MINIPLAYER_DRAG:"\u9EDE\u64CA\u6309\u4F4F\u53EF\u62D6\u52D5\u8996\u983B",AIRPLAY_TIPS:"\u9694\u7A7A\u64AD\u653E"},u.jp={HAVE_NOTHING:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA\u304C\u6E96\u5099\u3067\u304D\u3066\u3044\u308B\u304B\u60C5\u5831\u304C\u3042\u308A\u307E\u305B\u3093",HAVE_METADATA:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA\u306E\u30E1\u30BF\u30C7\u30FC\u30BF\u306F\u6E96\u5099\u3067\u304D\u3066\u3044\u307E\u3059",HAVE_CURRENT_DATA:"\u73FE\u5728\u306E\u518D\u751F\u4F4D\u7F6E\u306B\u95A2\u3059\u308B\u30C7\u30FC\u30BF\u306F\u5229\u7528\u53EF\u80FD\u3067\u3059\u304C\u3001\u6B21\u306E\u30D5\u30EC\u30FC\u30E0/\u30DF\u30EA\u79D2\u3092\u518D\u751F\u3059\u308B\u306E\u306B\u5341\u5206\u306A\u30C7\u30FC\u30BF\u304C\u3042\u308A\u307E\u305B\u3093",HAVE_FUTURE_DATA:"\u73FE\u5728\u3001\u5C11\u306A\u304F\u3068\u3082\u6B21\u306E\u30D5\u30EC\u30FC\u30E0\u306E\u30C7\u30FC\u30BF\u304C\u5229\u7528\u53EF\u80FD\u3067\u3059",HAVE_ENOUGH_DATA:"\u5229\u7528\u53EF\u80FD\u306A\u30C7\u30FC\u30BF\u306F\u518D\u751F\u3092\u958B\u59CB\u3059\u308B\u306E\u306B\u5341\u5206\u3067\u3059",NETWORK_EMPTY:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA\u304C\u521D\u671F\u5316\u3055\u308C\u3066\u3044\u307E\u305B\u3093",NETWORK_IDLE:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA\u306F\u30A2\u30AF\u30C6\u30A3\u30D6\u3067\u30EA\u30BD\u30FC\u30B9\u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u3059\u304C\u3001\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u304C\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u305B\u3093",NETWORK_LOADING:"\u30D6\u30E9\u30A6\u30B6\u30FC\u306F\u30C7\u30FC\u30BF\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u3066\u3044\u307E\u3059",NETWORK_NO_SOURCE:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA \u306E\u30BD\u30FC\u30B9\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093",MEDIA_ERR_ABORTED:"\u30E6\u30FC\u30B6\u30FC\u306B\u3088\u3063\u3066\u30D5\u30A7\u30C3\u30C1\u30D7\u30ED\u30BB\u30B9\u304C\u4E2D\u6B62\u3055\u308C\u307E\u3057\u305F",MEDIA_ERR_NETWORK:"\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F",MEDIA_ERR_DECODE:"\u30C7\u30B3\u30FC\u30C9\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u30AA\u30FC\u30C7\u30A3\u30AA/\u30D3\u30C7\u30AA \u306E\u5F62\u5F0F\u304C\u30B5\u30DD\u30FC\u30C8\u3055\u308C\u3066\u3044\u307E\u305B\u3093",REPLAY:"\u30EA\u30D7\u30EC\u30A4",ERROR:"\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u63A5\u7D9A\u306B\u554F\u984C\u304C\u767A\u751F\u3057\u307E\u3057\u305F",PLAY_TIPS:"\u30D7\u30EC\u30A4",PAUSE_TIPS:"\u4E00\u6642\u505C\u6B62",PLAYNEXT_TIPS:"\u6B21\u3092\u30D7\u30EC\u30A4",DOWNLOAD_TIPS:"\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",ROTATE_TIPS:"\u56DE\u8EE2",RELOAD_TIPS:"\u518D\u8AAD\u307F\u8FBC\u307F",FULLSCREEN_TIPS:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3",EXITFULLSCREEN_TIPS:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3\u3092\u7D42\u4E86",CSSFULLSCREEN_TIPS:"\u30B7\u30A2\u30BF\u30FC\u30E2\u30FC\u30C9",EXITCSSFULLSCREEN_TIPS:"\u30B7\u30A2\u30BF\u30FC\u30E2\u30FC\u30C9\u3092\u7D42\u4E86",TEXTTRACK:"\u5B57\u5E55",PIP:"\u30DF\u30CB\u30D7\u30EC\u30FC\u30E4\u30FC",MINIPLAYER:"\u30DF\u30CB\u30D7\u30EC\u30FC\u30E4\u30FC",SCREENSHOT:"\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8",LIVE:"\u751F\u653E\u9001",OFF:"\u30AA\u30D5",MINIPLAYER_DRAG:"\u30DC\u30BF\u30F3\u3092\u62BC\u3057\u3066\u50CD\u753B\u3092\u30C9\u30E9\u30C3\u30B0\u3059\u308B",AIRPLAY_TIPS:"\u9694\u7A7A\u653E\u9001"},Object.defineProperty(l,"lang",{get:function(){return l.config&&u[l.config.lang]||u.en},set:function(c){(0,n.typeOf)(c)==="Object"&&Object.keys(c).forEach(function(d){u[d]=c[d]})}})};i.default={name:"s_i18n",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function g(v,b){for(var S=0;S<b.length;S++){var C=b[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,b,S){return b&&g(v.prototype,b),S&&g(v,S),v}}(),s=e(12),o=c(s),l=e(0),u=e(4),f=c(u);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,v,b){return v in g?Object.defineProperty(g,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[v]=b,g}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}var p=function(){function g(v){var b=this;h(this,g),this._hasStart=!1,this.videoConfig={controls:!!v.isShowControl,autoplay:v.autoplay,playsinline:v.playsinline,"webkit-playsinline":v.playsinline,"x5-playsinline":v.playsinline,"x5-video-player-type":v["x5-video-player-type"]||v.x5VideoPlayerType,"x5-video-player-fullscreen":v["x5-video-player-fullscreen"]||v.x5VideoPlayerFullscreen,"x5-video-orientation":v["x5-video-orientation"]||v.x5VideoOrientation,airplay:v.airplay,"webkit-airplay":v.airplay,tabindex:2,mediaType:v.mediaType||"video"},v.muted&&(this.videoConfig.muted="muted"),v.loop&&(this.videoConfig.loop="loop");var S="";if(this.textTrackShowDefault=!0,v.nativeTextTrack&&Array.isArray(v.nativeTextTrack)&&(v.nativeTextTrack.length>0&&!v.nativeTextTrack.some(function(U){return U.default})&&(v.nativeTextTrack[0].default=!0,this.textTrackShowDefault=!1),v.nativeTextTrack.some(function(U){if(U.src&&U.label&&U.default)return S+='<track src="'+U.src+'" ',U.kind&&(S+='kind="'+U.kind+'" '),S+='label="'+U.label+'" ',U.srclang&&(S+='srclang="'+U.srclang+'" '),S+=(U.default?"default":"")+">",!0}),this.videoConfig.crossorigin="anonymous"),v.textTrackStyle){var C=document.createElement("style");this.textTrackStyle=C,document.head.appendChild(C);var A="";for(var _ in v.textTrackStyle)A+=_+": "+v.textTrackStyle[_]+";";var w=v.id?"#"+v.id:v.el.id?"#"+v.el.id:"."+v.el.className;C.sheet.insertRule?C.sheet.insertRule(w+" video::cue { "+A+" }",0):C.sheet.addRule&&C.sheet.addRule(w+" video::cue",A)}var k=v.el?v.el:(0,l.findDom)(document,"#"+v.id),R=this.constructor.XgVideoProxy;if(R&&this.videoConfig.mediaType===R.mediaType?this.video=new R(k,v):this.video=(0,l.createDom)(this.videoConfig.mediaType,S,this.videoConfig,""),v.videoStyle&&Object.keys(v.videoStyle).forEach(function(U){(0,l.setStyle)(b.video,U,v.videoStyle[U])}),!this.textTrackShowDefault&&S){var j=this.video.getElementsByTagName("Track");j[0].track.mode="hidden"}v.autoplay&&(this.video.autoplay=!0,v.autoplayMuted&&(this.video.muted=!0)),this.ev=["play","playing","pause","ended","error","seeking","seeked","progress","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","ratechange","loadedmetadata","loadeddata","loadstart"].map(function(U){return d({},U,"on"+U.charAt(0).toUpperCase()+U.slice(1))}),(0,o.default)(this),this._interval={};var N="0,0",M=this,z=function(K){!b||(K==="play"?b.hasStart=!0:K==="canplay"?(0,l.removeClass)(b.root,"xgplayer-is-enter"):K==="waiting"?b.inWaitingStart=new Date().getTime():K==="playing"&&((0,l.removeClass)(b.root,"xgplayer-is-enter"),b.inWaitingStart&&(b.inWaitingStart=void 0)),K==="error"?b._onError(K):b.emit(K,b),b.hasOwnProperty("_interval")&&(["ended","error","timeupdate"].indexOf(K)<0?((0,l._clearInterval)(b,"bufferedChange"),(0,l._setInterval)(b,"bufferedChange",function(){if(this.video&&this.video.buffered){for(var te=[],oe=0,G=this.video.buffered.length;oe<G;oe++)te.push([this.video.buffered.start(oe),this.video.buffered.end(oe)]);te.toString()!==N&&(N=te.toString(),this.emit("bufferedChange",te))}},200)):K!=="timeupdate"&&(0,l._clearInterval)(b,"bufferedChange")))},I=function(K){v.videoEventMiddleware&&typeof v.videoEventMiddleware[K]=="function"?v.videoEventMiddleware[K].call(b,b,K,z):z.call(b,K)};this.ev.forEach(function(U){M.evItem=Object.keys(U)[0];var K=Object.keys(U)[0];M.video.addEventListener(Object.keys(U)[0],I.bind(M,K))})}return n(g,[{key:"_onError",value:function(b){this.video&&this.video.error&&this.emit(b,new f.default("other",this.currentTime,this.duration,this.networkState,this.readyState,this.currentSrc,this.src,this.ended,{line:162,msg:this.error,handle:"Constructor"},this.video.error.code,this.video.error))}},{key:"destroy",value:function(){this.textTrackStyle&&this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"canPlayType",value:function(b){return this.video.canPlayType(b)}},{key:"getBufferedRange",value:function(b){var S=[0,0],C=this.video;b||(b=C.buffered);var A=C.currentTime;if(b)for(var _=0,w=b.length;_<w&&(S[0]=b.start(_),S[1]=b.end(_),!(S[0]<=A&&A<=S[1]));_++);return S[0]-A<=0&&A-S[1]<=0?S:[0,0]}},{key:"proxyOn",value:function(b,S){(0,l.on)(this,b,S,"destroy")}},{key:"proxyOnce",value:function(b,S){(0,l.once)(this,b,S,"destroy")}},{key:"hasStart",get:function(){return this._hasStart},set:function(b){typeof b=="boolean"&&b===!0&&!this._hasStart&&(this._hasStart=!0,this.emit("hasstart"))}},{key:"autoplay",set:function(b){this.video&&(this.video.autoplay=b)},get:function(){return this.video?this.video.autoplay:!1}},{key:"buffered",get:function(){if(this.video)return this.video.buffered}},{key:"buffered2",get:function(){return(0,l.getBuffered2)(this.video.buffered)}},{key:"crossOrigin",get:function(){return this.video?this.video.crossOrigin:!1},set:function(b){this.video&&(this.video.crossOrigin=b)}},{key:"currentSrc",get:function(){if(this.video)return this.video.currentSrc}},{key:"currentTime",get:function(){return this.video&&this.video.currentTime||0},set:function(b){var S=this;typeof isFinite=="function"&&!isFinite(b)||((0,l.hasClass)(this.root,"xgplayer-ended")?(this.once("playing",function(){S.video.currentTime=b}),this.replay()):this.video.currentTime=b,this.emit("currentTimeChange",b))}},{key:"defaultMuted",get:function(){return this.video?this.video.defaultMuted:!1},set:function(b){this.video&&(this.video.defaultMuted=b)}},{key:"duration",get:function(){return this.config.duration?this.video?Math.min(this.config.duration,this.video.duration):this.config.duration:this.video?this.video.duration:null}},{key:"ended",get:function(){return this.video?this.video.ended||!1:!0}},{key:"error",get:function(){var b=this.video.error;if(!b)return null;var S=[{en:"MEDIA_ERR_ABORTED",cn:"\u53D6\u56DE\u8FC7\u7A0B\u88AB\u7528\u6237\u4E2D\u6B62"},{en:"MEDIA_ERR_NETWORK",cn:"\u5F53\u4E0B\u8F7D\u65F6\u53D1\u751F\u9519\u8BEF"},{en:"MEDIA_ERR_DECODE",cn:"\u5F53\u89E3\u7801\u65F6\u53D1\u751F\u9519\u8BEF"},{en:"MEDIA_ERR_SRC_NOT_SUPPORTED",cn:"\u4E0D\u652F\u6301\u97F3\u9891/\u89C6\u9891"}];return this.lang?this.lang[S[b.code-1].en]:S[b.code-1].en}},{key:"loop",get:function(){return this.video?this.video.loop:!1},set:function(b){this.video&&(this.video.loop=b)}},{key:"muted",get:function(){return this.video?this.video.muted:!1},set:function(b){this.video&&(this.video.muted=b)}},{key:"networkState",get:function(){var b=[{en:"NETWORK_EMPTY",cn:"\u97F3\u9891/\u89C6\u9891\u5C1A\u672A\u521D\u59CB\u5316"},{en:"NETWORK_IDLE",cn:"\u97F3\u9891/\u89C6\u9891\u662F\u6D3B\u52A8\u7684\u4E14\u5DF2\u9009\u53D6\u8D44\u6E90\uFF0C\u4F46\u5E76\u672A\u4F7F\u7528\u7F51\u7EDC"},{en:"NETWORK_LOADING",cn:"\u6D4F\u89C8\u5668\u6B63\u5728\u4E0B\u8F7D\u6570\u636E"},{en:"NETWORK_NO_SOURCE",cn:"\u672A\u627E\u5230\u97F3\u9891/\u89C6\u9891\u6765\u6E90"}];return this.lang?this.lang[b[this.video.networkState].en]:b[this.video.networkState].en}},{key:"paused",get:function(){return(0,l.hasClass)(this.root,"xgplayer-pause")}},{key:"playbackRate",get:function(){return this.video?this.video.playbackRate:1},set:function(b){this.video&&(this.video.playbackRate=b)}},{key:"played",get:function(){if(this.video)return this.video.played}},{key:"preload",get:function(){return this.video?this.video.preload:!1},set:function(b){this.video&&(this.video.preload=b)}},{key:"readyState",get:function(){var b=[{en:"HAVE_NOTHING",cn:"\u6CA1\u6709\u5173\u4E8E\u97F3\u9891/\u89C6\u9891\u662F\u5426\u5C31\u7EEA\u7684\u4FE1\u606F"},{en:"HAVE_METADATA",cn:"\u5173\u4E8E\u97F3\u9891/\u89C6\u9891\u5C31\u7EEA\u7684\u5143\u6570\u636E"},{en:"HAVE_CURRENT_DATA",cn:"\u5173\u4E8E\u5F53\u524D\u64AD\u653E\u4F4D\u7F6E\u7684\u6570\u636E\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u6CA1\u6709\u8DB3\u591F\u7684\u6570\u636E\u6765\u64AD\u653E\u4E0B\u4E00\u5E27/\u6BEB\u79D2"},{en:"HAVE_FUTURE_DATA",cn:"\u5F53\u524D\u53CA\u81F3\u5C11\u4E0B\u4E00\u5E27\u7684\u6570\u636E\u662F\u53EF\u7528\u7684"},{en:"HAVE_ENOUGH_DATA",cn:"\u53EF\u7528\u6570\u636E\u8DB3\u4EE5\u5F00\u59CB\u64AD\u653E"}];return this.lang?this.lang[b[this.video.readyState].en]:b[this.video.readyState]}},{key:"seekable",get:function(){return this.video?this.video.seekable:!1}},{key:"seeking",get:function(){return this.video?this.video.seeking:!1}},{key:"src",get:function(){if(this.video)return this.video.src},set:function(b){(0,l.hasClass)(this.root,"xgplayer-ended")||this.emit("urlchange",this.video.src),(0,l.removeClass)(this.root,"xgplayer-ended xgplayer-is-replay xgplayer-is-error"),this.video.pause(),this.emit("pause"),this.video.src=b,this.emit("srcChange")}},{key:"poster",set:function(b){var S=(0,l.findDom)(this.root,".xgplayer-poster");S&&(S.style.backgroundImage="url("+b+")")}},{key:"volume",get:function(){return this.video?this.video.volume:1},set:function(b){this.video&&(this.video.volume=b)}},{key:"fullscreen",get:function(){return(0,l.hasClass)(this.root,"xgplayer-is-fullscreen")||(0,l.hasClass)(this.root,"xgplayer-fullscreen-active")}},{key:"bullet",get:function(){return(0,l.findDom)(this.root,"xg-danmu")?(0,l.hasClass)((0,l.findDom)(this.root,"xg-danmu"),"xgplayer-has-danmu"):!1}},{key:"textTrack",get:function(){return(0,l.hasClass)(this.root,"xgplayer-is-textTrack")}},{key:"pip",get:function(){return(0,l.hasClass)(this.root,"xgplayer-pip-active")}}]),g}();i.default=p,r.exports=i.default},function(r,i,e){var n=e(13),s=e(30),o=Function.prototype.apply,l=Function.prototype.call,u=Object.create,f=Object.defineProperty,c=Object.defineProperties,d=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0},p,g,v,b,S,C,A;p=function(_,w){var k;return s(w),d.call(this,"__ee__")?k=this.__ee__:(k=h.value=u(null),f(this,"__ee__",h),h.value=null),k[_]?typeof k[_]=="object"?k[_].push(w):k[_]=[k[_],w]:k[_]=w,this},g=function(_,w){var k,R;return s(w),R=this,p.call(this,_,k=function(){v.call(R,_,k),o.call(w,this,arguments)}),k.__eeOnceListener__=w,this},v=function(_,w){var k,R,j,N;if(s(w),!d.call(this,"__ee__"))return this;if(k=this.__ee__,!k[_])return this;if(R=k[_],typeof R=="object")for(N=0;j=R[N];++N)(j===w||j.__eeOnceListener__===w)&&(R.length===2?k[_]=R[N?0:1]:R.splice(N,1));else(R===w||R.__eeOnceListener__===w)&&delete k[_];return this},b=function(_){var w,k,R,j,N;if(!!d.call(this,"__ee__")&&(j=this.__ee__[_],!!j))if(typeof j=="object"){for(k=arguments.length,N=new Array(k-1),w=1;w<k;++w)N[w-1]=arguments[w];for(j=j.slice(),w=0;R=j[w];++w)o.call(R,this,N)}else switch(arguments.length){case 1:l.call(j,this);break;case 2:l.call(j,this,arguments[1]);break;case 3:l.call(j,this,arguments[1],arguments[2]);break;default:for(k=arguments.length,N=new Array(k-1),w=1;w<k;++w)N[w-1]=arguments[w];o.call(j,this,N)}},S={on:p,once:g,off:v,emit:b},C={on:n(p),once:n(g),off:n(v),emit:n(b)},A=c({},C),r.exports=i=function(_){return _==null?u(A):c(Object(_),C)},i.methods=S},function(r,i,e){var n=e(6),s=e(14),o=e(18),l=e(26),u=e(27),f=r.exports=function(c,d){var h,p,g,v,b;return arguments.length<2||typeof c!="string"?(v=d,d=c,c=null):v=arguments[2],n(c)?(h=u.call(c,"c"),p=u.call(c,"e"),g=u.call(c,"w")):(h=g=!0,p=!1),b={value:d,configurable:h,enumerable:p,writable:g},v?o(l(v),b):b};f.gs=function(c,d,h){var p,g,v,b;return typeof c!="string"?(v=h,h=d,d=c,c=null):v=arguments[3],n(d)?s(d)?n(h)?s(h)||(v=h,h=void 0):h=void 0:(v=d,d=h=void 0):d=void 0,n(c)?(p=u.call(c,"c"),g=u.call(c,"e")):(p=!0,g=!1),b={get:d,set:h,configurable:p,enumerable:g},v?o(l(v),b):b}},function(r,i,e){var n=e(15),s=/^\s*class[\s{/}]/,o=Function.prototype.toString;r.exports=function(l){return!(!n(l)||s.test(o.call(l)))}},function(r,i,e){var n=e(16);r.exports=function(s){if(typeof s!="function"||!hasOwnProperty.call(s,"length"))return!1;try{if(typeof s.length!="number"||typeof s.call!="function"||typeof s.apply!="function")return!1}catch{return!1}return!n(s)}},function(r,i,e){var n=e(17);r.exports=function(s){if(!n(s))return!1;try{return s.constructor?s.constructor.prototype===s:!1}catch{return!1}}},function(r,i,e){var n=e(6),s={object:!0,function:!0,undefined:!0};r.exports=function(o){return n(o)?hasOwnProperty.call(s,typeof o):!1}},function(r,i,e){r.exports=e(19)()?Object.assign:e(20)},function(r,i,e){r.exports=function(){var n=Object.assign,s;return typeof n!="function"?!1:(s={foo:"raz"},n(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")}},function(r,i,e){var n=e(21),s=e(25),o=Math.max;r.exports=function(l,u){var f,c,d=o(arguments.length,2),h;for(l=Object(s(l)),h=function(p){try{l[p]=u[p]}catch(g){f||(f=g)}},c=1;c<d;++c)u=arguments[c],n(u).forEach(h);if(f!==void 0)throw f;return l}},function(r,i,e){r.exports=e(22)()?Object.keys:e(23)},function(r,i,e){r.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(r,i,e){var n=e(3),s=Object.keys;r.exports=function(o){return s(n(o)?Object(o):o)}},function(r,i,e){r.exports=function(){}},function(r,i,e){var n=e(3);r.exports=function(s){if(!n(s))throw new TypeError("Cannot use null or undefined");return s}},function(r,i,e){var n=e(3),s=Array.prototype.forEach,o=Object.create,l=function(u,f){var c;for(c in u)f[c]=u[c]};r.exports=function(u){var f=o(null);return s.call(arguments,function(c){!n(c)||l(Object(c),f)}),f}},function(r,i,e){r.exports=e(28)()?String.prototype.contains:e(29)},function(r,i,e){var n="razdwatrzy";r.exports=function(){return typeof n.contains!="function"?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},function(r,i,e){var n=String.prototype.indexOf;r.exports=function(s){return n.call(this,s,arguments[1])>-1}},function(r,i,e){r.exports=function(n){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}},function(r,i,e){var n=e(32),s=Object.prototype.hasOwnProperty;r.exports=function(o){var l=arguments[1],u;if(n(o),l!==void 0){if(u=s.call(o,"__ee__")&&o.__ee__,!u)return;u[l]&&delete u[l];return}s.call(o,"__ee__")&&delete o.__ee__}},function(r,i,e){var n=e(33);r.exports=function(s){if(!n(s))throw new TypeError(s+" is not an Object");return s}},function(r,i,e){var n=e(3),s={function:!0,object:!0};r.exports=function(o){return n(o)&&s[typeof o]||!1}},function(r,i,e){var n=e(35);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default{background:#000;width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.xgplayer-skin-default *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.xgplayer-skin-default.xgplayer-rotate-fullscreen{position:absolute;top:0;left:100%;bottom:0;right:0;height:100vw!important;width:100vh!important;-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.xgplayer-skin-default.xgplayer-is-fullscreen{width:100%!important;height:100%!important;padding-top:0!important;z-index:9999}.xgplayer-skin-default.xgplayer-is-fullscreen.xgplayer-inactive{cursor:none}.xgplayer-skin-default video{width:100%;height:100%;outline:none}.xgplayer-skin-default .xgplayer-none{display:none}@-webkit-keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}.xgplayer-skin-default .xgplayer-controls{display:-webkit-flex;display:-moz-box;display:flex;position:absolute;bottom:0;left:0;right:0;height:40px;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));z-index:10}.xgplayer-skin-default.xgplayer-inactive .xgplayer-controls,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-progress,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-time,.xgplayer-skin-default.xgplayer-no-controls .xgplayer-controls,.xgplayer-skin-default.xgplayer-nostart .xgplayer-controls{display:none}.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-live{display:block}.xgplayer-skin-default .xgplayer-live{display:block;font-size:12px;color:#fff;line-height:40px;-webkit-order:1;-moz-box-ordinal-group:2;order:1}.xgplayer-skin-default .xgplayer-icon{display:block;width:40px;height:40px;overflow:hidden;fill:#fff}.xgplayer-skin-default .xgplayer-icon svg{position:absolute}.xgplayer-skin-default .xgplayer-tips{background:rgba(0,0,0,.54);border-radius:1px;display:none;position:absolute;font-family:PingFangSC-Regular;font-size:11px;color:#fff;padding:2px 4px;text-align:center;top:-30px;left:50%;margin-left:-16px;width:auto;white-space:nowrap}.xgplayer-skin-default.xgplayer-mobile .xgplayer-tips{display:none!important}.xgplayer-skin-default .xgplayer-screen-container{display:block;width:100%}",""])},function(r,i){r.exports=function(e){var n=typeof window!="undefined"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||typeof e!="string")return e;var s=n.protocol+"//"+n.host,o=s+n.pathname.replace(/\/[^\/]*$/,"/"),l=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,f){var c=f.trim().replace(/^"(.*)"$/,function(h,p){return p}).replace(/^'(.*)'$/,function(h,p){return p});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(c))return u;var d;return c.indexOf("//")===0?d=c:c.indexOf("/")===0?d=s+c:d=o+c.replace(/^\.\//,""),"url("+JSON.stringify(d)+")"});return l}},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root,f=0,c=void 0,d={first:"",second:""};l.onElementTouchend=function(g,v){this.config.closeVideoPreventDefault||g.preventDefault(),this.config.closeVideoStopPropagation||g.stopPropagation();var b=this;if((0,n.hasClass)(u,"xgplayer-inactive")?b.emit("focus"):b.emit("blur"),!b.config.closeVideoTouch&&!b.isTouchMove){var S=function(){c=setTimeout(function(){if((0,n.hasClass)(b.root,"xgplayer-nostart"))return!1;if(!b.ended)if(b.paused){var A=b.play();A!==void 0&&A&&A.catch(function(_){})}else b.pause();f=0},200)};b.config.closeVideoClick||(f++,c&&clearTimeout(c),f===1?b.config.enableVideoDbltouch?d.first=new Date:S():f===2&&b.config.enableVideoDbltouch?(d.second=new Date,Math.abs(d.first-d.second)<400?S():(d.first=new Date,f=1)):f=0)}};function h(g){l.video.addEventListener("touchend",function(v){l.onElementTouchend(v,l.video)}),l.video.addEventListener("touchstart",function(){l.isTouchMove=!1}),l.video.addEventListener("touchmove",function(){l.isTouchMove=!0}),l.config.autoplay&&l.start()}l.once("ready",h);function p(){l.off("ready",h),l.off("destroy",p)}l.once("destroy",p)};i.default={name:"mobile",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this;if(!l.controls||!l.video)return;var u=l.controls,f=l.root,c=0,d=void 0;l.onElementClick=function(A,_){this.config.closeVideoPreventDefault||A.preventDefault(),this.config.closeVideoStopPropagation||A.stopPropagation();var w=this;w.config.closeVideoClick||(c++,d&&clearTimeout(d),c===1?d=setTimeout(function(){if((0,n.hasClass)(w.root,"xgplayer-nostart"))return!1;if(!w.ended)if(w.paused){var k=w.play();k!==void 0&&k&&k.catch(function(R){})}else w.pause();c=0},200):c=0)},l.video.addEventListener("click",function(A){l.onElementClick(A,l.video)},!1),l.onElementDblclick=function(A,_){this.config.closeVideoPreventDefault||A.preventDefault(),this.config.closeVideoStopPropagation||A.stopPropagation();var w=this;if(!w.config.closeVideoDblclick){var k=u.querySelector(".xgplayer-fullscreen");if(k){var R=void 0;document.createEvent?(R=document.createEvent("Event"),R.initEvent("click",!0,!0)):R=new Event("click"),k.dispatchEvent(R)}}},l.video.addEventListener("dblclick",function(A){l.onElementDblclick(A,l.video)},!1);function h(){clearTimeout(l.leavePlayerTimer),l.emit("focus",l)}f.addEventListener("mouseenter",h);function p(){l.config.closePlayerBlur||(l.leavePlayerTimer=setTimeout(function(){l.emit("blur",l)},l.config.leavePlayerTime||0))}f.addEventListener("mouseleave",p);function g(A){l.userTimer&&clearTimeout(l.userTimer)}u.addEventListener("mouseenter",g);function v(A){l.config.closeControlsBlur||l.emit("focus",l)}u.addEventListener("mouseleave",v);function b(A){A.preventDefault(),A.stopPropagation()}u.addEventListener("click",b);function S(A){l.config.autoplay&&l.start()}l.once("ready",S);function C(){f.removeEventListener("mouseenter",h),f.removeEventListener("mouseleave",p),l.off("ready",S),l.off("destroy",C)}l.once("destroy",C)};i.default={name:"pc",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root;function f(){l.off("canplay",f);var h=l.play();h!==void 0&&h&&h.catch(function(p){})}function c(){(0,n.hasClass)(u,"xgplayer-nostart")?((0,n.removeClass)(u,"xgplayer-nostart"),(0,n.addClass)(u,"xgplayer-is-enter"),typeof u.contains=="function"?l.video&&l.video.nodeType===1&&!u.contains(l.video)||l.video&&l.video.nodeType!==1&&l.video.mediaSource===void 0?(l.once("canplay",f),l.start()):f():l.video&&l.video.nodeType===1&&!u.querySelector(this.videoConfig.mediaType)||l.video&&l.video.nodeType!==1&&l.video.mediaSource===void 0?(l.once("canplay",f),l.start()):f()):l.paused&&((0,n.removeClass)(u,"xgplayer-nostart xgplayer-isloading"),setTimeout(function(){var h=l.play();h!==void 0&&h&&h.catch(function(p){})},10))}l.on("startBtnClick",c);function d(){l.off("startBtnClick",c),l.off("canplay",f),l.off("destroy",d)}l.once("destroy",d)};i.default={name:"start",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(41),o=f(s),l=e(42),u=f(l);e(43);function f(d){return d&&d.__esModule?d:{default:d}}var c=function(){var h=this,p=h.root,g=(0,n.createDom)("xg-start",'<div class="xgplayer-icon-play">'+o.default+`</div>
                                      <div class="xgplayer-icon-pause">`+u.default+"</div>",{},"xgplayer-start");function v(b){(0,n.addClass)(b.root,"xgplayer-skin-default"),b.config&&(b.config.autoplay&&!(0,n.isWeiXin)()&&!(0,n.isUc)()&&(0,n.addClass)(b.root,"xgplayer-is-enter"),b.config.lang&&b.config.lang==="en"?(0,n.addClass)(b.root,"xgplayer-lang-is-en"):b.config.lang==="jp"&&(0,n.addClass)(b.root,"xgplayer-lang-is-jp"),b.config.enableContextmenu||b.video.addEventListener("contextmenu",function(S){S.preventDefault(),S.stopPropagation()}))}h.config&&h.config.hideStartBtn&&(0,n.addClass)(p,"xgplayer-start-hide"),h.isReady?(p.appendChild(g),v(h)):h.once("ready",function(){p.appendChild(g),v(h)}),h.once("autoplay was prevented",function(){(0,n.removeClass)(h.root,"xgplayer-is-enter"),(0,n.addClass)(h.root,"xgplayer-nostart")}),h.once("canplay",function(){(0,n.removeClass)(h.root,"xgplayer-is-enter")}),g.onclick=function(b){b.preventDefault(),b.stopPropagation(),h.userGestureTrigEvent("startBtnClick")}};i.default={name:"s_start",method:c},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">
  <path transform="translate(15,15) scale(0.04,0.04)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">
  <path transform="translate(15,15) scale(0.04 0.04)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`},function(r,i,e){var n=e(44);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-start{border-radius:50%;display:inline-block;width:70px;height:70px;background:rgba(0,0,0,.38);overflow:hidden;text-align:center;line-height:70px;vertical-align:middle;position:absolute;left:50%;top:50%;z-index:115;margin:-35px auto auto -35px;cursor:pointer}.xgplayer-skin-default .xgplayer-start div{position:absolute}.xgplayer-skin-default .xgplayer-start div svg{fill:hsla(0,0%,100%,.7)}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default .xgplayer-start:hover{opacity:.85}.xgplayer-skin-default.xgplayer-pause.xgplayer-start-hide .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-start-hide .xgplayer-start{display:none}.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-pause{display:block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start{display:inline-block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start,.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-pause{display:none}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root;function f(){l.config.rotateFullscreen?(0,n.hasClass)(u,"xgplayer-rotate-fullscreen")?l.exitRotateFullscreen():l.getRotateFullscreen():(0,n.hasClass)(u,"xgplayer-is-fullscreen")?l.exitFullscreen(u):l.getFullscreen(u)}l.on("fullscreenBtnClick",f);function c(){var p=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;p&&p===u?((0,n.addClass)(u,"xgplayer-is-fullscreen"),l.emit("requestFullscreen")):(0,n.hasClass)(u,"xgplayer-is-fullscreen")&&((0,n.removeClass)(u,"xgplayer-is-fullscreen"),l.emit("exitFullscreen")),l.danmu&&typeof l.danmu.resize=="function"&&l.danmu.resize()}["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(p){document.addEventListener(p,c)}),l.video.addEventListener("webkitbeginfullscreen",function(){(0,n.addClass)(u,"xgplayer-is-fullscreen"),l.emit("requestFullscreen")}),l.video.addEventListener("webkitendfullscreen",function(){(0,n.removeClass)(u,"xgplayer-is-fullscreen"),l.emit("exitFullscreen")});function d(p){var g=l.video.webkitPresentationMode;g!==n.PresentationMode.FULLSCREEN&&((0,n.removeClass)(u,"xgplayer-is-fullscreen"),l.emit("exitFullscreen"))}(0,n.checkWebkitSetPresentationMode)(l.video)&&l.video.addEventListener("webkitpresentationmodechanged",d);function h(){l.off("fullscreenBtnClick",f),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(p){document.removeEventListener(p,c)}),(0,n.checkWebkitSetPresentationMode)(l.video)&&l.video.removeEventListener("webkitpresentationmodechanged",d),l.off("destroy",h)}l.once("destroy",h),l.getFullscreen=function(p){var g=this;if(p.requestFullscreen){var v=p.requestFullscreen();v&&v.catch(function(){g.emit("fullscreen error")})}else p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):g.video.webkitSupportsFullscreen?g.video.webkitEnterFullscreen():p.msRequestFullscreen?p.msRequestFullscreen():(0,n.addClass)(p,"xgplayer-is-cssfullscreen")},l.exitFullscreen=function(p){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),(0,n.removeClass)(p,"xgplayer-is-cssfullscreen")},l.getRotateFullscreen=function(){var p=this;document.documentElement.style.width="100%",document.documentElement.style.height="100%",p.config.fluid&&(p.root.style["padding-top"]="",p.root.style["max-width"]="unset"),p.root&&!(0,n.hasClass)(p.root,"xgplayer-rotate-fullscreen")&&(0,n.addClass)(p.root,"xgplayer-rotate-fullscreen"),p.emit("getRotateFullscreen")},l.exitRotateFullscreen=function(){var p=this;document.documentElement.style.width="unset",document.documentElement.style.height="unset",p.config.fluid&&(p.root.style.width="100%",p.root.style.height="0",p.root.style["padding-top"]=p.config.height*100/p.config.width+"%",p.root.style["max-width"]="100%"),p.root&&(0,n.hasClass)(p.root,"xgplayer-rotate-fullscreen")&&(0,n.removeClass)(p.root,"xgplayer-rotate-fullscreen"),p.emit("exitRotateFullscreen")}};i.default={name:"fullscreen",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this;function u(){if(!(!l.config.allowPlayAfterEnded&&l.ended))if((0,n.hasClass)(l.root,"xgplayer-nostart")&&l.start(),l.paused){var c=l.play();c!==void 0&&c&&c.catch(function(d){})}else l.pause()}l.on("playBtnClick",u);function f(){l.off("playBtnClick",u),l.off("destroy",f)}l.once("destroy",f)};i.default={name:"play",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root;function f(){(0,n.removeClass)(u,"xgplayer-is-replay"),l.replay()}l.on("replayBtnClick",f);function c(){l.config.loop||(0,n.addClass)(u,"xgplayer-is-replay")}l.on("ended",c);function d(){l.off("replayBtnClick",f),l.off("destroy",d)}l.once("destroy",d)};i.default={name:"replay",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(49),o=f(s),l=e(50),u=f(l);e(51);function f(d){return d&&d.__esModule?d:{default:d}}var c=function(){var h=this,p=h.config.playBtn?h.config.playBtn:{},g=void 0;p.type==="img"?g=(0,n.createImgBtn)("play",p.url.play,p.width,p.height):g=(0,n.createDom)("xg-play",`<xg-icon class="xgplayer-icon">
                                      <div class="xgplayer-icon-play">`+o.default+`</div>
                                      <div class="xgplayer-icon-pause">`+u.default+`</div>
                                     </xg-icon>`,{},"xgplayer-play");var v={};v.play=h.lang.PLAY_TIPS,v.pause=h.lang.PAUSE_TIPS;var b=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-play">'+v.play+`</span>
                                        <span class="xgplayer-tip-pause">`+v.pause+"</span>",{},"xgplayer-tips");g.appendChild(b),h.once("ready",function(){h.controls&&h.controls.appendChild(g)}),["click","touchend"].forEach(function(S){g.addEventListener(S,function(C){C.preventDefault(),C.stopPropagation(),h.userGestureTrigEvent("playBtnClick")})})};i.default={name:"s_play",method:c},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="translate(2,2) scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="translate(2,2) scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`},function(r,i,e){var n=e(52);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-play,.xgplayer-skin-default .xgplayer-play-img{width:40px;position:relative;-webkit-order:0;-moz-box-ordinal-group:1;order:0;display:block;cursor:pointer;margin-left:3px}.xgplayer-skin-default .xgplayer-play-img .xgplayer-icon,.xgplayer-skin-default .xgplayer-play .xgplayer-icon{margin-top:3px;width:32px}.xgplayer-skin-default .xgplayer-play-img .xgplayer-icon div,.xgplayer-skin-default .xgplayer-play .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play,.xgplayer-skin-default .xgplayer-play .xgplayer-icon .xgplayer-icon-play{display:block}.xgplayer-skin-default .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause,.xgplayer-skin-default .xgplayer-play .xgplayer-icon .xgplayer-icon-pause{display:none}.xgplayer-skin-default .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play,.xgplayer-skin-default .xgplayer-play .xgplayer-tips .xgplayer-tip-play{display:block}.xgplayer-skin-default .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause,.xgplayer-skin-default .xgplayer-play .xgplayer-tips .xgplayer-tip-pause{display:none}.xgplayer-skin-default .xgplayer-play-img:hover,.xgplayer-skin-default .xgplayer-play:hover{opacity:.85}.xgplayer-skin-default .xgplayer-play-img:hover .xgplayer-tips,.xgplayer-skin-default .xgplayer-play:hover .xgplayer-tips{display:block}.xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-icon .xgplayer-icon-play{display:none}.xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause,.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-icon .xgplayer-icon-pause{display:block}.xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play,.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-tips .xgplayer-tip-play{display:none}.xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-icon .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause,.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-tips .xgplayer-tip-pause{display:block}.xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause,.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-icon .xgplayer-icon-pause{display:none}.xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play,.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-tips .xgplayer-tip-play{display:block}.xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause,.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-tips .xgplayer-tip-pause{display:none}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(54);var s=function(){var l=this,u=l.root;if(!!l.config.poster){var f=(0,n.createDom)("xg-poster","",{},"xgplayer-poster");f.style.backgroundImage="url("+l.config.poster+")",u.appendChild(f)}};i.default={name:"s_poster",method:s},r.exports=i.default},function(r,i,e){var n=e(55);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-poster{display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:100;background-size:cover;background-position:50%}.xgplayer-skin-default.xgplayer-nostart .xgplayer-poster{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(57);var s=function(){var l=this,u=(0,n.createDom)("xg-placeholder","",{},"xgplayer-placeholder");l.controls.appendChild(u)};i.default={name:"s_flex",method:s},r.exports=i.default},function(r,i,e){var n=e(58);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-placeholder{-webkit-flex:1;-moz-box-flex:1;flex:1;-webkit-order:3;-moz-box-ordinal-group:4;order:3;display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(60),o=f(s),l=e(61),u=f(l);e(62);function f(d){return d&&d.__esModule?d:{default:d}}var c=function(){var h=this,p=h.config.fullscreenBtn?h.config.fullscreenBtn:{},g=void 0;p.type==="img"?g=(0,n.createImgBtn)("fullscreen",p.url.request,p.width,p.height):g=(0,n.createDom)("xg-fullscreen",`<xg-icon class="xgplayer-icon">
                                             <div class="xgplayer-icon-requestfull">`+o.default+`</div>
                                             <div class="xgplayer-icon-exitfull">`+u.default+`</div>
                                           </xg-icon>`,{},"xgplayer-fullscreen");var v={};v.requestfull=h.lang.FULLSCREEN_TIPS,v.exitfull=h.lang.EXITFULLSCREEN_TIPS;var b=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-requestfull">'+v.requestfull+`</span>
                                        <span class="xgplayer-tip-exitfull">`+v.exitfull+"</span>",{},"xgplayer-tips");g.appendChild(b),h.once("ready",function(){h.controls&&h.controls.appendChild(g)}),["click","touchend"].forEach(function(S){g.addEventListener(S,function(C){C.preventDefault(),C.stopPropagation(),h.userGestureTrigEvent("fullscreenBtnClick")})})};i.default={name:"s_fullscreen",method:c},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`},function(r,i,e){var n=e(63);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-fullscreen,.xgplayer-skin-default .xgplayer-fullscreen-img{position:relative;-webkit-order:13;-moz-box-ordinal-group:14;order:13;display:block;cursor:pointer;margin-left:5px;margin-right:3px}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon{margin-top:3px}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon div,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:block}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:none}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips{position:absolute;right:0;left:auto}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:block}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:none}.xgplayer-skin-default .xgplayer-fullscreen-img:hover,.xgplayer-skin-default .xgplayer-fullscreen:hover{opacity:.85}.xgplayer-skin-default .xgplayer-fullscreen-img:hover .xgplayer-tips,.xgplayer-skin-default .xgplayer-fullscreen:hover .xgplayer-tips{display:block}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:block}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(65),o=l(s);e(66);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.root,h=(0,n.createDom)("xg-loading",""+o.default,{},"xgplayer-loading");c.once("ready",function(){d.appendChild(h)})};i.default={name:"s_loading",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewbox="0 0 100 100">
  <path d="M100,50A50,50,0,1,1,50,0"></path>
</svg>
`},function(r,i,e){var n=e(67);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-loading{display:none;width:100px;height:100px;overflow:hidden;-webkit-transform:scale(.7);-ms-transform:scale(.7);transform:scale(.7);position:absolute;left:50%;top:50%;margin:-50px auto auto -50px}.xgplayer-skin-default .xgplayer-loading svg{border-radius:50%;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:loadingRotate 1s linear infinite;animation:loadingRotate 1s linear infinite}.xgplayer-skin-default .xgplayer-loading svg path{stroke:#ddd;stroke-dasharray:236;-webkit-animation:loadingDashOffset 2s linear infinite;animation:loadingDashOffset 2s linear infinite;animation-direction:alternate-reverse;fill:none;stroke-width:12px}.xgplayer-skin-default.xgplayer-nostart .xgplayer-loading{display:none}.xgplayer-skin-default.xgplayer-pause .xgplayer-loading{display:none!important}.xgplayer-skin-default.xgplayer-isloading .xgplayer-loading{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(5),o=l(s);e(69);function l(c){return c&&c.__esModule?c:{default:c}}var u=function(d){return(0,n.hasClass)(d.root,"xgplayer-rotate-fullscreen")},f=function(){var d=this,h=(0,n.createDom)("xg-progress",`<xg-outer class="xgplayer-progress-outer">
                                                   <xg-cache class="xgplayer-progress-cache"></xg-cache>
                                                   <xg-played class="xgplayer-progress-played">
                                                     <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
                                                     <xg-point class="xgplayer-progress-point xgplayer-tips"></xg-point>
                                                     <xg-thumbnail class="xgplayer-progress-thumbnail xgplayer-tips"></xg-thumbnail>
                                                   </xg-played>
                                                 </xg-outer>`,{tabindex:1},"xgplayer-progress"),p=void 0;d.controls.appendChild(h);var g=h.querySelector(".xgplayer-progress-played"),v=h.querySelector(".xgplayer-progress-outer"),b=h.querySelector(".xgplayer-progress-cache"),S=h.querySelector(".xgplayer-progress-point"),C=h.querySelector(".xgplayer-progress-thumbnail");d.dotArr={};function A(Y,ie){Y.addEventListener("mouseenter",function(he){ie&&((0,n.addClass)(Y,"xgplayer-progress-dot-show"),(0,n.addClass)(h,"xgplayer-progress-dot-active"))}),Y.addEventListener("mouseleave",function(he){ie&&((0,n.removeClass)(Y,"xgplayer-progress-dot-show"),(0,n.removeClass)(h,"xgplayer-progress-dot-active"))}),Y.addEventListener("touchend",function(he){he.stopPropagation(),ie&&((0,n.hasClass)(Y,"xgplayer-progress-dot-show")||Object.keys(d.dotArr).forEach(function(Te){d.dotArr[Te]&&(0,n.removeClass)(d.dotArr[Te],"xgplayer-progress-dot-show")}),(0,n.toggleClass)(Y,"xgplayer-progress-dot-show"),(0,n.toggleClass)(h,"xgplayer-progress-dot-active"))})}function _(){d.config.progressDot&&(0,n.typeOf)(d.config.progressDot)==="Array"&&d.config.progressDot.forEach(function(Y){if(Y.time>=0&&Y.time<=d.duration){var ie=(0,n.createDom)("xg-progress-dot",Y.text?'<span class="xgplayer-progress-tip">'+Y.text+"</span>":"",{},"xgplayer-progress-dot");if(ie.style.left=Y.time/d.duration*100+"%",Y.duration>=0&&(ie.style.width=Math.min(Y.duration,d.duration-Y.time)/d.duration*100+"%"),Y.style)for(var he in Y.style)ie.style[he]=Y.style[he];v.appendChild(ie),d.dotArr[Y.time]=ie,A(ie,Y.text)}})}d.once("canplay",_),d.addProgressDot=function(Y,ie,he,Te){if(!d.dotArr[Y]&&Y>=0&&Y<=d.duration){var Pe=(0,n.createDom)("xg-progress-dot",ie?'<span class="xgplayer-progress-tip">'+ie+"</span>":"",{},"xgplayer-progress-dot");if(Pe.style.left=Y/d.duration*100+"%",he>=0&&(Pe.style.width=Math.min(he,d.duration-Y)/d.duration*100+"%"),Te)for(var Ie in Te)Pe.style[Ie]=Te[Ie];v.appendChild(Pe),d.dotArr[Y]=Pe,A(Pe,ie)}},d.removeProgressDot=function(Y){if(Y>=0&&Y<=d.duration&&d.dotArr[Y]){var ie=d.dotArr[Y];ie.parentNode.removeChild(ie),ie=null,d.dotArr[Y]=null}},d.removeAllProgressDot=function(){Object.keys(d.dotArr).forEach(function(Y){if(d.dotArr[Y]){var ie=d.dotArr[Y];ie.parentNode.removeChild(ie),ie=null,d.dotArr[Y]=null}})};var w=0,k=0,R=0,j=0,N=0,M=0,z=[],I=void 0,U=void 0,K=function(){d.config.thumbnail&&(d.config.thumbnail.isShowCoverPreview&&!I&&(g.removeChild(C),I=(0,n.createDom)("xg-coverpreview",`<xg-outer class="xgplayer-coverpreview-outer">
            <xg-thumbnail class="xgplayer-coverpreview-thumbnail"></xg-thumbnail>
            <xg-point class="xgplayer-coverpreview-point"></xg-point>
          </xg-outer>`,{tabindex:1},"xgplayer-coverpreview"),I.querySelector(".xgplayer-coverpreview-outer"),U=I.querySelector(".xgplayer-coverpreview-point"),C=I.querySelector(".xgplayer-coverpreview-thumbnail"),d.root.appendChild(I)),w=d.config.thumbnail.pic_num,k=d.config.thumbnail.width,R=d.config.thumbnail.height,j=d.config.thumbnail.col,N=d.config.thumbnail.row,z=d.config.thumbnail.urls,C.style.width=k+"px",C.style.height=R+"px")};d.on("loadedmetadata",K),typeof d.config.disableSwipeHandler=="function"&&typeof d.config.enableSwipeHandler=="function"&&(d.root.addEventListener("touchmove",function(Y){Y.preventDefault(),d.disableSwipe||(d.disableSwipe=!0,d.config.disableSwipeHandler.call(d))}),d.root.addEventListener("touchstart",function(Y){d.disableSwipe=!0,d.config.disableSwipeHandler.call(d)}),d.root.addEventListener("touchend",function(Y){d.disableSwipe=!1,d.config.enableSwipeHandler.call(d)})),["touchstart","mousedown"].forEach(function(Y){h.addEventListener(Y,function(ie){if(!d.config.disableProgress){if(ie.stopPropagation(),(0,n.event)(ie),ie._target===S||!d.config.allowSeekAfterEnded&&d.ended)return!0;h.focus();var he=g.getBoundingClientRect(),Te=he.left,Pe=u(d);Pe?(Te=g.getBoundingClientRect().top,p=h.getBoundingClientRect().height):(p=h.getBoundingClientRect().width,Te=g.getBoundingClientRect().left);var Ie=function(Ke){Ke.stopPropagation(),(0,n.event)(Ke),d.isProgressMoving=!0;var Je=(Pe?Ke.clientY:Ke.clientX)-Te;Je>p&&(Je=p);var it=Je/p*d.duration;if(it<0&&(it=0),!(d.config.allowSeekPlayed&&Number(it).toFixed(1)>d.maxPlayedTime))if(g.style.width=Je*100/p+"%",d.videoConfig.mediaType==="video"&&!d.dash&&!d.config.closeMoveSeek)d.currentTime=Number(it).toFixed(1);else{var $=(0,n.findDom)(d.controls,".xgplayer-time");$&&($.innerHTML='<span class="xgplayer-time-current">'+(0,n.format)(it||0)+"</span><span>"+(0,n.format)(d.duration)+"</span>")}if(d.config.thumbnail&&d.config.thumbnail.isShowCoverPreview){U.innerHTML="<span>"+(0,n.format)(it)+"</span> / "+(0,n.format)(d.duration||0),M=d.duration/w;var re=Math.floor(it/M);C.style.backgroundImage="url("+z[Math.ceil((re+1)/(j*N))-1]+")";var fe=re+1-j*N*(Math.ceil((re+1)/(j*N))-1),le=Math.ceil(fe/N)-1,pe=fe-le*N-1;C.style["background-position"]="-"+pe*k+"px -"+le*R+"px",I.style.display="block"}d.emit("focus")},st=function nt(Ke){if(Ke.stopPropagation(),(0,n.event)(Ke),window.removeEventListener("mousemove",Ie),window.removeEventListener("touchmove",Ie,{passive:!1}),window.removeEventListener("mouseup",nt),window.removeEventListener("touchend",nt),o.default.browser.indexOf("ie")<0&&h.blur(),!d.isProgressMoving||d.videoConfig&&d.videoConfig.mediaType==="audio"||d.dash||d.config.closeMoveSeek){var Je=(Pe?Ke.clientY:Ke.clientX)-Te;Je>p&&(Je=p);var it=Je/p*d.duration;it<0&&(it=0),d.config.allowSeekPlayed&&Number(it).toFixed(1)>d.maxPlayedTime||(g.style.width=Je*100/p+"%",d.currentTime=Number(it).toFixed(1))}d.config.thumbnail&&d.config.thumbnail.isShowCoverPreview&&(I.style.display="none"),d.emit("focus"),d.isProgressMoving=!1};return window.addEventListener("mousemove",Ie),window.addEventListener("touchmove",Ie,{passive:!1}),window.addEventListener("mouseup",st),window.addEventListener("touchend",st),!0}})}),h.addEventListener("mouseenter",function(Y){if(!d.config.allowSeekAfterEnded&&d.ended)return!0;var ie=u(d),he=ie?h.getBoundingClientRect().top:h.getBoundingClientRect().left,Te=ie?h.getBoundingClientRect().height:h.getBoundingClientRect().width,Pe=function(Ke){var Je=((ie?Ke.clientY:Ke.clientX)-he)/Te*d.duration;Je=Je<0?0:Je,S.textContent=(0,n.format)(Je);var it=S.getBoundingClientRect().width;if(d.config.thumbnail&&!d.config.thumbnail.isShowCoverPreview){M=d.duration/w;var $=Math.floor(Je/M);C.style.backgroundImage="url("+z[Math.ceil(($+1)/(j*N))-1]+")";var re=$+1-j*N*(Math.ceil(($+1)/(j*N))-1),fe=Math.ceil(re/N)-1,le=re-fe*N-1;C.style["background-position"]="-"+le*k+"px -"+fe*R+"px";var pe=(ie?Ke.clientY:Ke.clientX)-he-k/2;pe=pe>0?pe:0,pe=pe<Te-k?pe:Te-k,C.style.left=pe+"px",C.style.top=-10-R+"px",C.style.display="block",S.style.left=pe+k/2-it/2+"px"}else{var ye=Ke.clientX-he-it/2;ye=ye>0?ye:0,ye=ye>Te-it?Te-it:ye,S.style.left=ye+"px"}(0,n.hasClass)(h,"xgplayer-progress-dot-active")?S.style.display="none":S.style.display="block"},Ie=function(Ke){Pe(Ke)},st=function nt(Ke){h.removeEventListener("mousemove",Ie,!1),h.removeEventListener("mouseleave",nt,!1),Pe(Ke),S.style.display="none",d.config.thumbnail&&!d.config.thumbnail.isShowCoverPreview&&(C.style.display="none")};h.addEventListener("mousemove",Ie,!1),h.addEventListener("mouseleave",st,!1),Pe(Y)},!1);var te=function(){if(d.maxPlayedTime===void 0&&(d.maxPlayedTime=0),d.maxPlayedTime<d.currentTime&&(d.maxPlayedTime=d.currentTime),!p&&h&&(p=h.getBoundingClientRect().width),!d.isProgressMoving&&!d.isSeeking&&!d.seeking){var ie=d.currentTime/d.duration,he=Number(g.style.width.replace("%","")||"0")/Number(h.style.width||"100");Math.abs(ie-he)<=1&&(g.style.width=d.currentTime*100/d.duration+"%")}};d.on("timeupdate",te);var oe=function(ie){g.style.width=ie*100/d.duration+"%"};d.on("currentTimeChange",oe);var G=function(){g.style.width="0%"};d.on("srcChange",G);var q=function(){var ie=d.buffered;if(ie&&ie.length>0){for(var he=ie.end(ie.length-1),Te=0,Pe=ie.length;Te<Pe;Te++)if(d.currentTime>=ie.start(Te)&&d.currentTime<=ie.end(Te)){he=ie.end(Te);for(var Ie=Te+1;Ie<ie.length;Ie++)if(ie.start(Ie)-ie.end(Ie-1)>=2){he=ie.end(Ie-1);break}break}b.style.width=he/d.duration*100+"%"}},Z=["bufferedChange","cacheupdate","ended","timeupdate"];Z.forEach(function(Y){d.on(Y,q)});function ae(){d.removeAllProgressDot(),d.off("canplay",_),d.off("timeupdate",te),d.off("currentTimeChange",oe),d.off("srcChange",G),d.off("loadedmetadata",K),Z.forEach(function(Y){d.off(Y,q)}),d.off("destroy",ae)}d.once("destroy",ae)};i.default={name:"s_progress",method:f},r.exports=i.default},function(r,i,e){var n=e(70);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-progress{display:block;position:absolute;height:20px;line-height:20px;left:12px;right:12px;outline:none;top:-15px;z-index:35}.xgplayer-skin-default .xgplayer-progress-outer{background:hsla(0,0%,100%,.3);display:block;height:3px;line-height:3px;margin-top:8.5px;width:100%;position:relative;cursor:pointer}.xgplayer-skin-default .xgplayer-progress-cache,.xgplayer-skin-default .xgplayer-progress-played{display:block;height:100%;line-height:1;position:absolute;left:0;top:0}.xgplayer-skin-default .xgplayer-progress-cache{width:0;background:hsla(0,0%,100%,.5)}.xgplayer-skin-default .xgplayer-progress-played{display:block;width:0;background-image:linear-gradient(-90deg,#fa1f41,#e31106);border-radius:0 1.5px 1.5px 0}.xgplayer-skin-default .xgplayer-progress-btn{display:none;position:absolute;left:0;top:-5px;width:13px;height:13px;border-radius:30px;background:#fff;box-shadow:0 0 2px 0 rgba(0,0,0,.26);left:100%;-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%);z-index:36}.xgplayer-skin-default .xgplayer-progress-point{position:absolute}.xgplayer-skin-default .xgplayer-progress-point.xgplayer-tips{margin-left:0;top:-25px;display:none;z-index:100}.xgplayer-skin-default .xgplayer-progress-dot{display:inline-block;position:absolute;height:3px;width:5px;top:0;background:#fff;border-radius:6px;z-index:16}.xgplayer-skin-default .xgplayer-progress-dot .xgplayer-progress-tip{position:absolute;bottom:200%;right:50%;-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);height:auto;line-height:30px;width:auto;background:rgba(0,0,0,.3);border-radius:6px;border:1px solid rgba(0,0,0,.8);cursor:default;white-space:nowrap;display:none}.xgplayer-skin-default .xgplayer-progress-dot-show .xgplayer-progress-tip{display:block}.xgplayer-skin-default .xgplayer-progress-thumbnail{position:absolute;-moz-box-sizing:border-box;box-sizing:border-box}.xgplayer-skin-default .xgplayer-progress-thumbnail.xgplayer-tips{margin-left:0;display:none;z-index:99}.xgplayer-skin-default .xgplayer-coverpreview{position:absolute;width:100%;height:100%;top:0;left:0;display:none}.xgplayer-skin-default .xgplayer-coverpreview .xgplayer-coverpreview-outer{position:absolute;display:block;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.xgplayer-skin-default .xgplayer-coverpreview .xgplayer-coverpreview-outer .xgplayer-coverpreview-thumbnail{display:block}.xgplayer-skin-default .xgplayer-coverpreview .xgplayer-coverpreview-outer .xgplayer-coverpreview-point{display:block;text-align:center;font-family:PingFangSC-Regular;font-size:11px;color:#ccc;padding:2px 4px}.xgplayer-skin-default .xgplayer-coverpreview .xgplayer-coverpreview-outer .xgplayer-coverpreview-point span{color:#fff}.xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-outer,.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-outer{height:6px;margin-top:7px}.xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-dot,.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-dot{height:6px}.xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-btn,.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-btn{display:block;top:-3px}.xgplayer-skin-default.xgplayer-definition-active .xgplayer-progress,.xgplayer-skin-default.xgplayer-playbackrate-active .xgplayer-progress,.xgplayer-skin-default.xgplayer-texttrack-active .xgplayer-progress,.xgplayer-skin-default.xgplayer-volume-active .xgplayer-progress{z-index:15}.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress-btn{display:block!important}.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-outer,.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-outer{height:3px!important;margin-top:8.5px!important}.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-btn,.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-btn{display:block!important;top:-5px!important}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(72);var s=function(){var l=this,u=(0,n.createDom)("xg-time",'<span class="xgplayer-time-current">'+(l.currentTime||(0,n.format)(0))+`</span>
                                           <span>`+(l.duration||(0,n.format)(0))+"</span>",{},"xgplayer-time");l.once("ready",function(){l.controls&&l.controls.appendChild(u)});var f=function(){(l.videoConfig.mediaType!=="audio"||!l.isProgressMoving||!l.dash)&&(u.innerHTML='<span class="xgplayer-time-current">'+(0,n.format)(l.currentTime||0)+"</span>"+("<span>"+(0,n.format)(l.duration)+"</span>"))};l.on("durationchange",f),l.on("timeupdate",f);function c(){l.off("durationchange",f),l.off("timeupdate",f),l.off("destroy",c)}l.once("destroy",c)};i.default={name:"s_time",method:s},r.exports=i.default},function(r,i,e){var n=e(73);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,'.xgplayer-skin-default .xgplayer-time{-webkit-order:2;-moz-box-ordinal-group:3;order:2;font-family:ArialMT;font-size:13px;color:#fff;line-height:40px;height:40px;text-align:center;display:inline-block;margin:auto 8px}.xgplayer-skin-default .xgplayer-time span{color:hsla(0,0%,100%,.5)}.xgplayer-skin-default .xgplayer-time .xgplayer-time-current{color:#fff}.xgplayer-skin-default .xgplayer-time .xgplayer-time-current:after{content:"/";display:inline-block;padding:0 3px}',""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(75),o=l(s);e(76);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.root,h=c.lang.REPLAY,p=(0,n.createDom)("xg-replay",o.default+`
                                         <xg-replay-txt class="xgplayer-replay-txt">`+h+`</xg-replay-txt>
                                        `,{},"xgplayer-replay");c.once("ready",function(){d.appendChild(p)});function g(){var C=p.querySelector("path");if(C){var A=window.getComputedStyle(C).getPropertyValue("transform");if(typeof A=="string"&&A.indexOf("none")>-1)return;C.setAttribute("transform",A)}}c.on("ended",g);function v(C){C.preventDefault(),C.stopPropagation()}p.addEventListener("click",v);var b=p.querySelector("svg");["click","touchend"].forEach(function(C){b.addEventListener(C,function(A){A.preventDefault(),A.stopPropagation(),c.userGestureTrigEvent("replayBtnClick")})});function S(){c.off("ended",g),c.off("destroy",S)}c.once("destroy",S)};i.default={name:"s_replay",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" width="78" height="78" viewbox="0 0 78 78">
  <path d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`},function(r,i,e){var n=e(77);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-replay{position:absolute;left:0;top:0;width:100%;height:100%;z-index:105;display:none;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;background:rgba(0,0,0,.54);-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.xgplayer-skin-default .xgplayer-replay svg{background:rgba(0,0,0,.58);border-radius:100%;cursor:pointer}.xgplayer-skin-default .xgplayer-replay svg path{-webkit-transform:translate(20px,21px);-ms-transform:translate(20px,21px);transform:translate(20px,21px);fill:#ddd}.xgplayer-skin-default .xgplayer-replay svg:hover{background:rgba(0,0,0,.38)}.xgplayer-skin-default .xgplayer-replay svg:hover path{fill:#fff}.xgplayer-skin-default .xgplayer-replay .xgplayer-replay-txt{display:inline-block;font-family:PingFangSC-Regular;font-size:14px;color:#fff;line-height:34px}.xgplayer-skin-default.xgplayer.xgplayer-ended .xgplayer-controls{display:none}.xgplayer-skin-default.xgplayer.xgplayer-ended .xgplayer-replay{display:-webkit-flex;display:-moz-box;display:flex}",""])},function(r,i,e){var n=e(161);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){r.exports=e(80)},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(9),s=ve(n),o=e(81),l=ve(o),u=e(82),f=ve(u),c=e(83),d=ve(c),h=e(84),p=ve(h),g=e(85),v=ve(g),b=e(88),S=ve(b),C=e(45),A=ve(C),_=e(89),w=ve(_),k=e(90),R=ve(k),j=e(91),N=ve(j),M=e(92),z=ve(M),I=e(37),U=ve(I),K=e(38),te=ve(K),oe=e(98),G=ve(oe),q=e(46),Z=ve(q),ae=e(99),Y=ve(ae),ie=e(100),he=ve(ie),Te=e(47),Pe=ve(Te),Ie=e(101),st=ve(Ie),nt=e(102),Ke=ve(nt),Je=e(103),it=ve(Je),$=e(39),re=ve($),fe=e(104),le=ve(fe),pe=e(105),ye=ve(pe);e(107);function ve(_e){return _e&&_e.__esModule?_e:{default:_e}}s.default.installAll([l.default,f.default,d.default,p.default,v.default,S.default,A.default,w.default,R.default,N.default,z.default,U.default,te.default,G.default,Z.default,Y.default,he.default,Pe.default,st.default,Ke.default,it.default,re.default,le.default,ye.default]),i.default=s.default,r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this;if(!o.config.airplay||!window.WebKitPlaybackTargetAvailabilityEvent)return;function l(){o.video.webkitShowPlaybackTargetPicker()}o.on("airplayBtnClick",l);function u(){o.off("airplayBtnClick",l),o.off("destroy",u)}o.once("destroy",u)};i.default={name:"airplay",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root;function f(){(0,n.hasClass)(u,"xgplayer-is-cssfullscreen")?l.exitCssFullscreen():l.getCssFullscreen()}l.on("cssFullscreenBtnClick",f),l.on("exitFullscreen",function(){(0,n.removeClass)(u,"xgplayer-is-cssfullscreen")});function c(){l.off("cssFullscreenBtnClick",f),l.off("destroy",c)}l.once("destroy",c),l.getCssFullscreen=function(){var d=this;d.config.fluid&&(d.root.style["padding-top"]=""),(0,n.addClass)(d.root,"xgplayer-is-cssfullscreen"),d.emit("requestCssFullscreen")},l.exitCssFullscreen=function(){var d=this;d.config.fluid&&(d.root.style.width="100%",d.root.style.height="0",d.root.style["padding-top"]=d.config.height*100/d.config.width+"%"),(0,n.removeClass)(d.root,"xgplayer-is-cssfullscreen"),d.emit("exitCssFullscreen")}};i.default={name:"cssFullscreen",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this;function u(f){var c=l.root.querySelector("xg-danmu");if((0,n.addClass)(c,"xgplayer-has-danmu"),!l.config.danmu.closeDefaultBtn){var d=function(){f.start()},h=function(){(0,n.hasClass)(l.danmuBtn,"danmu-switch-active")&&f.pause()},p=function(){(0,n.hasClass)(l.danmuBtn,"danmu-switch-active")&&f.play()},g=function(){(0,n.hasClass)(l.danmuBtn,"danmu-switch-active")&&(f.stop(),f.start())},v=function b(){l.off("timeupdate",d),l.off("pause",h),l.off("play",p),l.off("seeked",g),l.off("destroy",b)};l.danmuBtn=(0,n.copyDom)(f.bulletBtn.createSwitch(!0)),l.controls.appendChild(l.danmuBtn),["click","touchend"].forEach(function(b){l.danmuBtn.addEventListener(b,function(S){S.preventDefault(),S.stopPropagation(),(0,n.toggleClass)(l.danmuBtn,"danmu-switch-active"),(0,n.hasClass)(l.danmuBtn,"danmu-switch-active")?(l.emit("danmuBtnOn"),(0,n.addClass)(c,"xgplayer-has-danmu"),l.once("timeupdate",d)):(l.emit("danmuBtnOff"),(0,n.removeClass)(c,"xgplayer-has-danmu"),f.stop())})}),l.onElementClick&&c.addEventListener("click",function(b){l.onElementClick(b,c)},!1),l.onElementDblclick&&c.addEventListener("dblclick",function(b){l.onElementDblclick(b,c)},!1),l.on("pause",h),l.on("play",p),l.on("seeked",g),l.once("destroy",v)}}l.on("initDefaultDanmu",u)};i.default={name:"danmu",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this;function l(){o.off("destroy",l)}o.once("destroy",l)};i.default={name:"definition",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(86),s=l(n),o=e(87);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this;function d(){c.download()}c.on("downloadBtnClick",d);function h(){c.off("downloadBtnClick",d),c.off("destroy",h)}c.once("destroy",h),c.download=function(){var p=(0,o.getAbsoluteURL)(this.config.url);(0,s.default)(p)}};i.default={name:"download",method:u},r.exports=i.default},function(r,i,e){var n,s,o;(function(l,u){s=[],n=u,o=typeof n=="function"?n.apply(i,s):n,o!==void 0&&(r.exports=o)})(this,function(){return function l(u,f,c){var d=window,h="application/octet-stream",p=c||h,g=u,v=!f&&!c&&g,b=document.createElement("a"),S=function(I){return String(I)},C=d.Blob||d.MozBlob||d.WebKitBlob||S,A=f||"download",_,w;if(C=C.call?C.bind(d):Blob,String(this)==="true"&&(g=[g,p],p=g[0],g=g[1]),v&&v.length<2048&&(A=v.split("/").pop().split("?")[0],b.href=v,b.href.indexOf(v)!==-1)){var k=new XMLHttpRequest;return k.open("GET",v,!0),k.responseType="blob",k.onload=function(I){l(I.target.response,A,h)},setTimeout(function(){k.send()},0),k}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(g))if(g.length>1024*1024*1.999&&C!==S)g=M(g),p=g.type||h;else return navigator.msSaveBlob?navigator.msSaveBlob(M(g),A):z(g);else if(/([\x80-\xff])/.test(g)){var R=0,j=new Uint8Array(g.length),N=j.length;for(R;R<N;++R)j[R]=g.charCodeAt(R);g=new C([j],{type:p})}_=g instanceof C?g:new C([g],{type:p});function M(I){var U=I.split(/[:;,]/),K=U[1],te=U[2]=="base64"?atob:decodeURIComponent,oe=te(U.pop()),G=oe.length,q=0,Z=new Uint8Array(G);for(q;q<G;++q)Z[q]=oe.charCodeAt(q);return new C([Z],{type:K})}function z(I,U){if("download"in b)return b.href=I,b.setAttribute("download",A),b.className="download-js-link",b.innerHTML="downloading...",b.style.display="none",document.body.appendChild(b),setTimeout(function(){b.click(),document.body.removeChild(b),U===!0&&setTimeout(function(){d.URL.revokeObjectURL(b.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(I)&&(I="data:"+I.replace(/^data:([\w\/\-\+]+)/,h)),window.open(I)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=I),!0;var K=document.createElement("iframe");document.body.appendChild(K),!U&&/^data:/.test(I)&&(I="data:"+I.replace(/^data:([\w\/\-\+]+)/,h)),K.src=I,setTimeout(function(){document.body.removeChild(K)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(_,A);if(d.URL)z(d.URL.createObjectURL(_),!0);else{if(typeof _=="string"||_.constructor===S)try{return z("data:"+p+";base64,"+d.btoa(_))}catch{return z("data:"+p+","+encodeURIComponent(_))}w=new FileReader,w.onload=function(I){z(this.result)},w.readAsDataURL(_)}return!0}})},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.getAbsoluteURL=function(s){if(!s.match(/^https?:\/\//)){var o=document.createElement("div");o.innerHTML='<a href="'+s+'">x</a>',s=o.firstChild.href}return s}},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(4),s=o(n);function o(f){return f&&f.__esModule?f:{default:f}}var l={maxCount:3,backupUrl:"",isFetch:!0,fetchTimeout:100};function u(){var f=this,c=this;if(!c.config.errorConfig||c.src.indexOf("blob:")>-1)return;var d={},h=c.config.errorConfig;for(var p in l)h[p]===void 0?d[p]=l[p]:d[p]=h[p];c.retryData={count:0,errfTimer:null,isFetchReturn:!1,currentTime:0};function g(S,C,A){var _=function(k,R){S.retryData.isFetchReturn||(S.retryData.isFetchReturn=!0,k(R))};return new Promise(function(w,k){try{var R=new window.XMLHttpRequest;R.open("get",C),R.onload=function(){_(w,{status:R.status,statusText:R.statusText,xhr:R})},R.onerror=function(){_(w,{status:R.status,statusText:R.statusText||"The network environment is disconnected or the address is invalid",xhr:R})},R.onabort=function(){},S.retryData.errfTimer=window.setTimeout(function(){var j=S.retryData.errfTimer;window.clearTimeout(j),S.retryData.errfTimer=null,_(w,{status:-1,statusText:"request timeout"})},A),R.send()}catch{S.retryData.isFetchReturn=!0,_(w,{status:-2,statusText:"request error"})}})}function v(){this.currentTime=this.retryData.currentTime,this.play(),this.retryData.retryCode=0,this.retryData.isFetchReturn=!1,this.retryData.currentTime=0}var b=c._onError;c._onError=function(S){var C=f.retryData.count;if(C>d.maxCount){d.isFetch?g(f,f.currentSrc,d.fetchTimeout).then(function(_){f.emit("error",new s.default({type:"network",currentTime:f.currentTime,duration:f.duration||0,networkState:f.networkState,readyState:f.readyState,currentSrc:f.currentSrc,src:f.src,ended:f.ended,httpCode:_.status,httpMsg:_.statusText,errd:{line:101,msg:f.error,handle:"plugin errorRetry"},errorCode:f.video&&f.video.error.code,mediaError:f.video&&f.video.error})),b.call(f,_)}):b.call(f,S);return}C===0&&(f.retryData.currentTime=f.currentTime,f.once("canplay",v.bind(f)));var A="";d.count<2?A=d.backupUrl?d.backupUrl:c.currentSrc:A=d.backupUrl&&C>1?d.backupUrl:c.currentSrc,f.retryData.count++,f.src=A}}i.default={name:"errorretry",method:u},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function f(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,d,h){return d&&f(c.prototype,d),h&&f(c,h),c}}(),s=e(0);function o(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function(){function f(c){o(this,f),this.player=c,this.state={playbackRate:0,isRepeat:!1,keyCode:0,repeat:0,isBody:!1},this.timer=null,this.initEvents()}return n(f,[{key:"initEvents",value:function(){var d=this,h=this.player,p=h.root,g=h.config;if(this.player.onBodyKeydown=this.onBodyKeydown.bind(this),this.player.onKeydown=this.onKeydown.bind(this),this.player.onKeyup=this.onKeyup.bind(this),!g.keyShortcut||g.keyShortcut==="on"){document.addEventListener("keydown",this.player.onBodyKeydown),p.addEventListener("keydown",this.player.onKeydown);var v=function(){document.removeEventListener("keydown",d.player.onBodyKeydown),p.removeEventListener("keydown",d.player.onKeydown),clearTimeout(d.timer),d.timer=null};(0,s.on)(this.player,"destroy",v)}}},{key:"checkTarget",value:function(d){var h=this.player;return d.target===h.root||d.target===h.video||d.target===h.controls}},{key:"onBodyKeydown",value:function(d){var h=d||window.event,p=h.keyCode;if(h.target===document.body&&(p===37||p===39||p===32))return h.preventDefault(),h.cancelBubble=!0,h.returnValue=!1,h.repeat||document.addEventListener("keyup",this.player.onKeyup),this.handler(h),!1}},{key:"onKeydown",value:function(d){var h=d||window.event,p=h.keyCode;if(this.checkTarget(h)&&(p===37||p===38||p===39||p===40||p===32||p===27))return h.preventDefault(),h.cancelBubble=!0,h.returnValue=!1,this.player.emit("focus"),h.repeat||this.player.root.addEventListener("keyup",this.player.onKeyup),this.handler(h),!1}},{key:"onKeyup",value:function(){var d=this.state,h=this.player;document.removeEventListener("keyup",this.player.onKeyup),h.root.removeEventListener("keyup",this.player.onKeyup),!!d.keyCode&&(d.playbackRate!==0&&(h.playbackRate=d.playbackRate),d.isRepeat||this.handlerKeyCode(d.keyCode,!1),d.playbackRate=0,d.isRepeat=!1,d.keyCode=0,d.repeat=0,this.changeVolumeSlide())}},{key:"handler",value:function(d){var h=this.state,p=this.player;h.keyCode=d.keyCode,h.isRepeat=d.repeat,d.repeat&&(p.config.disableLongPress?this.handlerKeyCode(h.keyCode,!1):h.repeat%2==0&&this.handlerKeyCode(h.keyCode,!0),h.repeat++)}},{key:"handlerKeyCode",value:function(d,h){var p=this.player,g=this.state;switch(d){case 39:h?g.repeat===0&&this.changeRate():this.seek(!1,h);break;case 37:this.seek(!0,h);break;case 38:this.changeVolume(!0);break;case 40:this.changeVolume(!1);break;case 32:h||(p.paused?p.play():p.pause());break;case 27:(0,s.hasClass)(p.root,"xgplayer-is-cssfullscreen")&&p.exitCssFullscreen();break}}},{key:"seek",value:function(d,h){var p=this.player,g=p.config.keyShortcutStep||{},v=g.currentTime||10;p.isLoading||p.isSeeking||h&&this.state.repeat%8>0||(d?p.currentTime-v>=0?p.currentTime-=v:p.currentTime=0:p.maxPlayedTime&&p.config.allowSeekPlayed&&p.currentTime+v>p.maxPlayedTime?p.currentTime=p.maxPlayedTime:p.currentTime+v<=p.duration?p.currentTime+=v:p.currentTime=p.duration+1)}},{key:"changeRate",value:function(){this.state.playbackRate=this.player.playbackRate,this.player.playbackRate=this.player.config.keyboardRate||5}},{key:"changeVolumeSlide",value:function(d){var h=this.player;!h.controls||(d?(h.emit("focus"),(0,s.hasClass)(h.root,"xgplayer-volume-active")||(0,s.addClass)(h.root,"xgplayer-volume-active")):(clearTimeout(this.timer),this.timer=setTimeout(function(){(0,s.removeClass)(h.root,"xgplayer-volume-active")},1e3)))}},{key:"changeVolume",value:function(d){var h=this.player,p=h.config.keyShortcutStep||{},g=p.volume||.1;this.changeVolumeSlide(!0);var v=h.volume;d&&v+g<=1?h.volume=v+g:!d&&v-g>=0&&(h.volume=v-g)}}]),f}(),u=function(){var c=this;c.keyboard=new l(c)};i.default={name:"keyboard",method:u},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.root;function f(d){l.uploadFile=d.files[0];var h=URL.createObjectURL(l.uploadFile);if((0,n.hasClass)(u,"xgplayer-nostart"))l.config.url=h,l.start();else{l.src=h;var p=l.play();p!==void 0&&p&&p.catch(function(g){})}}l.on("upload",f);function c(){l.off("upload",f),l.off("destroy",c)}l.once("destroy",c)};i.default={name:"localPreview",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this;o.on("memoryPlayStart",function(l){o.currentTime=l})};i.default={name:"memoryPlay",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(93),o=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.root;function h(){(0,n.hasClass)(d,"xgplayer-miniplayer-active")?c.exitMiniplayer():c.getMiniplayer()}c.on("miniplayerBtnClick",h);function p(){c.off("miniplayerBtnClick",h),c.off("destroy",p)}c.once("destroy",p),c.getMiniplayer=function(){(0,n.hasClass)(d,"xgplayer-is-fullscreen")&&this.exitFullscreen(d),(0,n.hasClass)(d,"xgplayer-is-cssfullscreen")&&this.exitCssFullscreen(),(0,n.hasClass)(d,"xgplayer-rotate-fullscreen")&&this.exitRotateFullscreen();var g=(0,n.createDom)("xg-miniplayer-lay","<div></div>",{},"xgplayer-miniplayer-lay");this.root.appendChild(g);var v=(0,n.createDom)("xg-miniplayer-drag",'<div class="drag-handle"><span>'+this.lang.MINIPLAYER_DRAG+"</span></div>",{tabindex:9},"xgplayer-miniplayer-drag");this.root.appendChild(v),new o.default(".xgplayer",{handle:".drag-handle"}),(0,n.addClass)(this.root,"xgplayer-miniplayer-active"),this.root.style.right=0,this.root.style.bottom="200px",this.root.style.top="",this.root.style.left="",this.root.style.width="320px",this.root.style.height="180px",this.config.miniplayerConfig&&(this.config.miniplayerConfig.top!==void 0&&(this.root.style.top=this.config.miniplayerConfig.top+"px",this.root.style.bottom=""),this.config.miniplayerConfig.bottom!==void 0&&(this.root.style.bottom=this.config.miniplayerConfig.bottom+"px"),this.config.miniplayerConfig.left!==void 0&&(this.root.style.left=this.config.miniplayerConfig.left+"px",this.root.style.right=""),this.config.miniplayerConfig.right!==void 0&&(this.root.style.right=this.config.miniplayerConfig.right+"px"),this.config.miniplayerConfig.width!==void 0&&(this.root.style.width=this.config.miniplayerConfig.width+"px"),this.config.miniplayerConfig.height!==void 0&&(this.root.style.height=this.config.miniplayerConfig.height+"px")),this.config.fluid&&(this.root.style["padding-top"]="");var b=this;["click","touchend"].forEach(function(S){g.addEventListener(S,function(C){C.preventDefault(),C.stopPropagation(),b.exitMiniplayer()})})},c.exitMiniplayer=function(){(0,n.removeClass)(this.root,"xgplayer-miniplayer-active"),this.root.style.right="",this.root.style.bottom="",this.root.style.top="",this.root.style.left="",this.config.fluid?(this.root.style.width="100%",this.root.style.height="0",this.root.style["padding-top"]=this.config.height*100/this.config.width+"%"):(this.config.width&&(typeof this.config.width!="number"?this.root.style.width=this.config.width:this.root.style.width=this.config.width+"px"),this.config.height&&(typeof this.config.height!="number"?this.root.style.height=this.config.height:this.root.style.height=this.config.height+"px"));var g=(0,n.findDom)(this.root,".xgplayer-miniplayer-lay");g&&g.parentNode&&g.parentNode.removeChild(g);var v=(0,n.findDom)(this.root,".xgplayer-miniplayer-drag");v&&v.parentNode&&v.parentNode.removeChild(v)}};i.default={name:"miniplayer",method:u},r.exports=i.default},function(r,i,e){var n,s;/*!
* Draggabilly v2.3.0
* Make that shiz draggable
* https://draggabilly.desandro.com
* MIT license
*/(function(o,l){n=[e(94),e(95)],s=function(u,f){return l(o,u,f)}.apply(i,n),s!==void 0&&(r.exports=s)})(window,function(l,u,f){function c(S,C){for(var A in C)S[A]=C[A];return S}function d(){}var h=l.jQuery;function p(S,C){this.element=typeof S=="string"?document.querySelector(S):S,h&&(this.$element=h(this.element)),this.options=c({},this.constructor.defaults),this.option(C),this._create()}var g=p.prototype=Object.create(f.prototype);p.defaults={},g.option=function(S){c(this.options,S)};var v={relative:!0,absolute:!0,fixed:!0};g._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=c({},this.position);var S=getComputedStyle(this.element);v[S.position]||(this.element.style.position="relative"),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},g.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},g.dispatchEvent=function(S,C,A){var _=[C].concat(A);this.emitEvent(S,_),this.dispatchJQueryEvent(S,C,A)},g.dispatchJQueryEvent=function(S,C,A){var _=l.jQuery;if(!(!_||!this.$element)){var w=_.Event(C);w.type=S,this.$element.trigger(w,A)}},g._getPosition=function(){var S=getComputedStyle(this.element),C=this._getPositionCoord(S.left,"width"),A=this._getPositionCoord(S.top,"height");this.position.x=isNaN(C)?0:C,this.position.y=isNaN(A)?0:A,this._addTransformPosition(S)},g._getPositionCoord=function(S,C){if(S.indexOf("%")!=-1){var A=u(this.element.parentNode);return A?parseFloat(S)/100*A[C]:0}return parseInt(S,10)},g._addTransformPosition=function(S){var C=S.transform;if(C.indexOf("matrix")===0){var A=C.split(","),_=C.indexOf("matrix3d")===0?12:4,w=parseInt(A[_],10),k=parseInt(A[_+1],10);this.position.x+=w,this.position.y+=k}},g.onPointerDown=function(S,C){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",S,[C])},g.pointerDown=function(S,C){var A=this.okayPointerDown(S);if(!A||!this.isEnabled){this._pointerReset();return}this.pointerDownPointer={pageX:C.pageX,pageY:C.pageY},S.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(S),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",S,[C])},g.dragStart=function(S,C){!this.isEnabled||(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",S,[C]),this.animate())},g.measureContainment=function(){var S=this.getContainer();if(!!S){var C=u(this.element),A=u(S),_=this.element.getBoundingClientRect(),w=S.getBoundingClientRect(),k=A.borderLeftWidth+A.borderRightWidth,R=A.borderTopWidth+A.borderBottomWidth,j=this.relativeStartPosition={x:_.left-(w.left+A.borderLeftWidth),y:_.top-(w.top+A.borderTopWidth)};this.containSize={width:A.width-k-j.x-C.width,height:A.height-R-j.y-C.height}}},g.getContainer=function(){var S=this.options.containment;if(!!S){var C=S instanceof HTMLElement;return C?S:typeof S=="string"?document.querySelector(S):this.element.parentNode}},g.onPointerMove=function(S,C,A){this.dispatchJQueryEvent("pointerMove",S,[C,A])},g.dragMove=function(S,C,A){if(!!this.isEnabled){var _=A.x,w=A.y,k=this.options.grid,R=k&&k[0],j=k&&k[1];_=b(_,R),w=b(w,j),_=this.containDrag("x",_,R),w=this.containDrag("y",w,j),_=this.options.axis=="y"?0:_,w=this.options.axis=="x"?0:w,this.position.x=this.startPosition.x+_,this.position.y=this.startPosition.y+w,this.dragPoint.x=_,this.dragPoint.y=w,this.dispatchEvent("dragMove",S,[C,A])}};function b(S,C,A){return A=A||"round",C?Math[A](S/C)*C:S}return g.containDrag=function(S,C,A){if(!this.options.containment)return C;var _=S=="x"?"width":"height",w=this.relativeStartPosition[S],k=b(-w,A,"ceil"),R=this.containSize[_];return R=b(R,A,"floor"),Math.max(k,Math.min(R,C))},g.onPointerUp=function(S,C){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",S,[C])},g.dragEnd=function(S,C){!this.isEnabled||(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",S,[C]))},g.animate=function(){if(!!this.isDragging){this.positionDrag();var S=this;requestAnimationFrame(function(){S.animate()})}},g.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},g.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},g.staticClick=function(S,C){this.dispatchEvent("staticClick",S,[C])},g.setPosition=function(S,C){this.position.x=S,this.position.y=C,this.setLeftTop()},g.enable=function(){this.isEnabled=!0},g.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},g.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},g._init=d,h&&h.bridget&&h.bridget("draggabilly",p),p})},function(r,i,e){var n,s;/*!
* getSize v2.0.3
* measure size of elements
* MIT license
*/(function(o,l){n=l,s=typeof n=="function"?n.call(i,e,i,r):n,s!==void 0&&(r.exports=s)})(window,function(){function l(C){var A=parseFloat(C),_=C.indexOf("%")==-1&&!isNaN(A);return _&&A}function u(){}var f=typeof console=="undefined"?u:function(C){console.error(C)},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],d=c.length;function h(){for(var C={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},A=0;A<d;A++){var _=c[A];C[_]=0}return C}function p(C){var A=getComputedStyle(C);return A||f("Style returned "+A+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),A}var g=!1,v;function b(){if(!g){g=!0;var C=document.createElement("div");C.style.width="200px",C.style.padding="1px 2px 3px 4px",C.style.borderStyle="solid",C.style.borderWidth="1px 2px 3px 4px",C.style.boxSizing="border-box";var A=document.body||document.documentElement;A.appendChild(C);var _=p(C);v=Math.round(l(_.width))==200,S.isBoxSizeOuter=v,A.removeChild(C)}}function S(C){if(b(),typeof C=="string"&&(C=document.querySelector(C)),!(!C||typeof C!="object"||!C.nodeType)){var A=p(C);if(A.display=="none")return h();var _={};_.width=C.offsetWidth,_.height=C.offsetHeight;for(var w=_.isBorderBox=A.boxSizing=="border-box",k=0;k<d;k++){var R=c[k],j=A[R],N=parseFloat(j);_[R]=isNaN(N)?0:N}var M=_.paddingLeft+_.paddingRight,z=_.paddingTop+_.paddingBottom,I=_.marginLeft+_.marginRight,U=_.marginTop+_.marginBottom,K=_.borderLeftWidth+_.borderRightWidth,te=_.borderTopWidth+_.borderBottomWidth,oe=w&&v,G=l(A.width);G!==!1&&(_.width=G+(oe?0:M+K));var q=l(A.height);return q!==!1&&(_.height=q+(oe?0:z+te)),_.innerWidth=_.width-(M+K),_.innerHeight=_.height-(z+te),_.outerWidth=_.width+I,_.outerHeight=_.height+U,_}}return S})},function(r,i,e){var n,s;/*!
* Unidragger v2.3.1
* Draggable base class
* MIT license
*/(function(o,l){n=[e(96)],s=function(u){return l(o,u)}.apply(i,n),s!==void 0&&(r.exports=s)})(window,function(l,u){function f(){}var c=f.prototype=Object.create(u.prototype);c.bindHandles=function(){this._bindHandles(!0)},c.unbindHandles=function(){this._bindHandles(!1)},c._bindHandles=function(p){p=p===void 0?!0:p;for(var g=p?"addEventListener":"removeEventListener",v=p?this._touchActionValue:"",b=0;b<this.handles.length;b++){var S=this.handles[b];this._bindStartEvent(S,p),S[g]("click",this),l.PointerEvent&&(S.style.touchAction=v)}},c._touchActionValue="none",c.pointerDown=function(p,g){var v=this.okayPointerDown(p);!v||(this.pointerDownPointer={pageX:g.pageX,pageY:g.pageY},p.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(p),this.emitEvent("pointerDown",[p,g]))};var d={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},h={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return c.okayPointerDown=function(p){var g=d[p.target.nodeName],v=h[p.target.type],b=!g||v;return b||this._pointerReset(),b},c.pointerDownBlur=function(){var p=document.activeElement,g=p&&p.blur&&p!=document.body;g&&p.blur()},c.pointerMove=function(p,g){var v=this._dragPointerMove(p,g);this.emitEvent("pointerMove",[p,g,v]),this._dragMove(p,g,v)},c._dragPointerMove=function(p,g){var v={x:g.pageX-this.pointerDownPointer.pageX,y:g.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(v)&&this._dragStart(p,g),v},c.hasDragStarted=function(p){return Math.abs(p.x)>3||Math.abs(p.y)>3},c.pointerUp=function(p,g){this.emitEvent("pointerUp",[p,g]),this._dragPointerUp(p,g)},c._dragPointerUp=function(p,g){this.isDragging?this._dragEnd(p,g):this._staticClick(p,g)},c._dragStart=function(p,g){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(p,g)},c.dragStart=function(p,g){this.emitEvent("dragStart",[p,g])},c._dragMove=function(p,g,v){!this.isDragging||this.dragMove(p,g,v)},c.dragMove=function(p,g,v){p.preventDefault(),this.emitEvent("dragMove",[p,g,v])},c._dragEnd=function(p,g){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(p,g)},c.dragEnd=function(p,g){this.emitEvent("dragEnd",[p,g])},c.onclick=function(p){this.isPreventingClicks&&p.preventDefault()},c._staticClick=function(p,g){this.isIgnoringMouseUp&&p.type=="mouseup"||(this.staticClick(p,g),p.type!="mouseup"&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},c.staticClick=function(p,g){this.emitEvent("staticClick",[p,g])},f.getPointerPoint=u.getPointerPoint,f})},function(r,i,e){var n,s;/*!
* Unipointer v2.3.0
* base class for doing one thing with pointer event
* MIT license
*/(function(o,l){n=[e(97)],s=function(u){return l(o,u)}.apply(i,n),s!==void 0&&(r.exports=s)})(window,function(l,u){function f(){}function c(){}var d=c.prototype=Object.create(u.prototype);d.bindStartEvent=function(p){this._bindStartEvent(p,!0)},d.unbindStartEvent=function(p){this._bindStartEvent(p,!1)},d._bindStartEvent=function(p,g){g=g===void 0?!0:g;var v=g?"addEventListener":"removeEventListener",b="mousedown";l.PointerEvent?b="pointerdown":"ontouchstart"in l&&(b="touchstart"),p[v](b,this)},d.handleEvent=function(p){var g="on"+p.type;this[g]&&this[g](p)},d.getTouch=function(p){for(var g=0;g<p.length;g++){var v=p[g];if(v.identifier==this.pointerIdentifier)return v}},d.onmousedown=function(p){var g=p.button;g&&g!==0&&g!==1||this._pointerDown(p,p)},d.ontouchstart=function(p){this._pointerDown(p,p.changedTouches[0])},d.onpointerdown=function(p){this._pointerDown(p,p)},d._pointerDown=function(p,g){p.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=g.pointerId!==void 0?g.pointerId:g.identifier,this.pointerDown(p,g))},d.pointerDown=function(p,g){this._bindPostStartEvents(p),this.emitEvent("pointerDown",[p,g])};var h={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return d._bindPostStartEvents=function(p){if(!!p){var g=h[p.type];g.forEach(function(v){l.addEventListener(v,this)},this),this._boundPointerEvents=g}},d._unbindPostStartEvents=function(){!this._boundPointerEvents||(this._boundPointerEvents.forEach(function(p){l.removeEventListener(p,this)},this),delete this._boundPointerEvents)},d.onmousemove=function(p){this._pointerMove(p,p)},d.onpointermove=function(p){p.pointerId==this.pointerIdentifier&&this._pointerMove(p,p)},d.ontouchmove=function(p){var g=this.getTouch(p.changedTouches);g&&this._pointerMove(p,g)},d._pointerMove=function(p,g){this.pointerMove(p,g)},d.pointerMove=function(p,g){this.emitEvent("pointerMove",[p,g])},d.onmouseup=function(p){this._pointerUp(p,p)},d.onpointerup=function(p){p.pointerId==this.pointerIdentifier&&this._pointerUp(p,p)},d.ontouchend=function(p){var g=this.getTouch(p.changedTouches);g&&this._pointerUp(p,g)},d._pointerUp=function(p,g){this._pointerDone(),this.pointerUp(p,g)},d.pointerUp=function(p,g){this.emitEvent("pointerUp",[p,g])},d._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},d._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},d.pointerDone=f,d.onpointercancel=function(p){p.pointerId==this.pointerIdentifier&&this._pointerCancel(p,p)},d.ontouchcancel=function(p){var g=this.getTouch(p.changedTouches);g&&this._pointerCancel(p,g)},d._pointerCancel=function(p,g){this._pointerDone(),this.pointerCancel(p,g)},d.pointerCancel=function(p,g){this.emitEvent("pointerCancel",[p,g])},c.getPointerPoint=function(p){return{x:p.pageX,y:p.pageY}},c})},function(r,i,e){var n,s;(function(o,l){n=l,s=typeof n=="function"?n.call(i,e,i,r):n,s!==void 0&&(r.exports=s)})(typeof window!="undefined"?window:this,function(){function o(){}var l=o.prototype;return l.on=function(u,f){if(!(!u||!f)){var c=this._events=this._events||{},d=c[u]=c[u]||[];return d.indexOf(f)==-1&&d.push(f),this}},l.once=function(u,f){if(!(!u||!f)){this.on(u,f);var c=this._onceEvents=this._onceEvents||{},d=c[u]=c[u]||{};return d[f]=!0,this}},l.off=function(u,f){var c=this._events&&this._events[u];if(!(!c||!c.length)){var d=c.indexOf(f);return d!=-1&&c.splice(d,1),this}},l.emitEvent=function(u,f){var c=this._events&&this._events[u];if(!(!c||!c.length)){c=c.slice(0),f=f||[];for(var d=this._onceEvents&&this._onceEvents[u],h=0;h<c.length;h++){var p=c[h],g=d&&d[p];g&&(this.off(u,p),delete d[p]),p.apply(this,f)}return this}},l.allOff=function(){delete this._events,delete this._onceEvents},o})},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=this;function f(){u.video!==document.pictureInPictureElement?u.video.requestPictureInPicture():document.exitPictureInPicture()}u.on("pipBtnClick",f);var c=function(p){var g=u.video.webkitPresentationMode;l.pMode=g,g===n.PresentationMode.PIP?u.emit("requestPictureInPicture",p.pictureInPictureWindow):g===n.PresentationMode.INLINE&&u.emit("exitPictureInPicture")};u.video.addEventListener("enterpictureinpicture",function(h){u.emit("requestPictureInPicture",h)}),u.video.addEventListener("leavepictureinpicture",function(){u.emit("exitPictureInPicture")}),(0,n.checkWebkitSetPresentationMode)(u.video)&&u.video.addEventListener("webkitpresentationmodechanged",c);function d(){u.off("pipBtnClick",f),u.off("destroy",d),(0,n.checkWebkitSetPresentationMode)(u.video)&&u.video.removeEventListener("webkitpresentationmodechanged",c)}u.once("destroy",d)};i.default={name:"pip",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this,l=o.config.playNext;o.currentVideoIndex=-1;function u(){o.currentVideoIndex+1<l.urlList.length&&(o.currentVideoIndex++,o.video.autoplay=!0,o.src=l.urlList[o.currentVideoIndex],o.emit("playerNext",o.currentVideoIndex+1),o.currentVideoIndex+1===l.urlList.length&&o.emit("urlListEnd"))}o.on("playNextBtnClick",u);function f(){o.off("playNextBtnClick",u),o.off("destroy",f)}o.once("destroy",f)};i.default={name:"playNext",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this,u=l.config.reload;if(!u)return;function f(){(0,n.removeClass)(l.root,"xgplayer-is-error"),l.src=l.config.url}l.on("reloadBtnClick",f);function c(){l.off("reloadBtnClick",f),l.off("destroy",c)}l.once("destroy",c)};i.default={name:"reload",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this,l=o.config.rotate;if(!l)return;function u(){o.rotate(l.clockwise,l.innerRotate)}o.on("rotateBtnClick",u);function f(){o.off("rotateBtnClick",u),o.off("destroy",f)}o.once("destroy",f),o.updateRotateDeg=function(){var c=this;c.rotateDeg||(c.rotateDeg=0);var d=c.root.offsetWidth,h=c.root.offsetHeight,p=c.video.videoWidth,g=c.video.videoHeight;!c.config.rotate.innerRotate&&c.config.rotate.controlsFix&&(c.root.style.width=h+"px",c.root.style.height=d+"px");var v=void 0;if(c.rotateDeg===.25||c.rotateDeg===.75){if(c.config.rotate.innerRotate)if(p/g>h/d){var b=0;g/p>h/d?b=h*p/g:b=d,v=h/b}else{var S=0;g/p>h/d?S=h:S=d*g/p,v=d/S}else d>=h?v=d/h:v=h/d;v=Number(v.toFixed(5))}else v=1;c.config.rotate.innerRotate||c.config.rotate.controlsFix?(c.video.style.transformOrigin="center center",c.video.style.transform="rotate("+c.rotateDeg+"turn) scale("+v+")",c.video.style.webKitTransform="rotate("+c.rotateDeg+"turn) scale("+v+")"):(c.root.style.transformOrigin="center center",c.root.style.transform="rotate("+c.rotateDeg+"turn) scale("+1+")",c.root.style.webKitTransform="rotate("+c.rotateDeg+"turn) scale("+1+")")},o.rotate=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=this;h.rotateDeg||(h.rotateDeg=0);var p=c?1:-1;h.rotateDeg=(h.rotateDeg+1+p*.25*d)%1,this.updateRotateDeg(),h.emit("rotate",h.rotateDeg*360)}};i.default={name:"rotate",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var o=this,l=o.config.screenShot;if(!l)return;o.video.setAttribute("crossOrigin","anonymous");var u=.92;(l.quality||l.quality===0)&&(u=l.quality);var f=l.type===void 0?"image/png":l.type,c=l.format===void 0?".png":l.format,d=document.createElement("canvas"),h=d.getContext("2d"),p=new Image;d.width=this.config.width||600,d.height=this.config.height||337.5;var g=function(S,C){var A=document.createElement("a");A.href=S,A.download=C;var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),A.dispatchEvent(_)};o.screenShot=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;b=l.saveImg===void 0?b:l.saveImg,d.width=o.video.videoWidth||600,d.height=o.video.videoHeight||337.5,p.onload=function(){h.drawImage(o.video,0,0,d.width,d.height),p.src=d.toDataURL(f,u).replace(f,"image/octet-stream");var S=p.src.replace(/^data:image\/[^;]+/,"data:application/octet-stream");o.emit("screenShot",S),b&&g(S,"\u622A\u56FE"+c)}()},o.on("screenShotBtnClick",o.screenShot);function v(){o.off("screenShotBtnClick",o.screenShot),o.off("destroy",v)}o.once("destroy",v)};i.default={name:"screenShot",method:n},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(4),s=o(n);function o(u){return u&&u.__esModule?u:{default:u}}function l(){var u=this;if(!!u.config.enableStallCheck){var f=0,c=void 0,d=void 0;u.once("complete",function(){setInterval(function(){u.currentTime-(f||0)>.1||u.paused?(c===1||c===2)&&(c=0,clearTimeout(d),d=null):c||(c=1,d=setTimeout(function(){c===1&&(c=2,u.emit("error",new s.default("STALL"))),d=null},2e4)),f=u.currentTime},1e3)})}}i.default={name:"stallCheck",method:l},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(5),o=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.root,h=void 0,p=void 0,g=void 0,v=void 0;function b(){!c.controls||(c.volume=c.config.volume,h=c.controls.querySelector(".xgplayer-volume"),!!h&&(p=h.querySelector(".xgplayer-slider"),g=h.querySelector(".xgplayer-bar"),v=h.querySelector(".xgplayer-drag"),o.default.device==="mobile"&&(c.volume===0&&(c.video.muted=!0),k())))}c.once("canplay",b);function S(j){if(!!p){c.video.muted=!1,p.focus(),(0,n.event)(j);var N=g.getBoundingClientRect(),M={x:j.clientX,y:j.clientY},z=v.getBoundingClientRect().height,I=!1,U=function(oe){oe.preventDefault(),oe.stopPropagation(),(0,n.event)(oe),I=!0;var G=z-oe.clientY+M.y,q=G/N.height;v.style.height=G+"px",c.volume=Math.max(Math.min(q,1),0)},K=function te(oe){if(oe.preventDefault(),oe.stopPropagation(),(0,n.event)(oe),window.removeEventListener("mousemove",U),window.removeEventListener("touchmove",U),window.removeEventListener("mouseup",te),window.removeEventListener("touchend",te),!I){var G=N.height-(oe.clientY-N.top),q=G/N.height;v.style.height=G+"px",q<=0&&(c.volume>0?v.volume=c.video.volume:q=v.volume),c.volume=Math.max(Math.min(q,1),0)}p.volume=c.volume,I=!1};return window.addEventListener("mousemove",U),window.addEventListener("touchmove",U),window.addEventListener("mouseup",K),window.addEventListener("touchend",K),!1}}c.on("volumeBarClick",S);function C(){if(o.default.device==="mobile")c.video.muted?(c.video.muted=!1,c.emit("unmute"),c.volume=1):(c.video.muted=!0,c.emit("mute"),c.volume=0);else{if(!p)return;c.video.muted=!1,c.volume<.1?(p.volume<.1?c.volume=.6:c.volume=p.volume,c.emit("unmute")):(c.volume=0,c.emit("mute"))}}c.on("volumeIconClick",C);function A(){(0,n.addClass)(d,"xgplayer-volume-active"),h&&h.focus()}c.on("volumeIconEnter",A);function _(){(0,n.removeClass)(d,"xgplayer-volume-active")}c.on("volumeIconLeave",_);var w=null;function k(){w&&clearTimeout(w),w=setTimeout(function(){if(o.default.device==="mobile")(0,n.removeClass)(d,"xgplayer-volume-muted"),(0,n.removeClass)(d,"xgplayer-volume-large"),c.video.muted||c.video.defaultMuted?(c.video.muted||(c.video.muted=!0),c.video.defaultMuted=!1,(0,n.addClass)(d,"xgplayer-volume-muted")):(0,n.addClass)(d,"xgplayer-volume-large");else{if((0,n.removeClass)(d,"xgplayer-volume-muted"),(0,n.removeClass)(d,"xgplayer-volume-small"),(0,n.removeClass)(d,"xgplayer-volume-large"),c.volume===0||c.muted?(0,n.addClass)(d,"xgplayer-volume-muted"):c.volume<.5?(0,n.addClass)(d,"xgplayer-volume-small"):(0,n.addClass)(d,"xgplayer-volume-large"),!g)return;var j=g.getBoundingClientRect().height||76;v.style.height=c.volume*j+"px"}},50)}c.on("volumechange",k);function R(){c.off("canplay",b),c.off("volumeBarClick",S),c.off("volumeIconClick",C),c.off("volumeIconEnter",A),c.off("volumeIconLeave",_),c.off("volumechange",k),c.off("destroy",R),w&&(clearTimeout(w),w=null)}c.once("destroy",R)};i.default={name:"volume",method:u},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function h(p,g){for(var v=0;v<g.length;v++){var b=g[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,v){return g&&h(p.prototype,g),v&&h(p,v),p}}(),s=e(106),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var f={follow:!0,mode:"stroke",followBottom:50,fitVideo:!0,offsetBottom:2,baseSizeX:49,baseSizeY:28,minSize:16,minMobileSize:13,line:"double",fontColor:"#fff"},c=function(){function h(p,g,v){var b=this;u(this,h);var S=this.create(g,v,p.textTrackShowDefault);S.attachPlayer(p),this.subtitle=S,this.player=p,this.positionData={vBottom:0,marginBottom:0},this.isActive=!1,this.followBottom=v.followBottom,["onSubtitleResize","onFocus","onBlur"].map(function(C){b[C]=b[C].bind(b)}),p.controls&&v.follow&&(this.subtitle.on("resize",this.onSubtitleResize),p.on("focus",this.onFocus),p.on("blur",this.onBlur))}return n(h,[{key:"create",value:function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,S={subTitles:g,defaultOpen:b};return Object.keys(v).map(function(C){S[C]=v[C]}),new o.default(S)}},{key:"switch",value:function(g){return this.subtitle.switch(g)}},{key:"switchOff",value:function(){return this.subtitle.switchOff()}},{key:"setSubTitles",value:function(g,v,b){return this.subtitle.setSubTitles(g,v,b)}},{key:"onFocus",value:function(){var g=this.positionData,v=g.marginBottom,b=g.vBottom;if(!(this.isActive||!v)){this.isActive=!0;var S=v+b;this.followBottom>S&&(S=this.followBottom),this.subtitle&&(this.subtitle.root.style.bottom=S+"px")}}},{key:"onBlur",value:function(){this.isActive=!1;var g=this.positionData.vBottom+this.positionData.marginBottom;this.subtitle&&(this.subtitle.root.style.bottom=g+"px")}},{key:"onSubtitleResize",value:function(g){this.positionData.vBottom=g.vBottom,this.positionData.marginBottom=g.marginBottom}},{key:"destroy",value:function(){this.subtitle.off("resize",this.onSubtitleResize),this.player.off("focus",this.onFocus),this.player.off("blur",this.onBlur),this.subtitle.destroy(),this.subtitle=null}}]),h}(),d=function(){var p=this,g=this,v=g.config.textTrack;if(!v)return;var b=g.config.textTrackStyle||{};Object.keys(f).map(function(C){b[C]===void 0&&(b[C]=f[C])}),g.textTrackShowDefault=!1,g.config.textTrack.map(function(C,A){!C.id&&!C.language&&(C.id=A),!C.url&&(C.url=C.src),!C.language&&(C.language=C.srclang),C.isDefault===void 0&&(C.isDefault=C.default),!g.textTrackShowDefault&&(g.textTrackShowDefault=C.isDefault||C.default)}),this.subTitles=new c(g,g.config.textTrack,b),g.setSubTitles=function(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=!1;C.map(function(w,k){!w.id&&!w.language&&(w.id=k),!w.url&&(w.url=w.src),!w.language&&(w.language=w.srclang),w.isDefault===void 0&&(w.isDefault=w.default),w.isDefault&&(_=!0)}),g.textTrackShowDefault=_,p.subTitles.setSubTitles(C,_,A),g.emit("subtitle_change",{off:!1,isListUpdate:!0,list:C})},g.switchSubTitle=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:"",language:""};p.subTitles.switch(C).then(function(A){A.code===0&&(C.off=!1,C.isListUpdate=!1,C.list=[],g.emit("subtitle_change",C))})},g.switchOffSubtile=function(){p.subTitles.switchOff(),g.emit("subtitle_change",{off:!0,isListUpdate:!1,list:[]})};function S(){this.subTitles.destroy(),this.subTitles=null}g.once("destroy",S)};i.default={name:"textTrack",method:d},r.exports=i.default},function(r,i,e){(function(n,s){r.exports=s()})(this,function(){function n(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}function s(E,D){return D={exports:{}},E(D,D.exports),D.exports}function o(E){var D,L;this.promise=new E(function(B,W){if(D!==void 0||L!==void 0)throw TypeError("Bad Promise constructor");D=B,L=W}),this.resolve=Pe(D),this.reject=Pe(L)}function l(E){var D=E.length;return D===3?(60*(60*Number(E[0])+Number(E[1]))*1e3+1e3*Number(E[2]))/1e3:D===2?(60*Number(E[0])*1e3+1e3*Number(E[1]))/1e3:Number(E[0])}function u(E){return/^(\-|\+)?\d+(\.\d+)?$/.test(E)}function f(E){return E}function c(E,D){return E>=0&&E<D.length?D[E]:""}function d(E,D){if(!E)return!1;if(E.classList)return Array.prototype.some.call(E.classList,function(B){return B===D});var L=E.className&&ls(E.className)==="object"?E.getAttribute("class"):E.className;return L&&!!L.match(new RegExp("(\\s|^)"+D+"(\\s|$)"))}function h(E,D){E&&(E.classList?D.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(L){L&&E.classList.add(L)}):d(E,D)||(E.className&&ls(E.className)==="object"?E.setAttribute("class",E.getAttribute("class")+" "+D):E.className+=" "+D))}function p(E,D){E&&(E.classList?D.split(/\s+/g).forEach(function(L){E.classList.remove(L)}):d(E,D)&&D.split(/\s+/g).forEach(function(L){var B=new RegExp("(\\s|^)"+L+"(\\s|$)");E.className&&ls(E.className)==="object"?E.setAttribute("class",E.getAttribute("class").replace(B," ")):E.className=E.className.replace(B," ")}))}function g(E,D,L){var B=D.length;if(B<1)return-1;if(L=L<0?0:L>=B?B-1:L,D[L].start<=E&&E<D[L].end)return L;for(var W=D[L].end<=E?L+1:0;W<B;W++){if(D[W].start<=E&&E<D[W].end)return W;if(E>D[W].end&&W+1<B&&E<D[W+1].start||E>D[W].end&&W+1>=B)return-1}return-1}function v(E,D,L){var B=D.length;if(B<1)return[];var W=[];if((L=L<0?0:L>=B?B-1:L)<B)for(var ee=D[L].end<=E?L:0;ee<B&&(D[ee].start<=E&&E<D[ee].end&&W.push(ee),!(E<D[ee].start));ee++);return W}function b(E){return Object.prototype.toString.call(E).match(/([^\s.*]+)(?=]$)/g)[0]}function S(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",W=document.createElement(E);return W.className=B,W.innerHTML=D,jn(L).forEach(function(ee){var ue=ee,de=L[ee];E==="video"||E==="audio"||E==="live-video"?de&&W.setAttribute(ue,de):W.setAttribute(ue,de)}),W}function C(){var E=navigator.userAgent,D=/(?:Windows Phone)/.test(E),L=/(?:SymbianOS)/.test(E)||D,B=/(?:Android)/.test(E),W=/(?:Firefox)/.test(E),ee=/(?:iPad|PlayBook)/.test(E)||B&&!/(?:Mobile)/.test(E)||W&&/(?:Tablet)/.test(E);return/(?:iPhone)/.test(E)&&!ee||B||L||ee}function A(E){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",L="";E.map(function(de){L+=" "+D+" "+de.key+" {"+de.style+"}"});var B=document.createElement("style"),W=document.head||document.getElementsByTagName("head")[0];if(B.type="text/css",B.id="ssss",B.styleSheet){var ee=function(){try{B.styleSheet.cssText=L}catch{}};B.styleSheet.disabled?setTimeout(ee,10):ee()}else{var ue=document.createTextNode(L);B.appendChild(ue)}W.appendChild(B)}function _(E,D){ys||(ys=new qy),ys.addObserver(E,D)}function w(E,D){ys&&ys.unObserver(E,D)}function k(E){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L={code:nh[E].code,msg:nh[E].msg};return jn(D).map(function(B){L[B]=D[B]}),L}function R(E,D,L,B,W){W?L(k(2,W),{format:B.format}):B.format?(E.list=B.list,E.format=B.format,E.styles=B.styles,D(E)):L(k(3))}function j(E){return new Lr(function(D,L){if(E.list)return void D(E);if(E.json){var B=Ju.parseJson(E.json);return E.list=B,E.format="json",void D(E)}if(E.stringContent&&!E.url)Ju.parse(E.stringContent,function(ee,ue){R(E,D,L,ee,ue)});else if(E.url)new Yo({url:E.url,type:"text"}).then(function(ee){Ju.parse(ee.res.response,function(ue,de){R(E,D,L,ue,de)})}).catch(function(ee){var ue=k(1,{statusText:ee.statusText,status:ee.status,type:ee.type,message:"http load error",url:E.url});L(ue)});else{var W=k(8);L(W)}})}function N(E,D){return!!(E.id&&E.id===D.id||E.language&&E.language===D.language)}var M=function(E){if(E==null)throw TypeError("Can't call method on  "+E);return E},z=function(E){return Object(M(E))},I={}.hasOwnProperty,U=function(E,D){return I.call(E,D)},K=s(function(E){var D=E.exports={version:"2.6.12"};typeof __e=="number"&&(__e=D)}),te=(K.version,s(function(E){var D=E.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=D)})),oe=s(function(E){var D=te["__core-js_shared__"]||(te["__core-js_shared__"]={});(E.exports=function(L,B){return D[L]||(D[L]=B!==void 0?B:{})})("versions",[]).push({version:K.version,mode:"pure",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),G=0,q=Math.random(),Z=function(E){return"Symbol(".concat(E===void 0?"":E,")_",(++G+q).toString(36))},ae=oe("keys"),Y=function(E){return ae[E]||(ae[E]=Z(E))},ie=Y("IE_PROTO"),he=Object.prototype,Te=Object.getPrototypeOf||function(E){return E=z(E),U(E,ie)?E[ie]:typeof E.constructor=="function"&&E instanceof E.constructor?E.constructor.prototype:E instanceof Object?he:null},Pe=function(E){if(typeof E!="function")throw TypeError(E+" is not a function!");return E},Ie=function(E,D,L){if(Pe(E),D===void 0)return E;switch(L){case 1:return function(B){return E.call(D,B)};case 2:return function(B,W){return E.call(D,B,W)};case 3:return function(B,W,ee){return E.call(D,B,W,ee)}}return function(){return E.apply(D,arguments)}},st=function(E){return typeof E=="object"?E!==null:typeof E=="function"},nt=function(E){if(!st(E))throw TypeError(E+" is not an object!");return E},Ke=function(E){try{return!!E()}catch{return!0}},Je=!Ke(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),it=te.document,$=st(it)&&st(it.createElement),re=function(E){return $?it.createElement(E):{}},fe=!Je&&!Ke(function(){return Object.defineProperty(re("div"),"a",{get:function(){return 7}}).a!=7}),le=function(E,D){if(!st(E))return E;var L,B;if(D&&typeof(L=E.toString)=="function"&&!st(B=L.call(E))||typeof(L=E.valueOf)=="function"&&!st(B=L.call(E))||!D&&typeof(L=E.toString)=="function"&&!st(B=L.call(E)))return B;throw TypeError("Can't convert object to primitive value")},pe=Object.defineProperty,ye={f:Je?Object.defineProperty:function(E,D,L){if(nt(E),D=le(D,!0),nt(L),fe)try{return pe(E,D,L)}catch{}if("get"in L||"set"in L)throw TypeError("Accessors not supported!");return"value"in L&&(E[D]=L.value),E}},ve=function(E,D){return{enumerable:!(1&E),configurable:!(2&E),writable:!(4&E),value:D}},_e=Je?function(E,D,L){return ye.f(E,D,ve(1,L))}:function(E,D,L){return E[D]=L,E},xe=function(E,D,L){var B,W,ee,ue=E&xe.F,de=E&xe.G,me=E&xe.S,ke=E&xe.P,Oe=E&xe.B,Le=E&xe.W,Be=de?K:K[D]||(K[D]={}),Ve=Be.prototype,De=de?te:me?te[D]:(te[D]||{}).prototype;de&&(L=D);for(B in L)(W=!ue&&De&&De[B]!==void 0)&&U(Be,B)||(ee=W?De[B]:L[B],Be[B]=de&&typeof De[B]!="function"?L[B]:Oe&&W?Ie(ee,te):Le&&De[B]==ee?function(We){var Ge=function(Ye,bt,Pt){if(this instanceof We){switch(arguments.length){case 0:return new We;case 1:return new We(Ye);case 2:return new We(Ye,bt)}return new We(Ye,bt,Pt)}return We.apply(this,arguments)};return Ge.prototype=We.prototype,Ge}(ee):ke&&typeof ee=="function"?Ie(Function.call,ee):ee,ke&&((Be.virtual||(Be.virtual={}))[B]=ee,E&xe.R&&Ve&&!Ve[B]&&_e(Ve,B,ee)))};xe.F=1,xe.G=2,xe.S=4,xe.P=8,xe.B=16,xe.W=32,xe.U=64,xe.R=128;var ce=xe,Ce=function(E,D){var L=(K.Object||{})[E]||Object[E],B={};B[E]=D(L),ce(ce.S+ce.F*Ke(function(){L(1)}),"Object",B)};Ce("getPrototypeOf",function(){return function(E){return Te(z(E))}});var Re=K.Object.getPrototypeOf,Ue=n(s(function(E){E.exports={default:Re,__esModule:!0}})),ze=n(s(function(E,D){D.__esModule=!0,D.default=function(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}})),Ze=Math.ceil,je=Math.floor,Ne=function(E){return isNaN(E=+E)?0:(E>0?je:Ze)(E)},at=_e,_t={},Hr={}.toString,_r=function(E){return Hr.call(E).slice(8,-1)},br=Object("z").propertyIsEnumerable(0)?Object:function(E){return _r(E)=="String"?E.split(""):Object(E)},nr=function(E){return br(M(E))},Lt=Math.min,$t=function(E){return E>0?Lt(Ne(E),9007199254740991):0},ji=Math.max,fr=Math.min,xo=function(E,D){return E=Ne(E),E<0?ji(E+D,0):fr(E,D)},Ou=function(E){return function(D,L,B){var W,ee=nr(D),ue=$t(ee.length),de=xo(B,ue);if(E&&L!=L){for(;ue>de;)if((W=ee[de++])!=W)return!0}else for(;ue>de;de++)if((E||de in ee)&&ee[de]===L)return E||de||0;return!E&&-1}}(!1),Du=Y("IE_PROTO"),_o=function(E,D){var L,B=nr(E),W=0,ee=[];for(L in B)L!=Du&&U(B,L)&&ee.push(L);for(;D.length>W;)U(B,L=D[W++])&&(~Ou(ee,L)||ee.push(L));return ee},Hi="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),zi=Object.keys||function(E){return _o(E,Hi)},Zn=Je?Object.defineProperties:function(E,D){nt(E);for(var L,B=zi(D),W=B.length,ee=0;W>ee;)ye.f(E,L=B[ee++],D[L]);return E},Ut=te.document,Ya=Ut&&Ut.documentElement,Iu=Y("IE_PROTO"),kn=function(){},ir=function(){var E,D=re("iframe"),L=Hi.length;for(D.style.display="none",Ya.appendChild(D),D.src="javascript:",(E=D.contentWindow.document).open(),E.write("<script>document.F=Object<\/script>"),E.close(),ir=E.F;L--;)delete ir.prototype[Hi[L]];return ir()},Tr=Object.create||function(E,D){var L;return E!==null?(kn.prototype=nt(E),L=new kn,kn.prototype=null,L[Iu]=E):L=ir(),D===void 0?L:Zn(L,D)},Xe=s(function(E){var D=oe("wks"),L=te.Symbol,B=typeof L=="function";(E.exports=function(W){return D[W]||(D[W]=B&&L[W]||(B?L:Z)("Symbol."+W))}).store=D}),Lu=ye.f,ei=Xe("toStringTag"),Or=function(E,D,L){E&&!U(E=L?E:E.prototype,ei)&&Lu(E,ei,{configurable:!0,value:D})},bo={};_e(bo,Xe("iterator"),function(){return this});var an=function(E,D,L){E.prototype=Tr(bo,{next:ve(1,L)}),Or(E,D+" Iterator")},dt=Xe("iterator"),wn=!([].keys&&"next"in[].keys()),wt=function(){return this},To=function(E,D,L,B,W,ee,ue){an(L,D,B);var de,me,ke,Oe=function(Pt){if(!wn&&Pt in De)return De[Pt];switch(Pt){case"keys":case"values":return function(){return new L(this,Pt)}}return function(){return new L(this,Pt)}},Le=D+" Iterator",Be=W=="values",Ve=!1,De=E.prototype,We=De[dt]||De["@@iterator"]||W&&De[W],Ge=We||Oe(W),Ye=W?Be?Oe("entries"):Ge:void 0,bt=D=="Array"&&De.entries||We;if(bt&&(ke=Te(bt.call(new E)))!==Object.prototype&&ke.next&&Or(ke,Le,!0),Be&&We&&We.name!=="values"&&(Ve=!0,Ge=function(){return We.call(this)}),ue&&(wn||Ve||!De[dt])&&_e(De,dt,Ge),_t[D]=Ge,_t[Le]=wt,W)if(de={values:Be?Ge:Oe("values"),keys:ee?Ge:Oe("keys"),entries:Ye},ue)for(me in de)me in De||at(De,me,de[me]);else ce(ce.P+ce.F*(wn||Ve),D,de);return de},Ru=function(E){return function(D,L){var B,W,ee=String(M(D)),ue=Ne(L),de=ee.length;return ue<0||ue>=de?E?"":void 0:(B=ee.charCodeAt(ue),B<55296||B>56319||ue+1===de||(W=ee.charCodeAt(ue+1))<56320||W>57343?E?ee.charAt(ue):B:E?ee.slice(ue,ue+2):W-56320+(B-55296<<10)+65536)}}(!0);To(String,"String",function(E){this._t=String(E),this._i=0},function(){var E,D=this._t,L=this._i;return L>=D.length?{value:void 0,done:!0}:(E=Ru(D,L),this._i+=E.length,{value:E,done:!1})});var ti=function(E,D){return{value:D,done:!!E}};To(Array,"Array",function(E,D){this._t=nr(E),this._i=0,this._k=D},function(){var E=this._t,D=this._k,L=this._i++;return!E||L>=E.length?(this._t=void 0,ti(1)):D=="keys"?ti(0,L):D=="values"?ti(0,E[L]):ti(0,[L,E[L]])},"values"),_t.Arguments=_t.Array;for(var Vi=Xe("toStringTag"),Qa="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Wi=0;Wi<Qa.length;Wi++){var qi=Qa[Wi],ri=te[qi],Ja=ri&&ri.prototype;Ja&&!Ja[Vi]&&_e(Ja,Vi,qi),_t[qi]=_t.Array}var Pn={f:Xe},So=Pn.f("iterator"),ni=s(function(E){E.exports={default:So,__esModule:!0}});n(ni);var An=s(function(E){var D=Z("meta"),L=ye.f,B=0,W=Object.isExtensible||function(){return!0},ee=!Ke(function(){return W(Object.preventExtensions({}))}),ue=function(Le){L(Le,D,{value:{i:"O"+ ++B,w:{}}})},de=function(Le,Be){if(!st(Le))return typeof Le=="symbol"?Le:(typeof Le=="string"?"S":"P")+Le;if(!U(Le,D)){if(!W(Le))return"F";if(!Be)return"E";ue(Le)}return Le[D].i},me=function(Le,Be){if(!U(Le,D)){if(!W(Le))return!0;if(!Be)return!1;ue(Le)}return Le[D].w},ke=function(Le){return ee&&Oe.NEED&&W(Le)&&!U(Le,D)&&ue(Le),Le},Oe=E.exports={KEY:D,NEED:!1,fastKey:de,getWeak:me,onFreeze:ke}}),Mu=(An.KEY,An.NEED,An.fastKey,An.getWeak,An.onFreeze,ye.f),On=function(E){var D=K.Symbol||(K.Symbol={});E.charAt(0)=="_"||E in D||Mu(D,E,{value:Pn.f(E)})},Dr={f:Object.getOwnPropertySymbols},Dn={f:{}.propertyIsEnumerable},In=function(E){var D=zi(E),L=Dr.f;if(L)for(var B,W=L(E),ee=Dn.f,ue=0;W.length>ue;)ee.call(E,B=W[ue++])&&D.push(B);return D},Za=Array.isArray||function(E){return _r(E)=="Array"},Eo=Hi.concat("length","prototype"),Gi={f:Object.getOwnPropertyNames||function(E){return _o(E,Eo)}},Sr=Gi.f,Fu={}.toString,ii=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Co=function(E){try{return Sr(E)}catch{return ii.slice()}},es={f:function(E){return ii&&Fu.call(E)=="[object Window]"?Co(E):Sr(nr(E))}},ts=Object.getOwnPropertyDescriptor,rs={f:Je?ts:function(E,D){if(E=nr(E),D=le(D,!0),fe)try{return ts(E,D)}catch{}if(U(E,D))return ve(!Dn.f.call(E,D),E[D])}},$i=An.KEY,Ln=rs.f,zr=ye.f,ko=es.f,Kt=te.Symbol,ai=te.JSON,Ki=ai&&ai.stringify,jt=Xe("_hidden"),ns=Xe("toPrimitive"),Nu={}.propertyIsEnumerable,si=oe("symbol-registry"),Ir=oe("symbols"),oi=oe("op-symbols"),dr=Object.prototype,Rn=typeof Kt=="function"&&!!Dr.f,Mn=te.QObject,Fn=!Mn||!Mn.prototype||!Mn.prototype.findChild,is=Je&&Ke(function(){return Tr(zr({},"a",{get:function(){return zr(this,"a",{value:7}).a}})).a!=7})?function(E,D,L){var B=Ln(dr,D);B&&delete dr[D],zr(E,D,L),B&&E!==dr&&zr(dr,D,B)}:zr,wo=function(E){var D=Ir[E]=Tr(Kt.prototype);return D._k=E,D},li=Rn&&typeof Kt.iterator=="symbol"?function(E){return typeof E=="symbol"}:function(E){return E instanceof Kt},Xi=function(E,D,L){return E===dr&&Xi(oi,D,L),nt(E),D=le(D,!0),nt(L),U(Ir,D)?(L.enumerable?(U(E,jt)&&E[jt][D]&&(E[jt][D]=!1),L=Tr(L,{enumerable:ve(0,!1)})):(U(E,jt)||zr(E,jt,ve(1,{})),E[jt][D]=!0),is(E,D,L)):zr(E,D,L)},Yi=function(E,D){nt(E);for(var L,B=In(D=nr(D)),W=0,ee=B.length;ee>W;)Xi(E,L=B[W++],D[L]);return E},Bu=function(E,D){return D===void 0?Tr(E):Yi(Tr(E),D)},Uu=function(E){var D=Nu.call(this,E=le(E,!0));return!(this===dr&&U(Ir,E)&&!U(oi,E))&&(!(D||!U(this,E)||!U(Ir,E)||U(this,jt)&&this[jt][E])||D)},Po=function(E,D){if(E=nr(E),D=le(D,!0),E!==dr||!U(Ir,D)||U(oi,D)){var L=Ln(E,D);return!L||!U(Ir,D)||U(E,jt)&&E[jt][D]||(L.enumerable=!0),L}},Nn=function(E){for(var D,L=ko(nr(E)),B=[],W=0;L.length>W;)U(Ir,D=L[W++])||D==jt||D==$i||B.push(D);return B},sn=function(E){for(var D,L=E===dr,B=ko(L?oi:nr(E)),W=[],ee=0;B.length>ee;)!U(Ir,D=B[ee++])||L&&!U(dr,D)||W.push(Ir[D]);return W};Rn||(at((Kt=function(){if(this instanceof Kt)throw TypeError("Symbol is not a constructor!");var E=Z(arguments.length>0?arguments[0]:void 0),D=function(L){this===dr&&D.call(oi,L),U(this,jt)&&U(this[jt],E)&&(this[jt][E]=!1),is(this,E,ve(1,L))};return Je&&Fn&&is(dr,E,{configurable:!0,set:D}),wo(E)}).prototype,"toString",function(){return this._k}),rs.f=Po,ye.f=Xi,Gi.f=es.f=Nn,Dn.f=Uu,Dr.f=sn,Pn.f=function(E){return wo(Xe(E))}),ce(ce.G+ce.W+ce.F*!Rn,{Symbol:Kt});for(var ui="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Vr=0;ui.length>Vr;)Xe(ui[Vr++]);for(var Ao=zi(Xe.store),as=0;Ao.length>as;)On(Ao[as++]);ce(ce.S+ce.F*!Rn,"Symbol",{for:function(E){return U(si,E+="")?si[E]:si[E]=Kt(E)},keyFor:function(E){if(!li(E))throw TypeError(E+" is not a symbol!");for(var D in si)if(si[D]===E)return D},useSetter:function(){Fn=!0},useSimple:function(){Fn=!1}}),ce(ce.S+ce.F*!Rn,"Object",{create:Bu,defineProperty:Xi,defineProperties:Yi,getOwnPropertyDescriptor:Po,getOwnPropertyNames:Nn,getOwnPropertySymbols:sn});var Oo=Ke(function(){Dr.f(1)});ce(ce.S+ce.F*Oo,"Object",{getOwnPropertySymbols:function(E){return Dr.f(z(E))}}),ai&&ce(ce.S+ce.F*(!Rn||Ke(function(){var E=Kt();return Ki([E])!="[null]"||Ki({a:E})!="{}"||Ki(Object(E))!="{}"})),"JSON",{stringify:function(E){for(var D,L,B=[E],W=1;arguments.length>W;)B.push(arguments[W++]);if(L=D=B[1],(st(D)||E!==void 0)&&!li(E))return Za(D)||(D=function(ee,ue){if(typeof L=="function"&&(ue=L.call(this,ee,ue)),!li(ue))return ue}),B[1]=D,Ki.apply(ai,B)}}),Kt.prototype[ns]||_e(Kt.prototype,ns,Kt.prototype.valueOf),Or(Kt,"Symbol"),Or(Math,"Math",!0),Or(te.JSON,"JSON",!0),On("asyncIterator"),On("observable");var ss=K.Symbol,Do=s(function(E){E.exports={default:ss,__esModule:!0}});n(Do);var os=s(function(E,D){function L(ue){return ue&&ue.__esModule?ue:{default:ue}}D.__esModule=!0;var B=L(ni),W=L(Do),ee=typeof W.default=="function"&&typeof B.default=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof W.default=="function"&&ue.constructor===W.default&&ue!==W.default.prototype?"symbol":typeof ue};D.default=typeof W.default=="function"&&ee(B.default)==="symbol"?function(ue){return ue===void 0?"undefined":ee(ue)}:function(ue){return ue&&typeof W.default=="function"&&ue.constructor===W.default&&ue!==W.default.prototype?"symbol":ue===void 0?"undefined":ee(ue)}}),ls=n(os),ci=n(s(function(E,D){D.__esModule=!0;var L=function(B){return B&&B.__esModule?B:{default:B}}(os);D.default=function(B,W){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||(W===void 0?"undefined":(0,L.default)(W))!=="object"&&typeof W!="function"?B:W}}));ce(ce.S+ce.F*!Je,"Object",{defineProperty:ye.f});var ju=K.Object,on=function(E,D,L){return ju.defineProperty(E,D,L)},Io=s(function(E){E.exports={default:on,__esModule:!0}});n(Io);var Qi=n(s(function(E,D){D.__esModule=!0;var L=function(B){return B&&B.__esModule?B:{default:B}}(Io);D.default=function(){function B(W,ee){for(var ue=0;ue<ee.length;ue++){var de=ee[ue];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),(0,L.default)(W,de.key,de)}}return function(W,ee,ue){return ee&&B(W.prototype,ee),ue&&B(W,ue),W}}()})),ft=function(E,D){if(nt(E),!st(D)&&D!==null)throw TypeError(D+": can't set as prototype!")},Lo={set:Object.setPrototypeOf||("__proto__"in{}?function(E,D,L){try{(L=Ie(Function.call,rs.f(Object.prototype,"__proto__").set,2))(E,[]),D=!(E instanceof Array)}catch{D=!0}return function(B,W){return ft(B,W),D?B.__proto__=W:L(B,W),B}}({},!1):void 0),check:ft};ce(ce.S,"Object",{setPrototypeOf:Lo.set});var Hu=K.Object.setPrototypeOf,us=s(function(E){E.exports={default:Hu,__esModule:!0}});n(us),ce(ce.S,"Object",{create:Tr});var zu=K.Object,Ro=function(E,D){return zu.create(E,D)},Mo=s(function(E){E.exports={default:Ro,__esModule:!0}});n(Mo);var ln,Fo,Ji,Vu=n(s(function(E,D){function L(ue){return ue&&ue.__esModule?ue:{default:ue}}D.__esModule=!0;var B=L(us),W=L(Mo),ee=L(os);D.default=function(ue,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+(de===void 0?"undefined":(0,ee.default)(de)));ue.prototype=(0,W.default)(de&&de.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),de&&(B.default?(0,B.default)(ue,de):ue.__proto__=de)}})),Wu=Xe("toStringTag"),qu=_r(function(){return arguments}())=="Arguments",Gu=function(E,D){try{return E[D]}catch{}},No=function(E){var D,L,B;return E===void 0?"Undefined":E===null?"Null":typeof(L=Gu(D=Object(E),Wu))=="string"?L:qu?_r(D):(B=_r(D))=="Object"&&typeof D.callee=="function"?"Arguments":B},$u=function(E,D,L,B){if(!(E instanceof D)||B!==void 0&&B in E)throw TypeError(L+": incorrect invocation!");return E},Ku=function(E,D,L,B){try{return B?D(nt(L)[0],L[1]):D(L)}catch(ee){var W=E.return;throw W!==void 0&&nt(W.call(E)),ee}},Xu=Xe("iterator"),Yu=Array.prototype,Bn=function(E){return E!==void 0&&(_t.Array===E||Yu[Xu]===E)},fi=Xe("iterator"),Bo=K.getIteratorMethod=function(E){if(E!=null)return E[fi]||E["@@iterator"]||_t[No(E)]},cs=s(function(E){var D={},L={},B=E.exports=function(W,ee,ue,de,me){var ke,Oe,Le,Be,Ve=me?function(){return W}:Bo(W),De=Ie(ue,de,ee?2:1),We=0;if(typeof Ve!="function")throw TypeError(W+" is not iterable!");if(Bn(Ve)){for(ke=$t(W.length);ke>We;We++)if((Be=ee?De(nt(Oe=W[We])[0],Oe[1]):De(W[We]))===D||Be===L)return Be}else for(Le=Ve.call(W);!(Oe=Le.next()).done;)if((Be=Ku(Le,De,Oe.value,ee))===D||Be===L)return Be};B.BREAK=D,B.RETURN=L}),Uo=Xe("species"),fs=function(E,D){var L,B=nt(E).constructor;return B===void 0||(L=nt(B)[Uo])==null?D:Pe(L)},jo=function(E,D,L){var B=L===void 0;switch(D.length){case 0:return B?E():E.call(L);case 1:return B?E(D[0]):E.call(L,D[0]);case 2:return B?E(D[0],D[1]):E.call(L,D[0],D[1]);case 3:return B?E(D[0],D[1],D[2]):E.call(L,D[0],D[1],D[2]);case 4:return B?E(D[0],D[1],D[2],D[3]):E.call(L,D[0],D[1],D[2],D[3])}return E.apply(L,D)},Zi=te.process,ea=te.setImmediate,ta=te.clearImmediate,di=te.MessageChannel,Un=te.Dispatch,ds=0,hi={},pi=function(){var E=+this;if(hi.hasOwnProperty(E)){var D=hi[E];delete hi[E],D()}},Ho=function(E){pi.call(E.data)};ea&&ta||(ea=function(E){for(var D=[],L=1;arguments.length>L;)D.push(arguments[L++]);return hi[++ds]=function(){jo(typeof E=="function"?E:Function(E),D)},ln(ds),ds},ta=function(E){delete hi[E]},_r(Zi)=="process"?ln=function(E){Zi.nextTick(Ie(pi,E,1))}:Un&&Un.now?ln=function(E){Un.now(Ie(pi,E,1))}:di?(Ji=(Fo=new di).port2,Fo.port1.onmessage=Ho,ln=Ie(Ji.postMessage,Ji,1)):te.addEventListener&&typeof postMessage=="function"&&!te.importScripts?(ln=function(E){te.postMessage(E+"","*")},te.addEventListener("message",Ho,!1)):ln="onreadystatechange"in re("script")?function(E){Ya.appendChild(re("script")).onreadystatechange=function(){Ya.removeChild(this),pi.call(E)}}:function(E){setTimeout(Ie(pi,E,1),0)});var zo={set:ea,clear:ta},hs=zo.set,Vo=te.MutationObserver||te.WebKitMutationObserver,ps=te.process,Wr=te.Promise,ot=_r(ps)=="process",Er={f:function(E){return new o(E)}},Ct=function(E){try{return{e:!1,v:E()}}catch(D){return{e:!0,v:D}}},hr=te.navigator,Qu=hr&&hr.userAgent||"",ra=function(E,D){if(nt(E),st(D)&&D.constructor===E)return D;var L=Er.f(E);return(0,L.resolve)(D),L.promise},Wo=Xe("species"),gs=Xe("iterator"),qo=!1;try{var Go=[7][gs]();Go.return=function(){qo=!0},Array.from(Go,function(){throw 2})}catch{}var ms,$o,Ko,na,F=zo.set,m=function(){var E,D,L,B=function(){var de,me;for(ot&&(de=ps.domain)&&de.exit();E;){me=E.fn,E=E.next;try{me()}catch(ke){throw E?L():D=void 0,ke}}D=void 0,de&&de.enter()};if(ot)L=function(){ps.nextTick(B)};else if(!Vo||te.navigator&&te.navigator.standalone)if(Wr&&Wr.resolve){var W=Wr.resolve(void 0);L=function(){W.then(B)}}else L=function(){hs.call(te,B)};else{var ee=!0,ue=document.createTextNode("");new Vo(B).observe(ue,{characterData:!0}),L=function(){ue.data=ee=!ee}}return function(de){var me={fn:de,next:void 0};D&&(D.next=me),E||(E=me,L()),D=me}}(),x=te.TypeError,y=te.process,T=y&&y.versions,P=T&&T.v8||"",O=te.Promise,H=No(y)=="process",V=function(){},J=$o=Er.f,X=!!function(){try{var E=O.resolve(1),D=(E.constructor={})[Xe("species")]=function(L){L(V,V)};return(H||typeof PromiseRejectionEvent=="function")&&E.then(V)instanceof D&&P.indexOf("6.6")!==0&&Qu.indexOf("Chrome/66")===-1}catch{}}(),ne=function(E){var D;return!(!st(E)||typeof(D=E.then)!="function")&&D},ge=function(E,D){if(!E._n){E._n=!0;var L=E._c;m(function(){for(var B=E._v,W=E._s==1,ee=0;L.length>ee;)(function(ue){var de,me,ke,Oe=W?ue.ok:ue.fail,Le=ue.resolve,Be=ue.reject,Ve=ue.domain;try{Oe?(W||(E._h==2&&Se(E),E._h=1),Oe===!0?de=B:(Ve&&Ve.enter(),de=Oe(B),Ve&&(Ve.exit(),ke=!0)),de===ue.promise?Be(x("Promise-chain cycle")):(me=ne(de))?me.call(de,Le,Be):Le(de)):Be(B)}catch(De){Ve&&!ke&&Ve.exit(),Be(De)}})(L[ee++]);E._c=[],E._n=!1,D&&!E._h&&Ae(E)})}},Ae=function(E){F.call(te,function(){var D,L,B,W=E._v,ee=Me(E);if(ee&&(D=Ct(function(){H?y.emit("unhandledRejection",W,E):(L=te.onunhandledrejection)?L({promise:E,reason:W}):(B=te.console)&&B.error&&B.error("Unhandled promise rejection",W)}),E._h=H||Me(E)?2:1),E._a=void 0,ee&&D.e)throw D.v})},Me=function(E){return E._h!==1&&(E._a||E._c).length===0},Se=function(E){F.call(te,function(){var D;H?y.emit("rejectionHandled",E):(D=te.onrejectionhandled)&&D({promise:E,reason:E._v})})},He=function(E){var D=this;D._d||(D._d=!0,(D=D._w||D)._v=E,D._s=2,D._a||(D._a=D._c.slice()),ge(D,!0))},yt=function(E){var D,L=this;if(!L._d){L._d=!0,L=L._w||L;try{if(L===E)throw x("Promise can't be resolved itself");(D=ne(E))?m(function(){var B={_w:L,_d:!1};try{D.call(E,Ie(yt,B,1),Ie(He,B,1))}catch(W){He.call(B,W)}}):(L._v=E,L._s=1,ge(L,!1))}catch(B){He.call({_w:L,_d:!1},B)}}};X||(O=function(E){$u(this,O,"Promise","_h"),Pe(E),ms.call(this);try{E(Ie(yt,this,1),Ie(He,this,1))}catch(D){He.call(this,D)}},(ms=function(E){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(E,D,L){for(var B in D)L&&E[B]?E[B]=D[B]:_e(E,B,D[B]);return E}(O.prototype,{then:function(E,D){var L=J(fs(this,O));return L.ok=typeof E!="function"||E,L.fail=typeof D=="function"&&D,L.domain=H?y.domain:void 0,this._c.push(L),this._a&&this._a.push(L),this._s&&ge(this,!1),L.promise},catch:function(E){return this.then(void 0,E)}}),Ko=function(){var E=new ms;this.promise=E,this.resolve=Ie(yt,E,1),this.reject=Ie(He,E,1)},Er.f=J=function(E){return E===O||E===na?new Ko(E):$o(E)}),ce(ce.G+ce.W+ce.F*!X,{Promise:O}),Or(O,"Promise"),function(E){var D=typeof K[E]=="function"?K[E]:te[E];Je&&D&&!D[Wo]&&ye.f(D,Wo,{configurable:!0,get:function(){return this}})}("Promise"),na=K.Promise,ce(ce.S+ce.F*!X,"Promise",{reject:function(E){var D=J(this);return(0,D.reject)(E),D.promise}}),ce(ce.S+!0*ce.F,"Promise",{resolve:function(E){return ra(this===na?O:this,E)}}),ce(ce.S+ce.F*!(X&&function(E,D){if(!D&&!qo)return!1;var L=!1;try{var B=[7],W=B[gs]();W.next=function(){return{done:L=!0}},B[gs]=function(){return W},E(B)}catch{}return L}(function(E){O.all(E).catch(V)})),"Promise",{all:function(E){var D=this,L=J(D),B=L.resolve,W=L.reject,ee=Ct(function(){var ue=[],de=0,me=1;cs(E,!1,function(ke){var Oe=de++,Le=!1;ue.push(void 0),me++,D.resolve(ke).then(function(Be){Le||(Le=!0,ue[Oe]=Be,--me||B(ue))},W)}),--me||B(ue)});return ee.e&&W(ee.v),L.promise},race:function(E){var D=this,L=J(D),B=L.reject,W=Ct(function(){cs(E,!1,function(ee){D.resolve(ee).then(L.resolve,B)})});return W.e&&B(W.v),L.promise}}),ce(ce.P+ce.R,"Promise",{finally:function(E){var D=fs(this,K.Promise||te.Promise),L=typeof E=="function";return this.then(L?function(B){return ra(D,E()).then(function(){return B})}:E,L?function(B){return ra(D,E()).then(function(){throw B})}:E)}}),ce(ce.S,"Promise",{try:function(E){var D=Er.f(this),L=Ct(E);return(L.e?D.reject:D.resolve)(L.v),D.promise}});var Rt=K.Promise,Lr=n(s(function(E){E.exports={default:Rt,__esModule:!0}}));Ce("keys",function(){return function(E){return zi(z(E))}});var vs=K.Object.keys,jn=n(s(function(E){E.exports={default:vs,__esModule:!0}})),Xo=s(function(E){function D(){}function L(me,ke,Oe){this.fn=me,this.context=ke,this.once=Oe||!1}function B(me,ke,Oe,Le,Be){if(typeof Oe!="function")throw new TypeError("The listener must be a function");var Ve=new L(Oe,Le||me,Be),De=de?de+ke:ke;return me._events[De]?me._events[De].fn?me._events[De]=[me._events[De],Ve]:me._events[De].push(Ve):(me._events[De]=Ve,me._eventsCount++),me}function W(me,ke){--me._eventsCount==0?me._events=new D:delete me._events[ke]}function ee(){this._events=new D,this._eventsCount=0}var ue=Object.prototype.hasOwnProperty,de="~";Object.create&&(D.prototype=Object.create(null),new D().__proto__||(de=!1)),ee.prototype.eventNames=function(){var me,ke,Oe=[];if(this._eventsCount===0)return Oe;for(ke in me=this._events)ue.call(me,ke)&&Oe.push(de?ke.slice(1):ke);return Object.getOwnPropertySymbols?Oe.concat(Object.getOwnPropertySymbols(me)):Oe},ee.prototype.listeners=function(me){var ke=de?de+me:me,Oe=this._events[ke];if(!Oe)return[];if(Oe.fn)return[Oe.fn];for(var Le=0,Be=Oe.length,Ve=new Array(Be);Le<Be;Le++)Ve[Le]=Oe[Le].fn;return Ve},ee.prototype.listenerCount=function(me){var ke=de?de+me:me,Oe=this._events[ke];return Oe?Oe.fn?1:Oe.length:0},ee.prototype.emit=function(me,ke,Oe,Le,Be,Ve){var De=de?de+me:me;if(!this._events[De])return!1;var We,Ge,Ye=this._events[De],bt=arguments.length;if(Ye.fn){switch(Ye.once&&this.removeListener(me,Ye.fn,void 0,!0),bt){case 1:return Ye.fn.call(Ye.context),!0;case 2:return Ye.fn.call(Ye.context,ke),!0;case 3:return Ye.fn.call(Ye.context,ke,Oe),!0;case 4:return Ye.fn.call(Ye.context,ke,Oe,Le),!0;case 5:return Ye.fn.call(Ye.context,ke,Oe,Le,Be),!0;case 6:return Ye.fn.call(Ye.context,ke,Oe,Le,Be,Ve),!0}for(Ge=1,We=new Array(bt-1);Ge<bt;Ge++)We[Ge-1]=arguments[Ge];Ye.fn.apply(Ye.context,We)}else{var Pt,Hn=Ye.length;for(Ge=0;Ge<Hn;Ge++)switch(Ye[Ge].once&&this.removeListener(me,Ye[Ge].fn,void 0,!0),bt){case 1:Ye[Ge].fn.call(Ye[Ge].context);break;case 2:Ye[Ge].fn.call(Ye[Ge].context,ke);break;case 3:Ye[Ge].fn.call(Ye[Ge].context,ke,Oe);break;case 4:Ye[Ge].fn.call(Ye[Ge].context,ke,Oe,Le);break;default:if(!We)for(Pt=1,We=new Array(bt-1);Pt<bt;Pt++)We[Pt-1]=arguments[Pt];Ye[Ge].fn.apply(Ye[Ge].context,We)}}return!0},ee.prototype.on=function(me,ke,Oe){return B(this,me,ke,Oe,!1)},ee.prototype.once=function(me,ke,Oe){return B(this,me,ke,Oe,!0)},ee.prototype.removeListener=function(me,ke,Oe,Le){var Be=de?de+me:me;if(!this._events[Be])return this;if(!ke)return W(this,Be),this;var Ve=this._events[Be];if(Ve.fn)Ve.fn!==ke||Le&&!Ve.once||Oe&&Ve.context!==Oe||W(this,Be);else{for(var De=0,We=[],Ge=Ve.length;De<Ge;De++)(Ve[De].fn!==ke||Le&&!Ve[De].once||Oe&&Ve[De].context!==Oe)&&We.push(Ve[De]);We.length?this._events[Be]=We.length===1?We[0]:We:W(this,Be)}return this},ee.prototype.removeAllListeners=function(me){var ke;return me?(ke=de?de+me:me,this._events[ke]&&W(this,ke)):(this._events=new D,this._eventsCount=0),this},ee.prototype.off=ee.prototype.removeListener,ee.prototype.addListener=ee.prototype.on,ee.prefixed=de,ee.EventEmitter=ee,E.exports=ee}),Yo=function E(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=D.url,B=D.method,W=B===void 0?"GET":B,ee=D.type,ue=ee===void 0?"arraybuffer":ee,de=D.timeout,me=de===void 0?1e4:de,ke=D.data,Oe=ke===void 0?{}:ke,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ze(this,E),new Lr(function(Be,Ve){var De=new window.XMLHttpRequest,We=W.toUpperCase(),Ge=[];ue&&(De.responseType=ue),me&&(De.timeout=me);for(var Ye in Oe)Ge.push("k="+Oe[Ye]);if(De.onload=function(){De.status===200||De.status===206?Be({context:Le,res:De}):Ve(new Error({context:Le,res:De,type:"error"}))},De.onerror=function(bt){Ve(new Error({context:Le,res:De,type:"error"}))},De.ontimeout=function(bt){Ve(new Error({context:Le,res:De,type:"error"}))},De.onabort=function(){Ve(new Error({context:Le,res:De,type:"error"}))},We==="GET")De.open(We,""+L),De.send();else{if(We!=="post")throw new Error("xhr "+We+" is not supported");De.open(We,L),De.setRequestHeader("Content-type","application/x-www-form-urlencoded"),De.send(Ge.join("&"))}})},gi=/^WEBVTT/,Qo=/^STYLE+$/,xt=/^\:\:cue/,Jo=/^}+$/,qr=/^\[Script Info\].*/,Zd=[/[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}-->[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}/,/[0-9]{2}:[0-9]{2}\.[0-9]{3}-->[0-9]{2}:[0-9]{2}\.[0-9]{3}/,/[0-9]{2}\.[0-9]{3}-->[0-9]{2}\.[0-9]{3}/],eh=/^Format:\s/,th=/^Style:\s/,rh=/^Dialogue:\s/,Ju=function(){function E(){ze(this,E)}return Qi(E,null,[{key:"parseJson",value:function(D){for(var L=[],B=0,W=0;W<D.length;W++){if(B>=50&&(B=0),B===0){var ee={start:D[W].start,list:[D[W]],end:D[W].end};L.push(ee)}else L[L.length-1].list.push(D[W]),L[L.length-1].end=D[W].end;B++}return L}},{key:"parse",value:function(D,L){var B=E.checkFormat(D);B||L({format:B});try{var W=[];B==="ass"?W=E.parseASS(D):B==="vtt"&&(W=E.parseVTT(D)),L({format:B,list:W.list,styles:W.styles})}catch(ee){console.error(ee),L({format:B},ee)}}},{key:"parseASSItem",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=D.split(","),W={},ee="";try{var ue=B.length-L.length;return ee=ue>0?B.splice(L.length-1,ue+1).join(",")+"":B[B.length-1]+"",ee=ee.replace(/\\n+/g,""),ee=f(ee),B[L.length-1]=ee,L.map(function(de,me){de==="end"||de==="start"?W[de]=l(B[me].split(":")):de==="text"?W[de]=[B[me]]:de==="layer"?(W[de]=[B[me]],W.textTag=[B[me]]):W[de]=de==="style"?[B[me]]:Number(B[me])?Number(B[me]):B[me]}),W}catch(de){return console.error(de),{}}}},{key:"parseASS",value:function(D){for(var L=D.split(`
`),B=[],W=0,ee=0,ue=[],de=[],me=null;W<L.length;){if(eh.test(L[W]))de=(de=L[W].replace(eh,"").replace(/\s+/g,"").split(",")).map(function(We){return We.toLocaleLowerCase()});else if(th.test(L[W]))ue.push(L[W].replace(th,"").replace(/\s+/g,""));else if(rh.test(L[W])){var ke=E.parseASSItem(L[W].replace(rh,""),de);if(me&&ke.start===me.start&&ke.end===me.end)try{var Oe=me,Le=Oe.text,Be=Oe.textTag,Ve=Oe.style;Le.push(ke.text[0]),Be.push(ke.textTag[0]),Ve.push(ke.style[0])}catch(We){console.error(We)}else{me=ke;var De=null;ee%50==0?((De={start:me.start,end:me.end,list:[]}).list.push(me),B.push(De)):((De=B[B.length-1]).end=me.end,De.list.push(me)),ee++}}W++}return{list:B,style:{}}}},{key:"parseVTTStyle",value:function(D,L){var B=D.split(":");if(B.length>1){var W=B[0].trim().split("-"),ee="";W.length>1?W.map(function(ue,de){ee+=de===0?ue:ue.charAt(0).toUpperCase()+ue.slice(1)}):ee=W[0],L[ee]=B[1].trim().replace(/;$/,"")}return L}},{key:"parseVTT",value:function(D){for(var L=(D=D.replace(gi,"")).split(`
`),B=[],W=0,ee=0,ue=null,de=!1,me=!1,ke=null,Oe=null,Le=[];W<L.length;){var Be=c(W,L).trim();if(!Be||de&&u(Be))de=!Be;else if(xt.test(Be)&&Qo.test(c(W-1,L).trim())){me=!0;var Ve=/\((.+?)\)/g.exec(Be);Oe=Ve?Ve[1]:"",ke=""}else if(me)Jo.test(Be)?(Le.push({key:Oe,style:ke}),ke=null,Oe=null,me=!1):ke+=Be;else if(Be){de=!1;var De=this.checkIsTime(L[W]);if(De){var We=this.parseVttTime(De);if(!ue||We.start!==ue.start||We.end!==ue.end){(ue=We).text=[],ue.textTag=[];var Ge=null;ee%50==0?((Ge={start:ue.start,end:ue.end,list:[]}).list.push(ue),B.push(Ge)):((Ge=B[B.length-1]).end=ue.end,Ge.list.push(ue)),ee++}}else if(ue){var Ye=ue,bt=Ye.text,Pt=Ye.textTag,Hn=this.parseVttText(L[W]);bt.push(Hn.text),Pt.push(Hn.tag)}de=!1}W++}return{list:B,styles:Le}}},{key:"checkIsTime",value:function(D){D=D.replace(/\s+/g,"");for(var L=0,B=null;L<Zd.length&&!(B=Zd[L].exec(D));)L++;return B?B[0]:null}},{key:"parseVttText",value:function(D){var L=/^(<?.+?>)/g.exec(D),B="",W="default";if(L){W=L[0].replace(/\<|\>|\&/g,"");var ee=RegExp("^<"+W+">(([\\s\\S])*?)</"+W+">$").exec(D);ee?B=ee[1]:(B=D,W="")}else B=D;for(var ue=/<(\w+).(\w+)>/g,de=ue.exec(B);de&&de.length>2;)B=B.replace(de[0],"<"+de[1]+' class="'+de[2]+'">'),de=ue.exec(B);return{tag:W,text:f(B.replace(/\\n+/g,"<br/>"))}}},{key:"parseVttTime",value:function(D){var L=D.split("-->"),B=void 0,W=0;if(L.length===2){var ee=L[0].split(":"),ue=L[1].split(":");B=l(ee),W=l(ue)}return{start:B,end:W,time:D}}},{key:"isVTT",value:function(D){return gi.test(D)}},{key:"isASS",value:function(D){return qr.test(D)}},{key:"checkFormat",value:function(D){return D?gi.test(D)?"vtt":qr.test(D)?"ass":null:null}}]),E}(),qy=function(){function E(){var D=this;ze(this,E),this.__handlers=[],window.ResizeObserver&&(this.observer=new window.ResizeObserver(function(L){D.__trigger(L)}))}return Qi(E,[{key:"addObserver",value:function(D,L){if(this.observer){this.observer&&this.observer.observe(D);for(var B=this.__handlers,W=-1,ee=0;ee<B.length;ee++)B[ee]&&D===B[ee].target&&(W=ee);W>-1?this.__handlers[W].handler.push(L):this.__handlers.push({target:D,handler:[L]})}}},{key:"unObserver",value:function(D){var L=-1;this.__handlers.map(function(B,W){D===B.target&&(L=W)}),this.observer&&this.observer.unobserve(D),L>-1&&this.__handlers.splice(L,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(D,L){for(var B=this.__handlers,W=0;W<B.length;W++)if(B[W]&&D===B[W].target){B[W].handler&&B[W].handler.map(function(ee){try{ee(D,L)}catch(ue){console.error(ue)}});break}}},{key:"__trigger",value:function(D){var L=this;D.map(function(B){var W=B.contentRect;L.__runHandler(B.target,W)})}}]),E}(),ys=null;(function(E,D){D===void 0&&(D={});var L=D.insertAt;if(E&&typeof document!="undefined"){var B=document.head||document.getElementsByTagName("head")[0],W=document.createElement("style");W.type="text/css",L==="top"&&B.firstChild?B.insertBefore(W,B.firstChild):B.appendChild(W),W.styleSheet?W.styleSheet.cssText=E:W.appendChild(document.createTextNode(E))}})(`xg-text-track.xg-text-track {
  font-family: "PingFang SC","SF Pro SC","SF Pro Text","SF Pro Icons","Helvetica Neue","Helvetica","Arial",sans-serif;
  -webkit-font-smoothing: antialiased;
  position: absolute;
  bottom: 0;
  color: #fff;
  left: 0;
  right: 0;
  pointer-events: none;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center; }
  xg-text-track.xg-text-track.text-track-no-fitvideo {
    margin-bottom: 2%; }
  xg-text-track.xg-text-track.text-track-hide {
    opacity: 0;
    visibility: hidden; }
  xg-text-track.xg-text-track.text-track-show {
    opacity: 1;
    visibility: visible; }
  xg-text-track.xg-text-track xg-text-track-inner {
    display: block;
    max-width: 92%; }
  xg-text-track.xg-text-track xg-text-track-span {
    display: -webkit-box;
    text-align: center;
    text-overflow: ellipsis;
    -webkit-box-orient: vertical;
    overflow: hidden;
    padding: 1px 4px;
    -webkit-line-clamp: 1;
    line-height: 120%;
    word-break: break-word; }
    xg-text-track.xg-text-track xg-text-track-span.text-track-deputy {
      font-size: 75%; }
    xg-text-track.xg-text-track xg-text-track-span.text-track-single {
      -webkit-line-clamp: 1; }
    xg-text-track.xg-text-track xg-text-track-span.text-track-double {
      -webkit-line-clamp: 2; }
    xg-text-track.xg-text-track xg-text-track-span.text-track-three {
      -webkit-line-clamp: 3; }
  xg-text-track.xg-text-track.text-track-bg xg-text-track-inner {
    background-color: rgba(0, 0, 0, .54);
    border-radius: 2px; }
  xg-text-track.xg-text-track.text-track-stroke xg-text-track-inner {
    background-color: none;
    border-radius: 0;
    text-shadow: -1px 1px 0 rgba(0, 0, 0, .7), 1px 1px 0 rgba(0, 0, 0, .7), 1px -1px 0 rgba(0, 0, 0, .7), -1px -1px 0 rgba(0, 0, 0, .7); }
`);var nh=[{code:0,msg:"SUCCESS"},{code:1,msg:"LOAD_ERROR"},{code:2,msg:"PARSER_ERROR"},{code:3,msg:"FORMAT_NOT_SUPPORTED"},{code:4,msg:"ID_OR_LANGUAGE_NOT_EXIST"},{code:5,msg:"PARAMETERS_ERROR"},{code:6,msg:"ABORT"},{code:7,msg:"UNKNOWN"},{code:8,msg:"DATA_ERROR:subtitle.url is null"}],Gy={RESIZE:"resize"},ih=!1;return function(E){function D(L){ze(this,D);var B=ci(this,(D.__proto__||Ue(D)).call(this));return ih=C(),B.currentText=null,B.textTrack=[],B._cid=-1,B._gid=-1,B._cids=[],B._iId=null,B._iC=0,B.player=null,B.root=null,B.config={line:"double",bottom:0,mode:"stroke",defaultOpen:!1,baseSizeX:49,baseSizeY:28,minSize:16,minMobileSize:13,fitVideo:!0,offsetBottom:2,fontColor:"#fff"},B._ctime=0,B._loadingTrack={},jn(B.config).map(function(W){L[W]!==void 0&&L[W]!==null&&(B.config[W]=L[W])}),B._isOpen=!1,B._videoMeta={scale:0,videoHeight:0,videoWidth:0,lwidth:0,lheight:0,vWidth:0,vHeight:0,vBottom:0,vLeft:0,marginBottom:0},L.subTitles&&b(L.subTitles)==="Array"?(L.player&&B.attachPlayer(L.player),B.setSubTitles(L.subTitles,B.config.defaultOpen),B):ci(B)}return Vu(D,E),Qi(D,[{key:"version",get:function(){return"1.0.12"}}]),Qi(D,[{key:"setSubTitles",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=this,W=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ee=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ue=this._isOpen||W;ee&&this.innerRoot&&this.switchOff(),this.currentText=null,this.textTrack=[],L.map(function(de){var me={};jn(de).map(function(ke){me[ke]=de[ke]}),me.isDefault&&(B.currentText=me),B.textTrack.push(me)}),this.currentText&&j(this.currentText).then(function(de){B.addStyles(de),ue&&B.switch()})}},{key:"addStyles",value:function(L){var B=L.styles,W=L.format;B&&W==="vtt"&&(B.map(function(ee){ee.key||(ee.key="xg-text-track-span")}),A(B,"xg-text-track"))}},{key:"attachPlayer",value:function(L){var B=this;if(L){this.player&&this.detachPlayer();var W=this.config,ee=W.fontColor,ue=W.mode,de=W.fitVideo;this.player=L,this.root=document.createElement("xg-text-track"),this.root.className="xg-text-track",!this._isOpen&&h(this.root,"text-track-hide"),!de&&h(this.root,"text-track-no-fitvideo"),ue&&h(this.root,"text-track-"+ue),this.innerRoot=document.createElement("xg-text-track-inner"),this.root.appendChild(this.innerRoot),ee&&(this.root.style.color=ee),this.currentText&&["language","id","label"].map(function(me){B.root.setAttribute("data-"+me,B.currentText[me]||"")}),this.player.root.appendChild(this.root),["destroy","__onTimeupdate","_onResize"].map(function(me){B[me]=B[me].bind(B)}),this.player.on("destroy",this.destroy),this.player.on("timeupdate",this.__onTimeupdate),this._isOpen&&this.switch(),_(L.root,this._onResize)}}},{key:"detachPlayer",value:function(){var L=this.player;L&&(L.off("destroy",this.destroy),L.off("timeupdate",this.__onTimeupdate),L.root&&(w(L.root,this._onResize),L.root.removeChild(this.root)),this.innerRoot=null,this.root=null,this.player=null)}},{key:"switch",value:function(){var L=this,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:"",language:""};return this._loadingTrack=B,new Lr(function(W,ee){if(!B.id&&!B.language){if(L.currentText){L._loadingTrack={},L._updateCurrent(L.currentText),L._isOpen=!0,L.show();var ue=k(0,{message:"switch default subtitle success"});return void W(ue)}var de=k(5,{message:"no default subtitle"});return void ee(de)}if(L.currentText&&N(B,L.currentText))L._loadingTrack={},L._updateCurrent(L.currentText),L._isOpen=!0,L.show(),W(k(0));else{for(var me=null,ke=0;ke<L.textTrack.length;ke++)if(N(B,L.textTrack[ke])){me=L.textTrack[ke];break}if(me)me.list?(L._loadingTrack={},L._updateCurrent(me),L._isOpen=!0,L.show(),W(k(0))):j(me).then(function(Le){if(L.addStyles(Le),L._loadingTrack.id===me.id||L._loadingTrack.language===Le.language)L._loadingTrack={},L._updateCurrent(Le),L._isOpen=!0,L.show(),W(k(0));else{var Be=k(6,{message:"check _loadingTrack fail id: "+L._loadingTrack.id+"  nextSubtitle:"+Le.id});console.trace(Be),ee(Be)}}).catch(function(Le){ee(Le)});else{var Oe=k(4,new Error("The is no subtitle with id:[{"+B.id+"}] or language:["+B.language+"]"));console.trace(Oe),ee(Oe)}}})}},{key:"switchOff",value:function(){this._isOpen=!1,this.hide()}},{key:"_updateCurrent",value:function(L){var B=this;if(this.root){this.currentText=L,["language","id","label"].map(function(ee){B.root.setAttribute("data-"+ee,B.currentText[ee]||"")}),this.__remove(this._cids);var W=this.player.currentTime;this._cids=[],this._gid=-1,this._cid=-1,this._update(W)}}},{key:"__loadAll",value:function(){this.textTrack.map(function(L){j(L)})}},{key:"getDelCid",value:function(L,B){for(var W=[],ee=0;ee<L.length;ee++)B.includes(L[ee])||W.push(L[ee]);return W}},{key:"getNewCid",value:function(L,B){for(var W=[],ee=0;ee<B.length;ee++)L.includes(B[ee])||W.push(B[ee]);return W}},{key:"_update",value:function(L){var B=this,W=g(L,this.currentText.list,this._gid),ee=[];if(W>-1&&(ee=v(L,this.currentText.list[W].list,this._cid)),ee.length<1)return this._cids.length>0&&this.__remove(this._cids),void(this._cids=[]);if(this._cids!==ee||W!==this._gid){this._gid=W,this._cid=ee[0];var ue=this.getDelCid(this._cids,ee),de=this.getNewCid(this._cids,ee);this._cids=ee,this.__remove(ue);var me=[];de.map(function(ke){var Oe=B.currentText.list[W].list[ke];Oe.index=ke,me.push(Oe)}),this.__render(me,L)}}},{key:"__onTimeupdate",value:function(){if(this._isOpen){var L=this.player.video,B=L.videoWidth,W=L.videoHeight;!this._videoMeta.scale&&B&&W&&this._onResize(this.player.root);var ee=this.player.currentTime;Math.round(Math.abs(1e3*ee-this._ctime))<200||(this._ctime=1e3*ee,this.currentText&&this.currentText.list&&this._update(ee))}}},{key:"_onResize",value:function(L){var B=this._videoMeta;if(L&&L instanceof window.Element||(L=this.player.root),this._iId&&(clearTimeout(this._iId),this._iId=null),!B.scale){if(!this.player.video)return;var W=this.player.video,ee=W.videoWidth,ue=W.videoHeight;if(!ee||!ue)return;B.videoWidth=ee,B.videoHeight=ue,B.scale=parseInt(ue/ee*100,10)}this.__startResize(L)}},{key:"resize",value:function(L,B){var W=this,ee=this.config,ue=ee.baseSizeX,de=ee.baseSizeY,me=ee.minMobileSize,ke=ee.minSize,Oe=ee.fitVideo,Le=ee.offsetBottom,Be=this._videoMeta.scale;this._videoMeta.lwidth=L,this._videoMeta.lheight=B;var Ve=void 0,De=0;B/L*100>=Be?(De=parseInt(Be*L,10)/100,Ve=L):(De=B,Ve=parseInt(B/Be*100,10)),this._videoMeta.vWidth=Ve,this._videoMeta.vHeight=De;var We=0,Ge=0;Be>120?(We=de,Ge=parseInt(We*De/1080,10)):(We=ue,Ge=parseInt(We*Ve/1920,10));var Ye=ih?me:ke,bt={fontSize:Ge=Ge<Ye?Ye:Ge>We?We:Ge},Pt=parseInt((B-De)/2,10),Hn=parseInt((L-Ve)/2,10),Zu=parseInt(De*Le,10)/100;this._videoMeta.vBottom=Pt,this._videoMeta.vLeft=Hn,this._videoMeta.marginBottom=Zu,Oe&&(bt.bottom=Pt+Zu,bt.left=bt.right=Hn),jn(bt).map(function(ah){W.root.style[ah]=bt[ah]+"px"}),this.emit(Gy.RESIZE,{vLeft:Hn,vBottom:Pt,marginBottom:Zu,vWidth:Ve,vHeight:De,fontSize:Ge,scale:Be})}},{key:"__startResize",value:function(L){var B=this,W=L.getBoundingClientRect(),ee=this._videoMeta,ue=W.width,de=W.height;if(this._iId&&(clearTimeout(this._iId),this._iId=null),ue>0&&de>0&&(ue!==ee.lwidth||de!==ee.lheight))this._iC=0,this.resize(ue,de);else{if(this._iC>=5)return void(this._iC=0);this._iC++,this._iId=setTimeout(function(){B.__startResize(L)},50)}}},{key:"__remove",value:function(L){var B=this;if(L&&!(L.length<1)){for(var W=this.innerRoot.children,ee=[],ue=0;ue<W.length;ue++){var de=Number(W[ue].getAttribute("data-index"));L.includes(de)&&ee.push(W[ue])}ee.map(function(me){B.innerRoot.removeChild(me)})}}},{key:"__render",value:function(){var L=this,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];B.length>0&&B.map(function(W){var ee="text-track-"+L.config.line;W.text.map(function(ue,de){de>0&&(ee+=" text-track-deputy");var me={"data-start":W.start,"data-end":W.end,"data-index":W.index};L.innerRoot.appendChild(S("xg-text-track-span",ue,me,ee))})})}},{key:"show",value:function(){p(this.root,"text-track-hide")}},{key:"hide",value:function(){h(this.root,"text-track-hide"),this.innerRoot.innerHTML=""}},{key:"destroy",value:function(){this.detachPlayer(),this.removeAllListeners(),this.player=null,this.textTrack=null}},{key:"marginBottom",get:function(){var L=this._videoMeta,B=L.bottom,W=L.marginBottom;return this.config.fitVideo?B+W:W}}]),D}(Xo)})},function(r,i,e){var n=e(9),s=Ne(n),o=e(10),l=Ne(o),u=e(108),f=Ne(u),c=e(48),d=Ne(c),h=e(40),p=Ne(h),g=e(53),v=Ne(g),b=e(56),S=Ne(b),C=e(59),A=Ne(C),_=e(111),w=Ne(_),k=e(116),R=Ne(k),j=e(122),N=Ne(j),M=e(64),z=Ne(M),I=e(68),U=Ne(I),K=e(71),te=Ne(K),oe=e(74),G=Ne(oe),q=e(125),Z=Ne(q),ae=e(128),Y=Ne(ae),ie=e(129),he=Ne(ie),Te=e(133),Pe=Ne(Te),Ie=e(139),st=Ne(Ie),nt=e(142),Ke=Ne(nt),Je=e(145),it=Ne(Je),$=e(149),re=Ne($),fe=e(153),le=Ne(fe),pe=e(157),ye=Ne(pe),ve=e(160),_e=Ne(ve),xe=e(162),ce=Ne(xe),Ce=e(163),Re=Ne(Ce),Ue=e(166),ze=Ne(Ue),Ze=e(169),je=Ne(Ze);function Ne(at){return at&&at.__esModule?at:{default:at}}s.default.installAll([l.default,f.default,d.default,p.default,v.default,S.default,A.default,w.default,R.default,N.default,z.default,U.default,te.default,G.default,Z.default,Y.default,he.default,Pe.default,st.default,Ke.default,it.default,re.default,le.default,ye.default,_e.default,ce.default,Re.default,ze.default,je.default])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(109);var s=function(){for(var l=this,u=l.root,f="",c=1;c<=12;c++)f+='<div class="xgplayer-enter-bar'+c+'"></div>';var d=(0,n.createDom)("xg-enter",`<div class="xgplayer-enter-spinner">
                                                  `+f+`
                                                </div>`,{},"xgplayer-enter");u.appendChild(d)};i.default={name:"s_enter",method:s},r.exports=i.default},function(r,i,e){var n=e(110);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-enter{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:#000;z-index:120}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner{display:block;position:absolute;left:50%;top:50%;height:100px;width:100px;position:relative;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div{width:12%;height:26%;background-color:hsla(0,0%,100%,.7);position:absolute;left:44%;top:37%;opacity:0;border-radius:30px;-webkit-animation:fade 1s linear infinite;animation:fade 1s linear infinite}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar1{-webkit-transform:rotate(0deg) translateY(-142%);-ms-transform:rotate(0deg) translateY(-142%);transform:rotate(0deg) translateY(-142%);-webkit-animation-delay:0s;animation-delay:0s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar2{-webkit-transform:rotate(30deg) translateY(-142%);-ms-transform:rotate(30deg) translateY(-142%);transform:rotate(30deg) translateY(-142%);-webkit-animation-delay:-.9163s;animation-delay:-.9163s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar3{-webkit-transform:rotate(60deg) translateY(-142%);-ms-transform:rotate(60deg) translateY(-142%);transform:rotate(60deg) translateY(-142%);-webkit-animation-delay:-.833s;animation-delay:-.833s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar4{-webkit-transform:rotate(90deg) translateY(-142%);-ms-transform:rotate(90deg) translateY(-142%);transform:rotate(90deg) translateY(-142%);-webkit-animation-delay:-.7497s;animation-delay:-.7497s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar5{-webkit-transform:rotate(120deg) translateY(-142%);-ms-transform:rotate(120deg) translateY(-142%);transform:rotate(120deg) translateY(-142%);-webkit-animation-delay:-.6664s;animation-delay:-.6664s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar6{-webkit-transform:rotate(150deg) translateY(-142%);-ms-transform:rotate(150deg) translateY(-142%);transform:rotate(150deg) translateY(-142%);-webkit-animation-delay:-.5831s;animation-delay:-.5831s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar7{-webkit-transform:rotate(180deg) translateY(-142%);-ms-transform:rotate(180deg) translateY(-142%);transform:rotate(180deg) translateY(-142%);-webkit-animation-delay:-.4998s;animation-delay:-.4998s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar8{-webkit-transform:rotate(210deg) translateY(-142%);-ms-transform:rotate(210deg) translateY(-142%);transform:rotate(210deg) translateY(-142%);-webkit-animation-delay:-.4165s;animation-delay:-.4165s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar9{-webkit-transform:rotate(240deg) translateY(-142%);-ms-transform:rotate(240deg) translateY(-142%);transform:rotate(240deg) translateY(-142%);-webkit-animation-delay:-.3332s;animation-delay:-.3332s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar10{-webkit-transform:rotate(270deg) translateY(-142%);-ms-transform:rotate(270deg) translateY(-142%);transform:rotate(270deg) translateY(-142%);-webkit-animation-delay:-.2499s;animation-delay:-.2499s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar11{-webkit-transform:rotate(300deg) translateY(-142%);-ms-transform:rotate(300deg) translateY(-142%);transform:rotate(300deg) translateY(-142%);-webkit-animation-delay:-.1666s;animation-delay:-.1666s}.xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar12{-webkit-transform:rotate(330deg) translateY(-142%);-ms-transform:rotate(330deg) translateY(-142%);transform:rotate(330deg) translateY(-142%);-webkit-animation-delay:-.0833s;animation-delay:-.0833s}@-webkit-keyframes fade{0%{opacity:1}to{opacity:.25}}@keyframes fade{0%{opacity:1}to{opacity:.25}}.xgplayer-skin-default.xgplayer-is-enter .xgplayer-enter{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(112),o=f(s),l=e(113),u=f(l);e(114);function f(d){return d&&d.__esModule?d:{default:d}}var c=function(){var h=this;if(!!h.config.cssFullscreen){var p=(0,n.createDom)("xg-cssfullscreen",`<xg-icon class="xgplayer-icon">
                                             <div class="xgplayer-icon-requestfull">`+o.default+`</div>
                                             <div class="xgplayer-icon-exitfull">`+u.default+`</div>
                                           </xg-icon>`,{},"xgplayer-cssfullscreen"),g={};g.requestfull=h.lang.CSSFULLSCREEN_TIPS,g.exitfull=h.lang.EXITCSSFULLSCREEN_TIPS;var v=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-requestfull">'+g.requestfull+`</span>
                                        <span class="xgplayer-tip-exitfull">`+g.exitfull+"</span>",{},"xgplayer-tips");p.appendChild(v),h.once("ready",function(){h.controls.appendChild(p)}),["click","touchend"].forEach(function(b){p.addEventListener(b,function(S){S.preventDefault(),S.stopPropagation(),h.userGestureTrigEvent("cssFullscreenBtnClick")})})}};i.default={name:"s_cssFullscreen",method:c},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="scale(0.028 0.028)" d="M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="scale(0.028 0.028)" d="M834.56 81.92H189.44c-59.392 0-107.52 48.128-107.52 107.52v645.12c0 59.392 48.128 107.52 107.52 107.52h645.12c59.392 0 107.52-48.128 107.52-107.52V189.44c0-59.392-48.128-107.52-107.52-107.52zM458.24 727.04c0 14.848-12.288 26.624-26.624 26.624S404.48 741.888 404.48 727.04v-69.632L289.28 773.12c-10.752 10.24-27.648 10.24-37.888 0-10.24-10.752-10.24-27.648 0-37.888L366.592 619.52H296.96c-14.848 0-26.624-12.288-26.624-26.624s12.288-26.624 26.624-26.624h134.144c14.848 0 26.624 12.288 26.624 26.624V727.04z m0-295.936c0 14.848-12.288 26.624-26.624 26.624H296.96c-14.848 0-26.624-12.288-26.624-26.624S282.112 404.48 296.96 404.48h69.632L251.392 289.28c-10.24-10.752-10.24-27.648 0-37.888 5.12-5.12 12.288-7.68 18.944-7.68 6.656 0 13.824 2.56 18.944 7.68L404.48 366.592V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v134.144zM773.12 773.12c-10.752 10.24-27.648 10.24-37.888 0L619.52 657.408V727.04c0 14.848-12.288 26.624-26.624 26.624s-26.624-11.776-26.624-26.624v-134.144c0-14.848 12.288-26.624 26.624-26.624H727.04c14.848 0 26.624 12.288 26.624 26.624s-12.288 26.624-26.624 26.624h-69.632l115.2 115.2c10.752 10.752 10.752 27.648 0.512 38.4z m0-483.84L657.408 404.48H727.04c14.848 0 26.624 12.288 26.624 26.624 0 14.848-12.288 26.624-26.624 26.624h-134.144c-14.848 0-26.624-12.288-26.624-26.624V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v69.632L734.72 250.88c5.12-5.12 12.288-7.68 18.944-7.68s13.824 2.56 18.944 7.68c10.752 10.752 10.752 27.648 0.512 38.4z"></path>
</svg>
`},function(r,i,e){var n=e(115);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-cssfullscreen,.xgplayer-skin-default .xgplayer-cssfullscreen-img{position:relative;-webkit-order:12;-moz-box-ordinal-group:13;order:12;display:block;cursor:pointer}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon{width:32px;margin-top:5px}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon div,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:block}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:none}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips{margin-left:-40px}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:block}.xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:none}.xgplayer-skin-default .xgplayer-cssfullscreen-img:hover,.xgplayer-skin-default .xgplayer-cssfullscreen:hover{opacity:.85}.xgplayer-skin-default .xgplayer-cssfullscreen-img:hover .xgplayer-tips,.xgplayer-skin-default .xgplayer-cssfullscreen:hover .xgplayer-tips{display:block}.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:block}.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips,.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips{margin-left:-47px}.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:block}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-cssfullscreen,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-cssfullscreen-img{display:none}.xgplayer-skin-default.xgplayer-is-cssfullscreen{position:fixed!important;left:0!important;top:0!important;width:100%!important;height:100%!important;z-index:99999!important}.xgplayer-lang-is-en .xgplayer-cssfullscreen-img .xgplayer-tips,.xgplayer-lang-is-en .xgplayer-cssfullscreen .xgplayer-tips,.xgplayer-lang-is-en.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips,.xgplayer-lang-is-en.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips{margin-left:-46px}.lang-is-jp .xgplayer-cssfullscreen-img .xgplayer-tips,.lang-is-jp .xgplayer-cssfullscreen .xgplayer-tips{margin-left:-120px}.lang-is-jp.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips,.lang-is-jp.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips{margin-left:-60px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(117),o=d(s),l=e(118),u=d(l),f=e(119),c=d(f);e(120);function d(p){return p&&p.__esModule?p:{default:p}}var h=function(){var g=this,v=(0,n.createDom)("xg-volume",`<xg-icon class="xgplayer-icon">
                                         <div class="xgplayer-icon-large">`+c.default+`</div>
                                         <div class="xgplayer-icon-small">`+u.default+`</div>
                                         <div class="xgplayer-icon-muted">`+o.default+`</div>
                                       </xg-icon>
                                       <xg-slider class="xgplayer-slider" tabindex="2">
                                         <xg-bar class="xgplayer-bar">
                                           <xg-drag class="xgplayer-drag"></xg-drag>
                                         </xg-bar>
                                       </xg-slider>`,{},"xgplayer-volume");g.once("ready",function(){g.controls&&g.controls.appendChild(v)});var b=v.querySelector(".xgplayer-slider"),S=v.querySelector(".xgplayer-bar"),C=v.querySelector(".xgplayer-drag"),A=v.querySelector(".xgplayer-icon");C.style.height=g.config.volume*100+"%",b.volume=g.config.volume,S.addEventListener("mousedown",function(_){_.preventDefault(),_.stopPropagation(),g.userGestureTrigEvent("volumeBarClick",_)}),["click","touchend"].forEach(function(_){A.addEventListener(_,function(w){w.preventDefault(),w.stopPropagation(),g.userGestureTrigEvent("volumeIconClick")})}),A.addEventListener("mouseenter",function(_){_.preventDefault(),_.stopPropagation(),g.userGestureTrigEvent("volumeIconEnter")}),["blur","mouseleave"].forEach(function(_){v.addEventListener(_,function(w){w.preventDefault(),w.stopPropagation(),g.userGestureTrigEvent("volumeIconLeave")})})};i.default={name:"s_volume",method:h},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`},function(r,i,e){var n=e(121);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,'.xgplayer-skin-default .xgplayer-volume{outline:none;-webkit-order:4;-moz-box-ordinal-group:5;order:4;width:40px;height:40px;display:block;position:relative;z-index:18}.xgplayer-skin-default .xgplayer-volume .xgplayer-icon{margin-top:8px;cursor:pointer;position:absolute;bottom:-9px}.xgplayer-skin-default .xgplayer-volume .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-large{display:block}.xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted,.xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-small{display:none}.xgplayer-skin-default .xgplayer-slider{display:none;position:absolute;width:28px;height:92px;background:rgba(0,0,0,.54);border-radius:1px;bottom:42px;outline:none}.xgplayer-skin-default .xgplayer-slider:after{content:" ";display:block;height:15px;width:28px;position:absolute;bottom:-15px;left:0;z-index:20}.xgplayer-skin-default .xgplayer-bar,.xgplayer-skin-default .xgplayer-drag{display:block;position:absolute;bottom:6px;left:12px;background:hsla(0,0%,100%,.3);border-radius:100px;width:4px;height:76px;outline:none;cursor:pointer}.xgplayer-skin-default .xgplayer-drag{bottom:0;left:0;background:#fa1f41;max-height:76px}.xgplayer-skin-default .xgplayer-drag:after{content:" ";display:inline-block;width:8px;height:8px;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.26);position:absolute;border-radius:50%;left:-2px;top:-6px}.xgplayer-skin-default.xgplayer-volume-active .xgplayer-slider,.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-large{display:block}.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted,.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-small,.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-large{display:none}.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-small{display:block}.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-large,.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-small,.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted{display:none}.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted{display:block}.xgplayer-skin-default.xgplayer-mobile .xgplayer-volume .xgplayer-slider{display:none}',""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(5),o=l(s);e(123);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.root,h=void 0,p=(0,n.createDom)("xg-definition","",{tabindex:3},"xgplayer-definition");o.default.device==="mobile"&&(c.config.definitionActive="click");function g(){var _=c.definitionList,w=["<ul>"],k=c.config.url,R=document.createElement("a");c.switchURL?["mp4","hls","__flv__","dash"].every(function(I){return c[I]?(c[I].url&&(R.href=c[I].url),I==="__flv__"&&(c[I]._options?R.href=c[I]._options.url:R.href=c[I]._mediaDataSource.url),I==="hls"&&(R.href=c[I].originUrl||c[I].url,k=R.href),k=R.href,!1):!0}):k=c.currentSrc||c.src,_.forEach(function(I){R.href=I.url,c.dash?w.push("<li url='"+I.url+"' cname='"+I.name+"' class='"+(I.selected?"selected":"")+"'>"+I.name+"</li>"):w.push("<li url='"+I.url+"' cname='"+I.name+"' class='"+(R.href===k?"selected":"")+"'>"+I.name+"</li>")});var j=_.filter(function(I){return R.href=I.url,c.dash?I.selected===!0:R.href===k});w.push("</ul><p class='name'>"+(j[0]||{name:""}).name+"</p>");var N=d.querySelector(".xgplayer-definition");if(N){N.innerHTML=w.join("");var M=N.querySelector(".name");(!c.config.definitionActive||c.config.definitionActive==="hover")&&M.addEventListener("mouseenter",function(I){I.preventDefault(),I.stopPropagation(),(0,n.addClass)(c.root,"xgplayer-definition-active"),N.focus()})}else{p.innerHTML=w.join("");var z=p.querySelector(".name");(!c.config.definitionActive||c.config.definitionActive==="hover")&&z.addEventListener("mouseenter",function(I){I.preventDefault(),I.stopPropagation(),(0,n.addClass)(c.root,"xgplayer-definition-active"),p.focus()}),c.controls.appendChild(p)}}function v(_){c.definitionList=_,_&&_ instanceof Array&&_.length>0&&((0,n.addClass)(d,"xgplayer-is-definition"),c.once("canplay",g))}c.on("resourceReady",v);function b(){if(c.currentTime=c.curTime,h)c.pause();else{var _=c.play();_!==void 0&&_&&_.catch(function(w){})}}function S(){c.once("timeupdate",b)}["touchend","click"].forEach(function(_){p.addEventListener(_,function(w){w.preventDefault(),w.stopPropagation();var k=c.definitionList,R=w.target||w.srcElement,j=document.createElement("a");if(R&&R.tagName.toLocaleLowerCase()==="li"){var N=void 0,M=void 0;if(Array.prototype.forEach.call(R.parentNode.childNodes,function(I){(0,n.hasClass)(I,"selected")&&(N=I.getAttribute("cname"),(0,n.removeClass)(I,"selected"),c.emit("beforeDefinitionChange",I.getAttribute("url")))}),c.dash&&k.forEach(function(I){I.selected=!1,I.name===R.innerHTML&&(I.selected=!0)}),(0,n.addClass)(R,"selected"),M=R.getAttribute("cname"),R.parentNode.nextSibling.innerHTML=""+R.getAttribute("cname"),j.href=R.getAttribute("url"),h=c.paused,c.switchURL){var z=document.createElement("a");["mp4","hls","__flv__","dash"].every(function(I){return c[I]?(c[I].url&&(z.href=c[I].url),I==="__flv__"&&(c[I]._options?z.href=c[I]._options.url:z.href=c[I]._mediaDataSource.url),I==="hls"&&(z.href=c[I].originUrl||c[I].url),!1):!0}),z.href!==j.href&&!c.ended&&c.switchURL(j.href)}else c.hls&&(document.createElement("a"),c.hls.url),j.href!==c.currentSrc&&(c.curTime=c.currentTime,c.ended||(c.src=j.href));navigator.userAgent.toLowerCase().indexOf("android")>-1?c.once("timeupdate",S):c.once("loadedmetadata",b),c.emit("definitionChange",{from:N,to:M}),o.default.device==="mobile"&&(0,n.removeClass)(c.root,"xgplayer-definition-active")}else c.config.definitionActive==="click"&&R&&(R.tagName.toLocaleLowerCase()==="p"||R.tagName.toLocaleLowerCase()==="em")&&(o.default.device==="mobile"?(0,n.toggleClass)(c.root,"xgplayer-definition-active"):(0,n.addClass)(c.root,"xgplayer-definition-active"),p.focus());c.emit("focus")},!1)}),p.addEventListener("mouseleave",function(_){_.preventDefault(),_.stopPropagation(),(0,n.removeClass)(d,"xgplayer-definition-active")});function C(){(0,n.removeClass)(d,"xgplayer-definition-active")}c.on("blur",C);function A(){c.off("resourceReady",v),c.off("canplay",g),navigator.userAgent.toLowerCase().indexOf("android")>-1?(c.off("timeupdate",S),c.off("timeupdate",b)):c.off("loadedmetadata",b),c.off("blur",C),c.off("destroy",A)}c.once("destroy",A),c.getCurrentDefinition=function(){for(var _=c.controls.querySelectorAll(".xgplayer-definition ul li"),w=0;w<_.length;w++)if(_[w].className&&_[w].className.indexOf("selected")>-1)return{name:_[w].getAttribute("cname"),url:_[w].getAttribute("url")};return{name:_[0].getAttribute("cname"),url:_[0].getAttribute("url")}},c.switchDefinition=function(){for(var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=c.controls.querySelectorAll(".xgplayer-definition ul li"),k=0;k<w.length;k++)(w[k].getAttribute("cname")===_.name||w[k].getAttribute("url")===_.url||k===_.index)&&w[k].click()}};i.default={name:"s_definition",method:u},r.exports=i.default},function(r,i,e){var n=e(124);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-definition{-webkit-order:5;-moz-box-ordinal-group:6;order:5;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-left:10px;margin-top:-119px}.xgplayer-skin-default .xgplayer-definition ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:0;text-align:center;white-space:nowrap;margin-left:-10px;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-definition ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);padding:6px 13px}.xgplayer-skin-default .xgplayer-definition ul li.selected,.xgplayer-skin-default .xgplayer-definition ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-definition .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-skin-default.xgplayer-definition-active .xgplayer-definition ul,.xgplayer-skin-default.xgplayer-is-definition .xgplayer-definition{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(5),o=l(s);e(126);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=[];if(c.config.playbackRate)d=[].concat(c.config.playbackRate),d.sort(function(k,R){return R-k});else return!1;var h=c.config.playbackRateUnit!==void 0?c.config.playbackRateUnit:"x",p=(0,n.createDom)("xg-playbackrate"," ",{},"xgplayer-playbackrate");o.default.device==="mobile"&&(c.config.playbackRateActive="click");var g=[];d.forEach(function(k){g.push({name:""+k,rate:""+k+h,selected:!1})});var v=1,b=["<ul>"];g.forEach(function(k){c.config.defaultPlaybackRate&&c.config.defaultPlaybackRate.toString()===k.name?(k.selected=!0,v=c.config.defaultPlaybackRate,c.once("playing",function(){c.video.playbackRate=c.config.defaultPlaybackRate})):(k.name==="1.0"||k.name==="1")&&(!c.config.defaultPlaybackRate||c.config.defaultPlaybackRate===1)&&(k.selected=!0),b.push("<li cname='"+k.name+"' class='"+(k.selected?"selected":"")+"'>"+k.rate+"</li>")}),b.push("</ul><p class='name'>"+v+h+"</p>");var S=c.root.querySelector(".xgplayer-playbackrate");if(S){S.innerHTML=b.join("");var C=S.querySelector(".name");(!c.config.playbackRateActive||c.config.playbackRateActive==="hover")&&C.addEventListener("mouseenter",function(k){k.preventDefault(),k.stopPropagation(),(0,n.addClass)(c.root,"xgplayer-playbackrate-active"),S.focus()})}else{p.innerHTML=b.join("");var A=p.querySelector(".name");(!c.config.playbackRateActive||c.config.playbackRateActive==="hover")&&A.addEventListener("mouseenter",function(k){k.preventDefault(),k.stopPropagation(),(0,n.addClass)(c.root,"xgplayer-playbackrate-active"),p.focus()}),c.once("ready",function(){c.controls.appendChild(p)})}var _=["touchend","click"];_.forEach(function(k){p.addEventListener(k,function(R){R.stopPropagation(),R.preventDefault();var j=R.target;if(j&&j.tagName.toLocaleLowerCase()==="li"){var N=void 0,M=void 0;g.forEach(function(z){z.selected=!1,j.textContent.replace(/\s+/g,"")===z.rate&&(Array.prototype.forEach.call(j.parentNode.childNodes,function(I){(0,n.hasClass)(I,"selected")&&(N=Number(I.getAttribute("cname")),(0,n.removeClass)(I,"selected"))}),z.selected=!0,c.video.playbackRate=z.name*1,v=z.name*1)}),(0,n.addClass)(j,"selected"),M=Number(j.getAttribute("cname")),j.parentNode.nextSibling.innerHTML=""+j.getAttribute("cname")+h,c.emit("playbackrateChange",{from:N,to:M}),o.default.device==="mobile"&&(0,n.removeClass)(c.root,"xgplayer-playbackrate-active")}else c.config.playbackRateActive==="click"&&j&&(j.tagName.toLocaleLowerCase()==="p"||j.tagName.toLocaleLowerCase()==="span")&&(o.default.device==="mobile"?(0,n.toggleClass)(c.root,"xgplayer-playbackrate-active"):(0,n.addClass)(c.root,"xgplayer-playbackrate-active"),p.focus());c.emit("focus")},!1)}),p.addEventListener("mouseleave",function(k){k.preventDefault(),k.stopPropagation(),(0,n.removeClass)(c.root,"xgplayer-playbackrate-active")});function w(){(0,n.removeClass)(c.root,"xgplayer-playbackrate-active")}c.on("blur",w),c.on("play",function(){c.video.playbackRate.toFixed(1)!==v.toFixed(1)&&(c.video.playbackRate=v)}),c.switchPlaybackRate=function(){for(var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=c.controls.querySelectorAll(".xgplayer-playbackrate ul li"),j=0;j<R.length;j++)!(0,n.hasClass)(R[j],"selected")&&(R[j].getAttribute("cname")===""+k.playbackRate||j===k.index)&&R[j].click()},c.on("ratechange",function(){c.switchPlaybackRate({playbackRate:c.playbackRate})})};i.default={name:"s_playbackRate",method:u},r.exports=i.default},function(r,i,e){var n=e(127);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-playbackrate{-webkit-order:8;-moz-box-ordinal-group:9;order:8;width:60px;height:150px;z-index:18;position:relative;display:inline-block;cursor:default;margin-top:-119px}.xgplayer-skin-default .xgplayer-playbackrate ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);text-align:left;white-space:nowrap;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-playbackrate ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);position:relative;padding:4px 0;text-align:center}.xgplayer-skin-default .xgplayer-playbackrate ul li.selected,.xgplayer-skin-default .xgplayer-playbackrate ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-playbackrate ul li:first-child{position:relative;margin-top:12px}.xgplayer-skin-default .xgplayer-playbackrate ul li:last-child{position:relative;margin-bottom:12px}.xgplayer-skin-default .xgplayer-playbackrate .name{width:60px;height:20px;position:absolute;bottom:0;text-align:center;font-family:PingFangSC-Regular;font-size:13px;background:rgba(0,0,0,.38);color:hsla(0,0%,100%,.8);border-radius:10px;line-height:20px}.xgplayer-skin-default .xgplayer-playbackrate span{position:relative;top:19px;font-weight:700;text-shadow:0 0 4px rgba(0,0,0,.6)}.xgplayer-skin-default .xgplayer-playbackrate:hover{opacity:1}.xgplayer-skin-default.xgplayer-playbackrate-active .xgplayer-playbackrate ul{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=function(){var l=this;if(l.config.preview&&l.config.preview.uploadEl){var u=(0,n.createDom)("xg-preview",'<input type="file">',{},"xgplayer-preview"),f=u.querySelector("input");l.config.preview.uploadEl.appendChild(u),f.onchange=function(){l.emit("upload",f)}}};i.default={name:"s_localPreview",method:s},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(130),o=l(s);e(131);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this;if(!!c.config.download){var d=(0,n.createDom)("xg-download",'<xg-icon class="xgplayer-icon">'+o.default+"</xg-icon>",{},"xgplayer-download"),h=c.lang.DOWNLOAD_TIPS,p=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-download">'+h+"</span>",{},"xgplayer-tips");d.appendChild(p),c.once("ready",function(){c.controls.appendChild(d)}),["click","touchend"].forEach(function(g){d.addEventListener(g,function(v){v.preventDefault(),v.stopPropagation(),c.userGestureTrigEvent("downloadBtnClick")})})}};i.default={name:"s_download",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`},function(r,i,e){var n=e(132);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-download{position:relative;-webkit-order:9;-moz-box-ordinal-group:10;order:9;display:block;cursor:pointer}.xgplayer-skin-default .xgplayer-download .xgplayer-icon{margin-top:3px}.xgplayer-skin-default .xgplayer-download .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-download .xgplayer-icon svg{position:relative;top:5px;left:5px}.xgplayer-skin-default .xgplayer-download .xgplayer-tips{margin-left:-20px}.xgplayer-skin-default .xgplayer-download .xgplayer-tips .xgplayer-tip-download{display:block}.xgplayer-skin-default .xgplayer-download:hover{opacity:.85}.xgplayer-skin-default .xgplayer-download:hover .xgplayer-tips{display:block}.xgplayer-lang-is-en .xgplayer-download .xgplayer-tips{margin-left:-32px}.xgplayer-lang-is-jp .xgplayer-download .xgplayer-tips{margin-left:-40px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(134),o=f(s),l=e(136),u=f(l);e(137);function f(d){return d&&d.__esModule?d:{default:d}}var c=function(){var h=this,p=h.root;if(!!h.config.danmu){var g=(0,n.createDom)("xg-danmu","",{},"xgplayer-danmu");h.once("ready",function(){p.appendChild(g)});var v=(0,n.deepCopy)({container:g,player:h.video,comments:[],area:{start:0,end:1}},h.config.danmu),b=void 0;h.config.danmu.panel&&(b=(0,n.createDom)("xg-panel",`<xg-panel-icon class="xgplayer-panel-icon">
                                                `+u.default+`
                                              </xg-panel-icon>
                                              <xg-panel-slider class="xgplayer-panel-slider">
                                                <xg-hidemode class="xgplayer-hidemode">
                                                  <p class="xgplayer-hidemode-font">\u5C4F\u853D\u7C7B\u578B</p>
                                                  <ul class="xgplayer-hidemode-radio">
                                                    <li class="xgplayer-hidemode-scroll" id="false">\u6EDA\u52A8</li><li class="xgplayer-hidemode-top" id="false">\u9876\u90E8</li><li class="xgplayer-hidemode-bottom" id="false">\u5E95\u90E8</li><li class="xgplayer-hidemode-color" id="false">\u8272\u5F69</li>
                                                  </ul>
                                                </xg-hidemode>
                                                <xg-transparency class="xgplayer-transparency">
                                                  <span>\u4E0D\u900F\u660E\u5EA6</span>
                                                  <input class="xgplayer-transparency-line xgplayer-transparency-color xgplayer-transparency-bar xgplayer-transparency-gradient" type="range" min="0" max="100" step="0.1" value="50"></input>
                                                </xg-transparency>
                                                <xg-showarea class="xgplayer-showarea">
                                                  <div class="xgplayer-showarea-name">\u663E\u793A\u533A\u57DF</div>
                                                  <div class="xgplayer-showarea-control">
                                                    <div class="xgplayer-showarea-control-up">
                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-onequarters">1/4</span>
                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-twoquarters selected-color">1/2</span>
                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-threequarters">3/4</span>
                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-full">1</span>
                                                    </div>
                                                    <div class="xgplayer-showarea-control-down">
                                                      <div class="xgplayer-showarea-control-down-dots">
                                                        <span class="xgplayer-showarea-onequarters-dot"></span>
                                                        <span class="xgplayer-showarea-twoquarters-dot"></span>
                                                        <span class="xgplayer-showarea-threequarters-dot"></span>
                                                        <span class="xgplayer-showarea-full-dot"></span>
                                                      </div>
                                                      <input class="xgplayer-showarea-line xgplayer-showarea-color xgplayer-showarea-bar xgplayer-gradient" type="range" min="1" max="4" step="1" value="1">
                                                    </div>
                                                  </div>
                                                </xg-showarea>
                                                <xg-danmuspeed class="xgplayer-danmuspeed">
                                                  <div class="xgplayer-danmuspeed-name">\u5F39\u5E55\u901F\u5EA6</div>
                                                  <div class="xgplayer-danmuspeed-control">
                                                    <div class="xgplayer-danmuspeed-control-up">
                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-small">\u6162</span>
                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-middle selected-color">\u4E2D</span>
                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-large">\u5FEB</span>
                                                    </div>
                                                    <div class="xgplayer-danmuspeed-control-down">
                                                      <div class="xgplayer-danmuspeed-control-down-dots">
                                                        <span class="xgplayer-danmuspeed-small-dot"></span>
                                                        <span class="xgplayer-danmuspeed-middle-dot"></span>
                                                        <span class="xgplayer-danmuspeed-large-dot"></span>
                                                      </div>
                                                      <input class="xgplayer-danmuspeed-line xgplayer-danmuspeed-color xgplayer-danmuspeed-bar xgplayer-gradient" type="range" min="50" max="150" step="50" value="100">
                                                    </div>
                                                  </div>
                                                </xg-danmuspeed>
                                                <xg-danmufont class="xgplayer-danmufont">
                                                  <div class="xgplayer-danmufont-name">\u5B57\u4F53\u5927\u5C0F</div>
                                                  <div class="xgplayer-danmufont-control">
                                                    <div class="xgplayer-danmufont-control-up">
                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-small">\u5C0F</span>
                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-middle">\u4E2D</span>
                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-large selected-color">\u5927</span>
                                                    </div>
                                                    <div class="xgplayer-danmufont-control-down">
                                                      <div class="xgplayer-danmufont-control-down-dots">
                                                        <span class="xgplayer-danmufont-small-dot"></span>
                                                        <span class="xgplayer-danmufont-middle-dot"></span>
                                                        <span class="xgplayer-danmufont-large-dot"></span>
                                                      </div>
                                                      <input class="xgplayer-danmufont-line xgplayer-danmufont-color xgplayer-danmufont-bar xgplayer-gradient" type="range" min="20" max="30" step="5" value="25">
                                                    </div>
                                                  </div>
                                                </xg-danmufont>
                                              </xg-panel-slider>`,{tabindex:7},"xgplayer-panel"),h.once("ready",function(){h.controls.appendChild(b)})),h.once("complete",function(){var S=new o.default(v);if(h.emit("initDefaultDanmu",S),h.danmu=S,!!h.config.danmu.panel){var C=b.querySelector(".xgplayer-panel-slider"),A=void 0,_=["mouseenter","touchend","click"];_.forEach(function(ae){b.addEventListener(ae,function(Y){Y.preventDefault(),Y.stopPropagation(),(0,n.addClass)(C,"xgplayer-panel-active"),b.focus(),A=!0})}),b.addEventListener("mouseleave",function(ae){ae.preventDefault(),ae.stopPropagation(),(0,n.removeClass)(C,"xgplayer-panel-active"),A=!1}),C.addEventListener("mouseleave",function(ae){ae.preventDefault(),ae.stopPropagation(),A===!1&&(0,n.removeClass)(C,"xgplayer-panel-active")});var w=h.config.danmu,k=b.querySelector(".xgplayer-hidemode-scroll"),R=b.querySelector(".xgplayer-hidemode-top"),j=b.querySelector(".xgplayer-hidemode-bottom"),N=b.querySelector(".xgplayer-hidemode-color"),M={scroll:k,top:R,bottom:j,color:N},z=function(Y){var ie=Y,he=["touchend","click"];he.forEach(function(Te){M[ie].addEventListener(Te,function(Pe){M[ie].getAttribute("id")!=="true"?(M[ie].style.color="#f85959",M[ie].setAttribute("id","true"),h.danmu.hide(ie)):(M[ie].style.color="#aaa",M[ie].setAttribute("id","false"),h.danmu.show(ie))})})};for(var I in M)z(I);var U=b.querySelector(".xgplayer-transparency-line"),K=b.querySelector(".xgplayer-transparency-gradient"),te=50;K.style.background="linear-gradient(to right, #f85959 0%, #f85959 "+te+"%, #aaa "+te+"%, #aaa)",U.addEventListener("input",function(ae){ae.preventDefault(),ae.stopPropagation(),te=ae.target.value,K.style.background="linear-gradient(to right, #f85959 0%, #f85959 "+te+"%, #aaa "+te+"%, #aaa)",w.comments.forEach(function(Y){Y.style.opacity=te/100})});var oe=b.querySelector(".xgplayer-showarea-line");oe.addEventListener("input",function(ae){ae.preventDefault(),ae.stopPropagation();var Y=ae.target.value;h.danmu.config.area.end=Y/100,h.config.danmu.area.end=Y/100,h.danmu.bulletBtn.main.channel.resize()});var G=b.querySelector(".xgplayer-danmuspeed-line");G.addEventListener("input",function(ae){ae.preventDefault(),ae.stopPropagation();var Y=ae.target.value;w.comments.forEach(function(ie){ie.duration=(200-Y)*100})});var q=b.querySelector(".xgplayer-danmufont-line");if(q.addEventListener("input",function(ae){ae.preventDefault(),ae.stopPropagation();var Y=ae.target.value;w.comments.forEach(function(ie){ie.style.fontSize=Y+"px"})}),navigator.userAgent.indexOf("Firefox")>-1)for(var Z=0;Z<C.querySelectorAll("input").length;Z++)C.querySelectorAll("input")[Z].style.marginTop="10px"}})}};i.default={name:"s_danmu",method:c},r.exports=i.default},function(r,i,e){(function(n){var s,o,l,u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};(function(f,c){u(i)=="object"&&u(n)=="object"?n.exports=c():(o=[],s=c,l=typeof s=="function"?s.apply(i,o):s,l!==void 0&&(n.exports=l))})(window,function(){return function(f){var c={};function d(h){if(c[h])return c[h].exports;var p=c[h]={i:h,l:!1,exports:{}};return f[h].call(p.exports,p,p.exports,d),p.l=!0,p.exports}return d.m=f,d.c=c,d.d=function(h,p,g){d.o(h,p)||Object.defineProperty(h,p,{enumerable:!0,get:g})},d.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},d.t=function(h,p){if(1&p&&(h=d(h)),8&p||4&p&&(typeof h=="undefined"?"undefined":u(h))=="object"&&h&&h.__esModule)return h;var g=Object.create(null);if(d.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&p&&typeof h!="string")for(var v in h)d.d(g,v,function(b){return h[b]}.bind(null,v));return g},d.n=function(h){var p=h&&h.__esModule?function(){return h.default}:function(){return h};return d.d(p,"a",p),p},d.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)},d.p="",d(d.s=4)}([function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h={createDom:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",C=document.createElement(g);return C.className=S,C.innerHTML=v,Object.keys(b).forEach(function(A){var _=A,w=b[A];g==="video"||g==="audio"?w&&C.setAttribute(_,w):C.setAttribute(_,w)}),C},hasClass:function(g,v){return g.classList?Array.prototype.some.call(g.classList,function(b){return b===v}):!!g.className.match(new RegExp("(\\s|^)"+v+"(\\s|$)"))},addClass:function(g,v){g.classList?v.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(b){b&&g.classList.add(b)}):h.hasClass(g,v)||(g.className+=" "+v)},removeClass:function(g,v){g.classList?v.split(/\s+/g).forEach(function(b){g.classList.remove(b)}):h.hasClass(g,v)&&v.split(/\s+/g).forEach(function(b){var S=new RegExp("(\\s|^)"+b+"(\\s|$)");g.className=g.className.replace(S," ")})},toggleClass:function(g,v){v.split(/\s+/g).forEach(function(b){h.hasClass(g,b)?h.removeClass(g,b):h.addClass(g,b)})},findDom:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,v=arguments[1],b=void 0;try{b=g.querySelector(v)}catch{v.startsWith("#")&&(b=g.getElementById(v.slice(1)))}return b},deepCopy:function(g,v){if(h.typeOf(v)==="Object"&&h.typeOf(g)==="Object")return Object.keys(v).forEach(function(b){h.typeOf(v[b])!=="Object"||v[b]instanceof Node?h.typeOf(v[b])==="Array"?g[b]=h.typeOf(g[b])==="Array"?g[b].concat(v[b]):v[b]:g[b]=v[b]:g[b]?h.deepCopy(g[b],v[b]):g[b]=v[b]}),g},typeOf:function(g){return Object.prototype.toString.call(g).match(/([^\s.*]+)(?=]$)/g)[0]},copyDom:function(g){if(g&&g.nodeType===1){var v=document.createElement(g.tagName);return Array.prototype.forEach.call(g.attributes,function(b){v.setAttribute(b.name,b.value)}),g.innerHTML&&(v.innerHTML=g.innerHTML),v}return""},formatTime:function(g){var v=Math.floor(g);return 1e3*v+(g-v)},offInDestroy:function(g,v,b,S){g.once(S,function C(){g.off(v,b),g.off(S,C)})},on:function(g,v,b,S){S?(g.on(v,b),h.offInDestroy(g,v,b,S)):g.on(v,function C(A){b(A),g.off(v,C)})},style:function(g,v,b){var S=g.style;try{S[v]=b}catch{S.setProperty(v,b)}}};c.default=h,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h,p=function(){function S(C,A){for(var _=0;_<A.length;_++){var w=A[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,w.key,w)}}return function(C,A,_){return A&&S(C.prototype,A),_&&S(C,_),C}}(),g=d(26),v=(h=g)&&h.__esModule?h:{default:h},b=function(){function S(){(function(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")})(this,S)}return p(S,[{key:"setLogger",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.logger=new v.default(A+".js")}}]),S}();c.default=b,f.exports=c.default},function(f,c,d){var h=d(19)();f.exports=function(p){return p!==h&&p!==null}},function(f,c,d){f.exports=function(h){return h!=null}},function(f,c,d){f.exports=d(5)},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h,p=d(6),g=(h=p)&&h.__esModule?h:{default:h};d(34),c.default=g.default,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function R(j,N){for(var M=0;M<N.length;M++){var z=N[M];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,N,M){return N&&R(j.prototype,N),M&&R(j,M),j}}(),p=_(d(7)),g=_(d(1)),v=_(d(27)),b=_(d(31)),S=_(d(0)),C=d(32),A=d(33);function _(R){return R&&R.__esModule?R:{default:R}}function w(R,j){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||(typeof j=="undefined"?"undefined":u(j))!="object"&&typeof j!="function"?R:j}var k=function(R){function j(N){(function(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")})(this,j);var M=w(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));M.setLogger("danmu"),M.logger&&M.logger.info("danmu.js version: "+C.version);var z=M;if(z.config=S.default.deepCopy({overlap:!1,area:{start:0,end:1},live:!1,comments:[],direction:"r2l",needResizeObserver:!1},N),z.hideArr=[],z.domObj=new b.default,(0,p.default)(z),z.config.comments.forEach(function(U){U.duration=U.duration?U.duration:5e3,U.mode||(U.mode="scroll")}),!z.config.container||z.config.container.nodeType!==1)return z.emit("error","container id can't be empty"),w(M,!1);if(z.container=z.config.container,z.config.containerStyle){var I=z.config.containerStyle;Object.keys(I).forEach(function(U){z.container.style[U]=I[U]})}return z.live=z.config.live,z.player=z.config.player,z.direction=z.config.direction,S.default.addClass(z.container,"danmu"),z.bulletBtn=new v.default(z),z.isReady=!0,z.emit("ready"),M.logger&&M.logger.info("ready"),M.addResizeObserver(),M}return function(N,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof M=="undefined"?"undefined":u(M)));N.prototype=Object.create(M&&M.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(N,M):N.__proto__=M)}(j,R),h(j,[{key:"addResizeObserver",value:function(){var M=this;this.config.needResizeObserver&&(0,A.addObserver)(this.container,function(){M.logger&&M.logger.info("needResizeObserver"),M.resize()})}},{key:"start",value:function(){this.logger&&this.logger.info("start"),this.bulletBtn.main.start()}},{key:"pause",value:function(){this.logger&&this.logger.info("pause"),this.bulletBtn.main.pause()}},{key:"play",value:function(){this.logger&&this.logger.info("play"),this.bulletBtn.main.play()}},{key:"stop",value:function(){this.logger&&this.logger.info("stop"),this.bulletBtn.main.stop()}},{key:"clear",value:function(){this.logger&&this.logger.info("clear"),this.bulletBtn.main.clear()}},{key:"destroy",value:function(){for(var M in(0,A.unObserver)(this.container),this.logger&&this.logger.info("destroy"),this.stop(),this.bulletBtn.destroy(),this.domObj.destroy(),this)delete this[M];this.emit("destroy")}},{key:"sendComment",value:function(M){this.logger&&this.logger.info("sendComment: "+(M.txt||"[DOM Element]")),M.duration||(M.duration=15e3),M&&M.id&&M.duration&&(M.el||M.txt)&&(M.duration=M.duration?M.duration:5e3,M.style||(M.style={opacity:void 0,fontSize:void 0}),M.style&&(this.opacity&&this.opacity!==M.style.opacity&&(M.style.opacity=this.opacity),this.fontSize&&this.fontSize!==M.style.fontSize&&(M.style.fontSize=this.fontSize),this.like&&(M.like=M.like?M.like:this.like)),M.prior||M.realTime?(this.bulletBtn.main.data.unshift(M),M.realTime&&(this.bulletBtn.main.readData(),this.bulletBtn.main.dataHandle())):this.bulletBtn.main.data.push(M))}},{key:"setCommentID",value:function(M,z){var I=this;this.logger&&this.logger.info("setCommentID: oldID "+M+" newID "+z);var U=this.container.getBoundingClientRect();M&&z&&(this.bulletBtn.main.data.some(function(K){return K.id===M&&(K.id=z,!0)}),this.bulletBtn.main.queue.some(function(K){return K.id===M&&(K.id=z,K.pauseMove(U),I.bulletBtn.main.status!=="paused"&&K.startMove(U),!0)}))}},{key:"setCommentDuration",value:function(M,z){var I=this;this.logger&&this.logger.info("setCommentDuration: id "+M+" duration "+z);var U=this.container.getBoundingClientRect();M&&z&&(z=z||5e3,this.bulletBtn.main.data.some(function(K){return K.id===M&&(K.duration=z,!0)}),this.bulletBtn.main.queue.some(function(K){return K.id===M&&(K.duration=z,K.pauseMove(U),I.bulletBtn.main.status!=="paused"&&K.startMove(U),!0)}))}},{key:"setCommentLike",value:function(M,z){this.logger&&this.logger.info("setCommentLike: id "+M+" like "+z);var I=this.container.getBoundingClientRect();this.like=z,M&&z&&(this.bulletBtn.main.data.some(function(U){return U.id===M&&(U.like=z,!0)}),this.bulletBtn.main.queue.some(function(U){return U.id===M&&(U.pauseMove(I),U.setLikeDom(z.el,z.style),U.danmu.bulletBtn.main.status!=="paused"&&U.startMove(I),!0)}))}},{key:"restartComment",value:function(M){this.logger&&this.logger.info("restartComment: id "+M),this.mouseControl=!1;var z=this.container.getBoundingClientRect();M&&this.bulletBtn.main.queue.some(function(I){return I.id===M&&(I.danmu.bulletBtn.main.status!=="paused"?I.startMove(z,!0):I.status="paused",!0)})}},{key:"freezeComment",value:function(M){this.logger&&this.logger.info("freezeComment: id "+M),this.mouseControl=!0;var z=this.container.getBoundingClientRect();M&&this.bulletBtn.main.queue.some(function(I){return I.id===M&&(I.status="forcedPause",I.pauseMove(z),I.el&&I.el.style&&S.default.style(I.el,"zIndex",10),!0)})}},{key:"removeComment",value:function(M){this.logger&&this.logger.info("removeComment: id "+M),M&&(this.bulletBtn.main.queue.some(function(z){return z.id===M&&(z.remove(),!0)}),this.bulletBtn.main.data=this.bulletBtn.main.data.filter(function(z){return z.id!==M}))}},{key:"updateComments",value:function(M){var z=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];z&&(this.bulletBtn.main.data=[]),this.bulletBtn.main.data=this.bulletBtn.main.data.concat(M)}},{key:"setAllDuration",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"scroll",z=arguments[1],I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.logger&&this.logger.info("setAllDuration: mode "+M+" duration "+z+" force "+I);var U=this.container.getBoundingClientRect();z&&(z=z||5e3,I&&(this.bulletBtn.main.forceDuration=z),this.bulletBtn.main.data.forEach(function(K){M===K.mode&&(K.duration=z)}),this.bulletBtn.main.queue.forEach(function(K){M===K.mode&&(K.duration=z,K.pauseMove(U),K.danmu.bulletBtn.main.status!=="paused"&&K.startMove(U))}))}},{key:"setOpacity",value:function(M){this.logger&&this.logger.info("setOpacity: opacity "+M),this.container.style.opacity=M}},{key:"setFontSize",value:function(M,z){var I=this;this.logger&&this.logger.info("setFontSize: size "+M+" channelSize "+z),this.fontSize=M+"px",M&&(this.bulletBtn.main.data.forEach(function(U){U.style&&(U.style.fontSize=I.fontSize)}),this.bulletBtn.main.queue.forEach(function(U){U.options.style||(U.options.style={}),U.options.style.fontSize=I.fontSize,U.setFontSize(I.fontSize),z&&(U.top=U.channel_id[0]*z,U.topInit())})),z&&(this.config.channelSize=z,this.bulletBtn.main.channel.resize(!0))}},{key:"setArea",value:function(M){this.logger&&this.logger.info("setArea: area "+M),this.config.area=M,this.bulletBtn.main.channel.resize(!0)}},{key:"hide",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"scroll";this.logger&&this.logger.info("hide: mode "+M),this.hideArr.indexOf(M)<0&&this.hideArr.push(M);var z=this.bulletBtn.main.queue.filter(function(I){return M===I.mode||M==="color"&&I.color});z.forEach(function(I){return I.remove()})}},{key:"show",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"scroll";this.logger&&this.logger.info("show: mode "+M);var z=this.hideArr.indexOf(M);z>-1&&this.hideArr.splice(z,1)}},{key:"setDirection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"r2l";this.logger&&this.logger.info("setDirection: direction "+M),this.emit("changeDirection",M)}},{key:"resize",value:function(){this.logger&&this.logger.info("resize"),this.emit("channel_resize")}}]),j}(g.default);c.default=k,f.exports=c.default},function(f,c,d){var h,p,g,v,b,S,C,A=d(8),_=d(25),w=Function.prototype.apply,k=Function.prototype.call,R=Object.create,j=Object.defineProperty,N=Object.defineProperties,M=Object.prototype.hasOwnProperty,z={configurable:!0,enumerable:!1,writable:!0};p=function(U,K){var te,oe;return _(K),oe=this,h.call(this,U,te=function(){g.call(oe,U,te),w.call(K,this,arguments)}),te.__eeOnceListener__=K,this},b={on:h=function(U,K){var te;return _(K),M.call(this,"__ee__")?te=this.__ee__:(te=z.value=R(null),j(this,"__ee__",z),z.value=null),te[U]?u(te[U])=="object"?te[U].push(K):te[U]=[te[U],K]:te[U]=K,this},once:p,off:g=function(U,K){var te,oe,G,q;if(_(K),!M.call(this,"__ee__"))return this;if(!(te=this.__ee__)[U])return this;if(u(oe=te[U])=="object")for(q=0;G=oe[q];++q)G!==K&&G.__eeOnceListener__!==K||(oe.length===2?te[U]=oe[q?0:1]:oe.splice(q,1));else oe!==K&&oe.__eeOnceListener__!==K||delete te[U];return this},emit:v=function(U){var K,te,oe,G,q;if(M.call(this,"__ee__")&&(G=this.__ee__[U]))if((typeof G=="undefined"?"undefined":u(G))=="object"){for(te=arguments.length,q=new Array(te-1),K=1;K<te;++K)q[K-1]=arguments[K];for(G=G.slice(),K=0;oe=G[K];++K)w.call(oe,this,q)}else switch(arguments.length){case 1:k.call(G,this);break;case 2:k.call(G,this,arguments[1]);break;case 3:k.call(G,this,arguments[1],arguments[2]);break;default:for(te=arguments.length,q=new Array(te-1),K=1;K<te;++K)q[K-1]=arguments[K];w.call(G,this,q)}}},S={on:A(h),once:A(p),off:A(g),emit:A(v)},C=N({},S),f.exports=c=function(U){return U==null?R(C):N(Object(U),S)},c.methods=b},function(f,c,d){var h=d(3),p=d(9),g=d(13),v=d(21),b=d(22);(f.exports=function(S,C){var A,_,w,k,R;return arguments.length<2||typeof S!="string"?(k=C,C=S,S=null):k=arguments[2],h(S)?(A=b.call(S,"c"),_=b.call(S,"e"),w=b.call(S,"w")):(A=w=!0,_=!1),R={value:C,configurable:A,enumerable:_,writable:w},k?g(v(k),R):R}).gs=function(S,C,A){var _,w,k,R;return typeof S!="string"?(k=A,A=C,C=S,S=null):k=arguments[3],h(C)?p(C)?h(A)?p(A)||(k=A,A=void 0):A=void 0:(k=C,C=A=void 0):C=void 0,h(S)?(_=b.call(S,"c"),w=b.call(S,"e")):(_=!0,w=!1),R={get:C,set:A,configurable:_,enumerable:w},k?g(v(k),R):R}},function(f,c,d){var h=d(10),p=/^\s*class[\s{/}]/,g=Function.prototype.toString;f.exports=function(v){return!!h(v)&&!p.test(g.call(v))}},function(f,c,d){var h=d(11);f.exports=function(p){if(typeof p!="function"||!hasOwnProperty.call(p,"length"))return!1;try{if(typeof p.length!="number"||typeof p.call!="function"||typeof p.apply!="function")return!1}catch{return!1}return!h(p)}},function(f,c,d){var h=d(12);f.exports=function(p){if(!h(p))return!1;try{return!!p.constructor&&p.constructor.prototype===p}catch{return!1}}},function(f,c,d){var h=d(3),p={object:!0,function:!0,undefined:!0};f.exports=function(g){return!!h(g)&&hasOwnProperty.call(p,typeof g=="undefined"?"undefined":u(g))}},function(f,c,d){f.exports=d(14)()?Object.assign:d(15)},function(f,c,d){f.exports=function(){var h,p=Object.assign;return typeof p=="function"&&(p(h={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),h.foo+h.bar+h.trzy==="razdwatrzy")}},function(f,c,d){var h=d(16),p=d(20),g=Math.max;f.exports=function(v,b){var S,C,A,_=g(arguments.length,2);for(v=Object(p(v)),A=function(k){try{v[k]=b[k]}catch(R){S||(S=R)}},C=1;C<_;++C)h(b=arguments[C]).forEach(A);if(S!==void 0)throw S;return v}},function(f,c,d){f.exports=d(17)()?Object.keys:d(18)},function(f,c,d){f.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(f,c,d){var h=d(2),p=Object.keys;f.exports=function(g){return p(h(g)?Object(g):g)}},function(f,c,d){f.exports=function(){}},function(f,c,d){var h=d(2);f.exports=function(p){if(!h(p))throw new TypeError("Cannot use null or undefined");return p}},function(f,c,d){var h=d(2),p=Array.prototype.forEach,g=Object.create,v=function(S,C){var A;for(A in S)C[A]=S[A]};f.exports=function(b){var S=g(null);return p.call(arguments,function(C){h(C)&&v(Object(C),S)}),S}},function(f,c,d){f.exports=d(23)()?String.prototype.contains:d(24)},function(f,c,d){var h="razdwatrzy";f.exports=function(){return typeof h.contains=="function"&&h.contains("dwa")===!0&&h.contains("foo")===!1}},function(f,c,d){var h=String.prototype.indexOf;f.exports=function(p){return h.call(this,p,arguments[1])>-1}},function(f,c,d){f.exports=function(h){if(typeof h!="function")throw new TypeError(h+" is not a function");return h}},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function v(b,S){for(var C=0;C<S.length;C++){var A=S[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,S,C){return S&&v(b.prototype,S),C&&v(b,C),b}}(),p=typeof window!="undefined"&&window.location.href.indexOf("danmu-debug")>-1,g=function(){function v(b){(function(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")})(this,v),this.constructorName=b||""}return h(v,[{key:"info",value:function(S){for(var C,A=arguments.length,_=Array(A>1?A-1:0),w=1;w<A;w++)_[w-1]=arguments[w];p&&(C=console).log.apply(C,["[Danmu Log]["+this.constructorName+"]",S].concat(_))}}]),v}();c.default=g,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function C(A,_){for(var w=0;w<_.length;w++){var k=_[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,_,w){return _&&C(A.prototype,_),w&&C(A,w),A}}(),p=b(d(1)),g=b(d(0)),v=b(d(28));function b(C){return C&&C.__esModule?C:{default:C}}var S=function(C){function A(_){(function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")})(this,A);var w=function(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||(typeof R=="undefined"?"undefined":u(R))!="object"&&typeof R!="function"?k:R}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));return w.setLogger("control"),w.danmu=_,w.main=new v.default(_),_.config.defaultOff||w.main.start(),w}return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof w=="undefined"?"undefined":u(w)));_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}(A,C),h(A,[{key:"createSwitch",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.logger&&this.logger.info("createSwitch"),this.switchBtn=g.default.createDom("dk-switch",'<span class="txt">\u5F39</span>',{},"danmu-switch "+(w?"danmu-switch-active":"")),this.switchBtn}},{key:"destroy",value:function(){for(var w in this.logger&&this.logger.info("destroy"),this.main.destroy(),this)delete this[w]}}]),A}(p.default);c.default=S,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function A(_,w){for(var k=0;k<w.length;k++){var R=w[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,k){return w&&A(_.prototype,w),k&&A(_,k),_}}(),p=S(d(1)),g=S(d(29)),v=S(d(30)),b=S(d(0));function S(A){return A&&A.__esModule?A:{default:A}}var C=function(A){function _(w){(function(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")})(this,_);var k=function(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||(typeof N=="undefined"?"undefined":u(N))!="object"&&typeof N!="function"?j:N}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));k.setLogger("main"),k.danmu=w,k.container=w.container,k.channel=new g.default(w),k.data=[].concat(w.config.comments),k.playedData=[],k.queue=[],k.timer=null,k.retryTimer=null,k.retryStatus="normal",k.interval=w.config.interval||2e3,k.status="idle",b.default.on(w,"bullet_remove",k.updateQueue.bind(k),"destroy");var R=k;return b.default.on(k.danmu,"changeDirection",function(j){R.danmu.direction=j},"destroy"),k.nums=0,k}return function(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof k=="undefined"?"undefined":u(k)));w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}(_,A),h(_,[{key:"destroy",value:function(){for(var k in this.logger&&this.logger.info("destroy"),clearTimeout(this.dataHandleTimer),this.channel.destroy(),this.data=[],this)delete this[k]}},{key:"updateQueue",value:function(k){this.logger&&this.logger.info("updateQueue");var R=this;R.queue.some(function(j,N){return j.id===k.bullet.id&&(R.queue.splice(N,1),!0)}),R.data.some(function(j,N){return j.id===k.bullet.id&&(j.hasAttached=!1,!0)})}},{key:"init",value:function(k,R){R.logger&&R.logger.info("init"),R||(R=this),R.retryStatus="normal",R.data.sort(function(j,N){return j.start-N.start}),R.retryTimer||function j(){R.status==="closed"&&R.retryStatus==="stop"||(R.status==="playing"&&(R.readData(),R.dataHandle()),R.retryStatus==="stop"&&R.status!=="paused"||(R.dataHandleTimer=setTimeout(function(){j()},R.interval-1e3)))}()}},{key:"start",value:function(){this.logger&&this.logger.info("start"),this.status="playing",this.queue=[],this.container.innerHTML="",this.channel.resetWithCb(this.init,this)}},{key:"stop",value:function(){this.logger&&this.logger.info("stop"),this.status="closed",this.retryTimer=null,this.retryStatus="stop",this.channel.reset(),this.queue=[],this.container.innerHTML=""}},{key:"clear",value:function(){this.logger&&this.logger.info("clear"),this.channel.reset(),this.data=[],this.queue=[],this.container.innerHTML=""}},{key:"play",value:function(){var k=this;this.logger&&this.logger.info("play"),this.status="playing";var R=this.channel.channels,j=this.danmu.container.getBoundingClientRect();R&&R.length>0&&["scroll","top","bottom"].forEach(function(N){k.queue.forEach(function(z){z.startMove(j),z.resized=!0});for(var M=0;M<R.length;M++)R[M].queue[N].forEach(function(z){z.resized=!1})})}},{key:"pause",value:function(){this.logger&&this.logger.info("pause"),this.status="paused";var k=this.channel.channels,R=this.danmu.container.getBoundingClientRect();k&&k.length>0&&this.queue.forEach(function(j){j.pauseMove(R)})}},{key:"dataHandle",value:function(){var k=this;this.status!=="paused"&&this.status!=="closed"&&k.queue.length&&k.queue.forEach(function(R){R.status==="waiting"&&R.startMove(k.channel.containerPos)})}},{key:"readData",value:function(){var k=this,R=this.danmu;if(R.isReady){var j=0;R.player&&R.player.currentTime&&(j=b.default.formatTime(R.player.currentTime));var N=void 0,M=k.interval,z=k.channel,I=void 0;R.player?(I=k.data.filter(function(U){return!U.start&&k.danmu.hideArr.indexOf(U.mode)<0&&(!U.color||k.danmu.hideArr.indexOf("color")<0)&&(U.start=j),k.danmu.hideArr.indexOf(U.mode)<0&&(!U.color||k.danmu.hideArr.indexOf("color")<0)&&U.start-M<=j&&j<=U.start+M}),R.live&&(k.data=[])):(I=k.data.splice(0,1)).length===0&&(I=k.playedData.splice(0,1)),I.length>0&&I.forEach(function(U){if(k.forceDuration&&k.forceDuration!=U.duration&&(U.duration=k.forceDuration),N=new v.default(R,U),U.hasAttached){for(var K in N.detach(),N)delete N[K];N=null,U.hasAttached=!1,U.noDiscard&&(U.prior?k.data.unshift(U):k.data.push(U))}else if(N.attach(),U.hasAttached=!0,z.addBullet(N).result)k.queue.push(N),k.nums++,N.topInit();else{for(var te in N.detach(),N)delete N[te];N=null,U.hasAttached=!1,U.noDiscard&&(U.prior?k.data.unshift(U):k.data.push(U))}})}}}]),_}(p.default);c.default=C,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function S(C,A){for(var _=0;_<A.length;_++){var w=A[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,w.key,w)}}return function(C,A,_){return A&&S(C.prototype,A),_&&S(C,_),C}}(),p=v(d(1)),g=v(d(0));function v(S){return S&&S.__esModule?S:{default:S}}var b=function(S){function C(A){(function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")})(this,C);var _=function(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||(typeof R=="undefined"?"undefined":u(R))!="object"&&typeof R!="function"?k:R}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));_.setLogger("channel"),_.danmu=A,_.reset(!0);var w=_;return g.default.on(_.danmu,"bullet_remove",function(k){w.removeBullet(k.bullet)},"destroy"),_.direction=A.direction,g.default.on(_.danmu,"changeDirection",function(k){w.direction=k},"destroy"),_.containerPos=_.danmu.container.getBoundingClientRect(),_.containerWidth=_.containerPos.width,_.containerHeight=_.containerPos.height,_.containerLeft=_.containerPos.left,_.containerRight=_.containerPos.right,g.default.on(_.danmu,"channel_resize",function(){w.containerPos=w.danmu.container.getBoundingClientRect(),w.resizing||(w.containerWidth=w.containerPos.width,w.containerHeight=w.containerPos.height,w.containerLeft=w.containerPos.left,w.containerRight=w.containerPos.right,w.resize(!0))},"destroy"),_}return function(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _=="undefined"?"undefined":u(_)));A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}(C,S),h(C,[{key:"destroy",value:function(){for(var _ in this.logger&&this.logger.info("destroy"),clearTimeout(this.resizeTimer),this.channels=[],this)delete this[_]}},{key:"resize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logger&&this.logger.info("resize");var w=this.danmu.container,k=this;k.resizing||(k.resizing=!0,this.resizeTimer=setTimeout(function(){k.danmu.bulletBtn.main.data&&k.danmu.bulletBtn.main.data.forEach(function(ae){ae.bookChannelId&&(delete ae.bookChannelId,k.logger&&k.logger.info("resize\u5BFC\u81F4"+ae.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u9884\u5B9A\u53D6\u6D88"))}),k.logger&&k.logger.info("resize\u5BFC\u81F4\u6240\u6709\u8F68\u9053\u6062\u590D\u6B63\u5E38\u4F7F\u7528");var R=w.getBoundingClientRect();k.width=R.width,k.height=R.height,k.danmu.config.area&&k.danmu.config.area.start>=0&&k.danmu.config.area.end>=k.danmu.config.area.start&&(k.direction==="b2t"?k.width=k.width*(k.danmu.config.area.end-k.danmu.config.area.start):k.height=k.height*(k.danmu.config.area.end-k.danmu.config.area.start)),k.container=w;var j=k.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),N=void 0;N=k.direction==="b2t"?Math.floor(k.width/j):Math.floor(k.height/j);for(var M=[],z=0;z<N;z++)M[z]={id:z,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(k.channels&&k.channels.length<=M.length){for(var I=function(Y){M[Y]={id:Y,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(ie){k.channels[Y].queue[ie].forEach(function(he){he.el&&(M[Y].queue[ie].push(he),he.resized||(he.pauseMove(k.containerPos,_),he.danmu.bulletBtn.main.status!=="paused"&&he.startMove(k.containerPos),he.resized=!0))})}),k.channels[Y].queue.bottom.forEach(function(ie){if(ie.el){if(M[Y+M.length-k.channels.length].queue.bottom.push(ie),ie.channel_id[0]+ie.channel_id[1]-1===Y){var he=[].concat(ie.channel_id);ie.channel_id=[he[0]-k.channels.length+M.length,he[1]],ie.top=ie.channel_id[0]*j,k.danmu.config.area&&k.danmu.config.area.start&&(ie.top+=k.containerHeight*k.danmu.config.area.start),ie.topInit()}ie.resized||(ie.pauseMove(k.containerPos,_),ie.danmu.bulletBtn.main.status!=="paused"&&ie.startMove(k.containerPos),ie.resized=!0)}})},U=0;U<k.channels.length;U++)I(U);for(var K=function(Y){["scroll","top","bottom"].forEach(function(ie){M[Y].queue[ie].forEach(function(he){he.resized=!1})})},te=0;te<M.length;te++)K(te);k.channels=M,k.direction==="b2t"?k.channelWidth=j:k.channelHeight=j}else if(k.channels&&k.channels.length>M.length){for(var oe=function(Y){M[Y]={id:Y,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(ie){if(!(ie==="top"&&Y>Math.floor(M.length/2))){if(!(ie==="bottom"&&Y<=Math.floor(M.length/2))){var he=ie==="bottom"?Y-M.length+k.channels.length:Y;k.channels[he].queue[ie].forEach(function(Te,Pe){if(Te.el){if(M[Y].queue[ie].push(Te),ie==="bottom"&&Te.channel_id[0]+Te.channel_id[1]-1===he){var Ie=[].concat(Te.channel_id);Te.channel_id=[Ie[0]-k.channels.length+M.length,Ie[1]],Te.top=Te.channel_id[0]*j,k.danmu.config.area&&k.danmu.config.area.start&&(Te.top+=k.containerHeight*k.danmu.config.area.start),Te.topInit()}Te.pauseMove(k.containerPos,_),Te.danmu.bulletBtn.main.status!=="paused"&&Te.startMove(k.containerPos),Te.resized||(Te.resized=!0)}k.channels[he].queue[ie].splice(Pe,1)})}}})},G=0;G<M.length;G++)oe(G);for(var q=function(Y){["scroll","top","bottom"].forEach(function(ie){M[Y].queue[ie].forEach(function(he){he.resized=!1})})},Z=0;Z<M.length;Z++)q(Z);k.channels=M,k.direction==="b2t"?k.channelWidth=j:k.channelHeight=j}k.resizing=!1},10))}},{key:"addBullet",value:function(_){var w=this,k=this.danmu,R=this.channels,j=void 0,N=void 0,M=void 0;if(w.direction==="b2t"?(N=this.channelWidth,M=Math.ceil(_.width/N)):(j=this.channelHeight,M=Math.ceil(_.height/j)),M>R.length)return{result:!1,message:"exceed channels.length, occupy="+M+",channelsSize="+R.length};for(var z=!0,I=void 0,U=-1,K=0,te=R.length;K<te;K++)if(R[K].queue[_.mode].some(function(Ce){return Ce.id===_.id}))return{result:!1,message:"exsited, channelOrder="+K+",danmu_id="+_.id};if(_.mode==="scroll")for(var oe=0,G=R.length-M;oe<=G;oe++){z=!0;for(var q=oe;q<oe+M;q++){if((I=R[q]).operating.scroll){z=!1;break}if(I.bookId.scroll&&I.bookId.scroll!==_.id){z=!1;break}I.operating.scroll=!0;var Z=I.queue.scroll[0];if(Z){var ae=Z.el.getBoundingClientRect();if(w.direction==="b2t"){if(ae.bottom>w.containerPos.bottom){z=!1,I.operating.scroll=!1;break}}else if(ae.right>w.containerPos.right){z=!1,I.operating.scroll=!1;break}var Y,ie=void 0,he=void 0,Te=void 0,Pe=void 0;if(w.direction==="b2t"?(he=(ae.top-w.containerPos.top+ae.height)/(ie=(w.containerPos.height+ae.height)/Z.duration),Te=w.containerPos.height,Pe=(w.containerPos.height+_.height)/_.duration):(he=(ae.left-w.containerPos.left+ae.width)/(ie=(w.containerPos.width+ae.width)/Z.duration),Te=w.containerPos.width,Pe=(w.containerPos.width+_.width)/_.duration),Y=Te/Pe,k.config.bOffset||(k.config.bOffset=0),ie<Pe&&he+k.config.bOffset>Y){z=!1,I.operating.scroll=!1;break}}I.operating.scroll=!1}if(z){U=oe;break}}else if(_.mode==="top")for(var Ie=0,st=R.length-M;Ie<=st;Ie++){z=!0;for(var nt=Ie;nt<Ie+M;nt++){if(nt>Math.floor(R.length/2)){z=!1;break}if((I=R[nt]).operating[_.mode]){z=!1;break}if((I.bookId[_.mode]||_.prior)&&I.bookId[_.mode]!==_.id){z=!1;break}if(I.operating[_.mode]=!0,I.queue[_.mode].length>0){z=!1,I.operating[_.mode]=!1;break}I.operating[_.mode]=!1}if(z){U=Ie;break}}else if(_.mode==="bottom")for(var Ke=R.length-M;Ke>=0;Ke--){z=!0;for(var Je=Ke;Je<Ke+M;Je++){if(Je<=Math.floor(R.length/2)){z=!1;break}if((I=R[Je]).operating[_.mode]){z=!1;break}if((I.bookId[_.mode]||_.prior)&&I.bookId[_.mode]!==_.id){z=!1;break}if(I.operating[_.mode]=!0,I.queue[_.mode].length>0){z=!1,I.operating[_.mode]=!1;break}I.operating[_.mode]=!1}if(z){U=Ke;break}}if(U!==-1){for(var it=U,$=U+M;it<$;it++)(I=R[it]).operating[_.mode]=!0,I.queue[_.mode].unshift(_),_.prior&&(delete I.bookId[_.mode],w.logger&&w.logger.info(it+"\u53F7\u8F68\u9053\u6062\u590D\u6B63\u5E38\u4F7F\u7528")),I.operating[_.mode]=!1;return _.prior&&(w.logger&&w.logger.info(_.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u8FD0\u884C\u5B8C\u6BD5"),delete _.bookChannelId,k.player&&k.bulletBtn.main.data.some(function(Ce){return Ce.id===_.id&&(delete Ce.bookChannelId,!0)})),_.channel_id=[U,M],w.direction==="b2t"?(_.top=U*N,w.danmu.config.area&&w.danmu.config.area.start&&(_.top+=w.containerWidth*w.danmu.config.area.start)):(_.top=U*j,w.danmu.config.area&&w.danmu.config.area.start&&(_.top+=w.containerHeight*w.danmu.config.area.start)),{result:_,message:"success"}}if(_.options.realTime){var re=0,fe=-1,le=null;if(w.danmu.bulletBtn.main.queue.forEach(function(Ce,Re){!Ce.prior&&!Ce.options.realTime&&Ce.el&&Ce.el.getBoundingClientRect().left>w.containerPos.right&&Ce.start>=re&&(re=Ce.start,fe=Re,le=Ce)}),le){le.remove(),w.removeBullet(le),w.danmu.bulletBtn.main.queue.splice(fe,1),_.channel_id=le.channel_id;for(var pe=le.channel_id[0],ye=le.channel_id[0]+le.channel_id[1];pe<ye;pe++)(I=R[pe]).operating[_.mode]=!0,I.queue[_.mode].unshift(_),_.prior&&delete I.bookId[_.mode],I.operating[_.mode]=!1;return _.top=le.top,w.danmu.config.area&&w.danmu.config.area.start&&(_.top+=w.containerHeight*w.danmu.config.area.start),{result:_,message:"success"}}}if(_.prior)if(_.bookChannelId||w.danmu.live)k.player&&k.bulletBtn.main.data.some(function(Ce){return Ce.id===_.id&&(w.logger&&w.logger.info(_.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u5C06\u4E8E2\u79D2\u540E\u518D\u6B21\u8BF7\u6C42\u6CE8\u518C"),Ce.start+=2e3,!0)});else{U=-1;for(var ve=0,_e=R.length-M;ve<=_e;ve++){z=!0;for(var xe=ve;xe<ve+M;xe++)if(R[xe].bookId[_.mode]){z=!1;break}if(z){U=ve;break}}if(U!==-1){for(var ce=U;ce<U+M;ce++)R[ce].bookId[_.mode]=_.id,w.logger&&w.logger.info(ce+"\u53F7\u8F68\u9053\u88AB"+_.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u9884\u5B9A");k.player&&k.bulletBtn.main.data.some(function(Ce){return Ce.id===_.id&&(w.logger&&w.logger.info(_.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u5C06\u4E8E2\u79D2\u540E\u518D\u6B21\u8BF7\u6C42\u6CE8\u518C"),Ce.start+=2e3,Ce.bookChannelId=[U,M],w.logger&&w.logger.info(_.id+"\u53F7\u4F18\u5148\u5F39\u5E55\u9884\u5B9A\u4E86"+U+"~"+(U+M-1)+"\u53F7\u8F68\u9053"),!0)})}}return{result:!1,message:"no surplus will right"}}},{key:"removeBullet",value:function(_){this.logger&&this.logger.info("removeBullet "+(_.options.txt||"[DOM Element]"));for(var w=this.channels,k=_.channel_id,R=void 0,j=k[0],N=k[0]+k[1];j<N;j++)if(R=w[j]){R.operating[_.mode]=!0;var M=-1;R.queue[_.mode].some(function(z,I){return z.id===_.id&&(M=I,!0)}),M>-1&&R.queue[_.mode].splice(M,1),R.operating[_.mode]=!1}_.options.loop&&this.danmu.bulletBtn.main.playedData.push(_.options)}},{key:"resetArea",value:function(){this.logger&&this.logger.info("resetArea");var _=this.danmu.container,w=this,k=_.getBoundingClientRect();w.width=k.width,w.height=k.height,w.danmu.config.area&&w.danmu.config.area.start>=0&&w.danmu.config.area.end>=w.danmu.config.area.start&&(w.direction==="b2t"?w.width=w.width*(w.danmu.config.area.end-w.danmu.config.area.start):w.height=w.height*(w.danmu.config.area.end-w.danmu.config.area.start)),w.container=_;var R=w.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),j=void 0;j=w.direction==="b2t"?Math.floor(w.width/R):Math.floor(w.height/R);for(var N=[],M=0;M<j;M++)N[M]={id:M,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(w.channels&&w.channels.length<=N.length){for(var z=function(ae){N[ae]={id:ae,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(Y){w.channels[ae].queue[Y].forEach(function(ie){ie.el&&(N[ae].queue[Y].push(ie),ie.resized||(ie.pauseMove(w.containerPos,!1),ie.startMove(w.containerPos),ie.resized=!0))})}),w.channels[ae].queue.bottom.forEach(function(Y){if(Y.el){if(N[ae+N.length-w.channels.length].queue.bottom.push(Y),Y.channel_id[0]+Y.channel_id[1]-1===ae){var ie=[].concat(Y.channel_id);Y.channel_id=[ie[0]-w.channels.length+N.length,ie[1]],Y.top=Y.channel_id[0]*R,w.danmu.config.area&&w.danmu.config.area.start&&(Y.top+=w.containerHeight*w.danmu.config.area.start),Y.topInit()}Y.resized||(Y.pauseMove(w.containerPos,!1),Y.startMove(w.containerPos),Y.resized=!0)}})},I=0;I<w.channels.length;I++)z(I);for(var U=function(ae){["scroll","top","bottom"].forEach(function(Y){N[ae].queue[Y].forEach(function(ie){ie.resized=!1})})},K=0;K<N.length;K++)U(K);w.channels=N,w.direction==="b2t"?w.channelWidth=R:w.channelHeight=R}else if(w.channels&&w.channels.length>N.length){for(var te=function(ae){N[ae]={id:ae,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(Y){if(!(Y==="top"&&ae>Math.floor(N.length/2))){if(!(Y==="bottom"&&ae<=Math.floor(N.length/2))){var ie=Y==="bottom"?ae-N.length+w.channels.length:ae;w.channels[ie].queue[Y].forEach(function(he,Te){if(he.el){if(N[ae].queue[Y].push(he),Y==="bottom"&&he.channel_id[0]+he.channel_id[1]-1===ie){var Pe=[].concat(he.channel_id);he.channel_id=[Pe[0]-w.channels.length+N.length,Pe[1]],he.top=he.channel_id[0]*R,w.danmu.config.area&&w.danmu.config.area.start&&(he.top+=w.containerHeight*w.danmu.config.area.start),he.topInit()}he.resized||(he.pauseMove(w.containerPos,!1),he.startMove(w.containerPos),he.resized=!0)}w.channels[ie].queue[Y].splice(Te,1)})}}})},oe=0;oe<N.length;oe++)te(oe);for(var G=function(ae){["scroll","top","bottom"].forEach(function(Y){N[ae].queue[Y].forEach(function(ie){ie.resized=!1})})},q=0;q<N.length;q++)G(q);w.channels=N,w.direction==="b2t"?w.channelWidth=R:w.channelHeight=R}}},{key:"reset",value:function(){var _=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logger&&this.logger.info("reset");var w=this.danmu.container,k=this;function R(){var j=w.getBoundingClientRect();k.width=j.width,k.height=j.height,k.danmu.config.area&&k.danmu.config.area.start>=0&&k.danmu.config.area.end>=k.danmu.config.area.start&&(k.direction==="b2t"?k.width=k.width*(k.danmu.config.area.end-k.danmu.config.area.start):k.height=k.height*(k.danmu.config.area.end-k.danmu.config.area.start)),k.container=w;var N=k.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),M=void 0;M=k.direction==="b2t"?Math.floor(k.width/N):Math.floor(k.height/N);for(var z=[],I=0;I<M;I++)z[I]={id:I,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};k.channels=z,k.direction==="b2t"?k.channelWidth=N:k.channelHeight=N}k.danmu.bulletBtn&&k.danmu.bulletBtn.main&&k.danmu.bulletBtn.main.queue.forEach(function(j){j.pauseMove(k.containerPos),j.remove()}),k.channels&&k.channels.length>0&&["scroll","top","bottom"].forEach(function(j){for(var N=0;N<k.channels.length;N++)k.channels[N].queue[j].forEach(function(M){M.pauseMove(k.containerPos),M.remove()})}),k.danmu.bulletBtn&&k.danmu.bulletBtn.main&&k.danmu.bulletBtn.main.data&&k.danmu.bulletBtn.main.data.forEach(function(j){j.hasAttached=!1}),_?this.resetTimer=setTimeout(R,200):R()}},{key:"resetWithCb",value:function(_,w){this.logger&&this.logger.info("resetWithCb");var k=this.danmu.container,R=this;R.channels&&R.channels.length>0&&["scroll","top","bottom"].forEach(function(U){for(var K=0;K<R.channels.length;K++)R.channels[K].queue[U].forEach(function(te){te.pauseMove(R.containerPos),te.remove()})});var j=k.getBoundingClientRect();R.width=j.width,R.height=j.height,R.danmu.config.area&&R.danmu.config.area.start>=0&&R.danmu.config.area.end>=R.danmu.config.area.start&&(R.direction==="b2t"?R.width=R.width*(R.danmu.config.area.end-R.danmu.config.area.start):R.height=R.height*(R.danmu.config.area.end-R.danmu.config.area.start)),R.container=k;var N=R.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),M=void 0;M=R.direction==="b2t"?Math.floor(R.width/N):Math.floor(R.height/N);for(var z=[],I=0;I<M;I++)z[I]={id:I,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};R.channels=z,R.channelHeight=N,_&&_(!0,w)}}]),C}(p.default);c.default=b,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function S(C,A){for(var _=0;_<A.length;_++){var w=A[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,w.key,w)}}return function(C,A,_){return A&&S(C.prototype,A),_&&S(C,_),C}}(),p=v(d(1)),g=v(d(0));function v(S){return S&&S.__esModule?S:{default:S}}var b=function(S){function C(A,_){(function(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")})(this,C);var w=function(U,K){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||(typeof K=="undefined"?"undefined":u(K))!="object"&&typeof K!="function"?U:K}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));w.setLogger("bullet"),w.danmu=A,w.options=_,w.duration=_.duration,w.moveV=_.moveV,w.id=_.id,w.container=A.container,w.start=_.start,w.prior=_.prior,w.color=_.color,w.bookChannelId=_.bookChannelId,w.direction=A.direction;var k=w;w.onChangeDirection=function(U){k.direction=U},w.danmu.on("changeDirection",w.onChangeDirection);var R=void 0;if(w.domObj=A.domObj,_.el&&_.el.nodeType===1){R=w.domObj.use();var j=g.default.copyDom(_.el);_.eventListeners&&_.eventListeners.length>0&&_.eventListeners.forEach(function(U){j.addEventListener(U.event,U.listener,U.useCapture||!1)}),R.appendChild(j)}else(R=w.domObj.use()).textContent=_.txt;if(_.style){var N=_.style;Object.keys(N).forEach(function(U){g.default.style(R,U,N[U])})}_.mode==="top"||_.mode==="bottom"?w.mode=_.mode:w.mode="scroll",w.el=R,_.like&&_.like.el&&w.setLikeDom(_.like.el,_.like.style),w.status="waiting";var M=w.container.getBoundingClientRect(),z=Math.floor(Math.random()*(M.width/10>100?200:M.width/10));_.realTime&&(z=0);var I=M.width+z+"px";return g.default.style(w.el,"left",I),w.containerPos=M,w}return function(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _=="undefined"?"undefined":u(_)));A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}(C,S),h(C,[{key:"attach",value:function(){if(this.container.appendChild(this.el),this.elPos=this.el.getBoundingClientRect(),this.direction==="b2t"?(this.width=this.elPos.height,this.height=this.elPos.width):(this.width=this.elPos.width,this.height=this.elPos.height),this.moveV){var _=this.containerPos;this.duration=(_.width+this.width)/this.moveV*1e3}this.danmu.config&&this.danmu.config.mouseControl&&(this.mouseoverFunWrapper=this.mouseoverFun.bind(this),this.el.addEventListener("mouseover",this.mouseoverFunWrapper,!1)),this.danmu.config&&this.danmu.config.mouseEnterControl&&(this.mouseEnterFunWrapper=this.mouseoverFun.bind(this),this.el.addEventListener("mouseenter",this.mouseEnterFunWrapper,!1))}},{key:"mouseoverFun",value:function(_){this.danmu&&this.danmu.mouseControl&&this.danmu.config.mouseControlPause||this.status==="waiting"||this.status==="end"||this.danmu&&this.danmu.emit("bullet_hover",{bullet:this,event:_})}},{key:"detach",value:function(){this.el&&(this.danmu.config&&this.danmu.config.mouseControl&&this.el.removeEventListener("mouseover",this.mouseoverFunWrapper,!1),this.danmu.config&&this.danmu.config.mouseEnterControl&&this.el.removeEventListener("mouseenter",this.mouseEnterFunWrapper,!1),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.domObj.unuse(this.el),this.el=null),this.danmu.off("changeDirection",this.onChangeDirection)}},{key:"topInit",value:function(){if(this.logger&&this.logger.info("topInit #"+(this.options.txt||"[DOM Element]")+"#"),this.direction==="b2t"){var _=this.containerPos;g.default.style(this.el,"transformOrigin","left top"),g.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+_.height+"px) translateZ(0px) rotate(90deg)"),g.default.style(this.el,"transition","transform 0s linear 0s")}else g.default.style(this.el,"top",this.top+"px")}},{key:"pauseMove",value:function(_){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.logger&&this.logger.info("pauseMove #"+(this.options.txt||"[DOM Element]")+"#");var k=this;if(this.status!=="paused"&&(k.status!=="forcedPause"&&(this.status="paused"),clearTimeout(k.removeTimer),this.el))if(g.default.style(this.el,"willChange","auto"),this.mode==="scroll"){if(w){var R=(new Date().getTime()-k.moveTime)/1e3,j=R*this.moveV,N=0;N=k.moveMoreS-j>=0?this.direction==="b2t"?(k.moveMoreS-j)/k.moveContainerHeight*_.height:(k.moveMoreS-j)/k.moveContainerWidth*_.width:k.moveMoreS-j,this.direction==="b2t"?g.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+N+"px) translateZ(0px) rotate(90deg)"):g.default.style(this.el,"left",N+"px")}else this.direction==="b2t"?g.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+(this.el.getBoundingClientRect().top-_.top)+"px) translateZ(0px) rotate(90deg)"):g.default.style(this.el,"left",this.el.getBoundingClientRect().left-_.left+"px");this.direction==="b2t"||g.default.style(this.el,"transform","translateX(0px) translateY(0px) translateZ(0px)"),g.default.style(this.el,"transition","transform 0s linear 0s")}else this.pastDuration&&this.startTime?this.pastDuration=this.pastDuration+new Date().getTime()-this.startTime:this.pastDuration=1}},{key:"startMove",value:function(_,w){this.logger&&this.logger.info("startMove #"+(this.options.txt||"[DOM Element]")+"#");var k=this;if(k.hasMove||(k.danmu.emit("bullet_start",k),k.hasMove=!0),(k.status!=="forcedPause"||w)&&this.el&&this.status!=="start")if(this.status="start",g.default.style(this.el,"willChange","transform"),this.mode==="scroll")if(this.direction==="b2t"){this.moveV=(_.height+this.height)/this.duration*1e3;var R=(k.el.getBoundingClientRect().bottom-_.top)/this.moveV;g.default.style(this.el,"transition","transform "+R+"s linear 0s"),this.startMoveTimer=setTimeout(function(){k.el&&(g.default.style(k.el,"transform","translateX(-"+k.top+"px) translateY(-"+k.height+"px) translateZ(0px) rotate(90deg)"),k.moveTime=new Date().getTime(),k.moveMoreS=k.el.getBoundingClientRect().top-_.top,k.moveContainerHeight=_.height,k.removeTimer=setTimeout(z,1e3*R))},20)}else{var j=this.el.getBoundingClientRect();this.moveV=(_.width+this.width)/this.duration*1e3;var N=(j.right-_.left)/this.moveV;g.default.style(this.el,"transition","transform "+N+"s linear 0s"),this.startMoveTimer=setTimeout(function(){if(k.el){var I=k.el.getBoundingClientRect(),U=(I.right-_.left)/N;I.right>_.left&&U>k.moveV-1&&U<k.moveV+1?(g.default.style(k.el,"transform","translateX(-"+(I.right-_.left)+"px) translateY(0px) translateZ(0px)"),k.moveTime=new Date().getTime(),k.moveMoreS=I.left-_.left,k.moveContainerWidth=_.width,k.removeTimer=setTimeout(z,1e3*N)):(k.status="end",k.remove())}},0)}else{g.default.style(this.el,"left","50%"),g.default.style(this.el,"margin","0 0 0 -"+this.width/2+"px"),this.pastDuration||(this.pastDuration=1);var M=this.duration>=this.pastDuration?this.duration-this.pastDuration:0;this.removeTimer=setTimeout(z,M),this.startTime=new Date().getTime()}function z(){if(k.el)if(k.mode==="scroll"){var I=k.containerPos,U=k.el.getBoundingClientRect();k.direction==="b2t"?U&&U.bottom<=I.top+100?(k.status="end",k.remove()):(k.pauseMove(I),k.danmu.bulletBtn.main.status!=="paused"&&k.startMove(I)):U&&U.right<=I.left+100?(k.status="end",k.remove()):(k.pauseMove(I),k.danmu.bulletBtn.main.status!=="paused"&&k.startMove(I))}else k.status="end",k.remove()}}},{key:"remove",value:function(){this.logger&&this.logger.info("remove #"+(this.options.txt||"[DOM Element]")+"#"),this.removeTimer&&clearTimeout(this.removeTimer),this.startMoveTimer&&clearTimeout(this.startMoveTimer),this.el&&this.el.parentNode&&(g.default.style(this.el,"willChange","auto"),this.detach(),this.danmu.emit("bullet_remove",{bullet:this}))}},{key:"setFontSize",value:function(_){this.el&&(this.el.style.fontSize=_)}},{key:"setLikeDom",value:function(_,w){if(_&&(Object.keys(w).forEach(function(R){_.style[R]=w[R]}),_.className="danmu-like",this.el)){var k=this.el.querySelector(".danmu-like");k&&this.el.removeChild(k),this.el.innerHTML=""+this.el.innerHTML+_.outerHTML}return _}}]),C}(p.default);c.default=b,f.exports=c.default},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h,p=function(){function S(C,A){for(var _=0;_<A.length;_++){var w=A[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,w.key,w)}}return function(C,A,_){return A&&S(C.prototype,A),_&&S(C,_),C}}(),g=d(0),v=(h=g)&&h.__esModule?h:{default:h},b=function(){function S(C){(function(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")})(this,S),C={initDOM:function(){return document.createElement("div")},initSize:10},this.init(C)}return p(S,[{key:"init",value:function(A){this.idleList=[],this.usingList=[],this._id=0,this.options=A,this._expand(A.initSize)}},{key:"use",value:function(){this.idleList.length||this._expand(1);var A=this.idleList.shift();return this.usingList.push(A),A}},{key:"unuse",value:function(A){var _=this.usingList.indexOf(A);_<0||(this.usingList.splice(_,1),A.innerHTML="",A.textcontent="",this.clearElementStyle(A),this.idleList.push(A))}},{key:"_expand",value:function(A){for(var _=0;_<A;_++)this.idleList.push(this.options.initDOM(this._id++))}},{key:"destroy",value:function(){for(var A=0;A<this.idleList.length;A++)this.idleList[A].innerHTML="",this.idleList[A].textcontent="",this.clearElementStyle(this.idleList[A]);for(var _=0;_<this.usingList.length;_++)this.usingList[_].innerHTML="",this.usingList[_].textcontent="",this.clearElementStyle(this.usingList[_]);for(var w in this)delete this[w]}},{key:"clearElementStyle",value:function(A){var _=typeof window!="undefined"?window.navigator.userAgent:null;_&&(_.indexOf("MSIE ")>-1||_.indexOf("Trident/")>-1?v.default.style(A,"transform","none"):A.setAttribute("style",""))}}]),S}();c.default=b,f.exports=c.default},function(f){f.exports=JSON.parse('{"version":"0.5.10"}')},function(f,c,d){Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function g(v,b){for(var S=0;S<b.length;S++){var C=b[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,b,S){return b&&g(v.prototype,b),S&&g(v,S),v}}(),p=new(function(){function g(){var v=this;if(function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,g),this.__handlers=[],window.ResizeObserver)try{this.observer=new window.ResizeObserver(function(b){var S=new Date().getTime();S-v.timeStampe<200||(v.timeStampe=S,v.__trigger(b))}),this.timeStampe=new Date().getTime()}catch{}}return h(g,[{key:"addObserver",value:function(b,S){if(this.observer){this.observer&&this.observer.observe(b);for(var C=this.__handlers,A=-1,_=0;_<C.length;_++)C[_]&&b===C[_].target&&(A=_);A>-1?this.__handlers[A].handler.push(S):this.__handlers.push({target:b,handler:[S]})}}},{key:"unObserver",value:function(b){var S=-1;this.__handlers.map(function(C,A){b===C.target&&(S=A)}),this.observer&&this.observer.unobserve(b),S>-1&&this.__handlers.splice(S,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(b){for(var S=this.__handlers,C=0;C<S.length;C++)if(S[C]&&b===S[C].target){S[C].handler&&S[C].handler.map(function(A){try{A()}catch(_){console.error(_)}});break}}},{key:"__trigger",value:function(b){var S=this;b.map(function(C){S.__runHandler(C.target)})}}]),g}());c.addObserver=function(g,v){p.addObserver(g,v)},c.unObserver=function(g,v){p.unObserver(g,v)},c.destroyObserver=function(g,v){p.destroyObserver(g,v)}},function(f,c,d){var h=d(35);typeof h=="string"&&(h=[[f.i,h,""]]);var p={hmr:!0,transform:void 0,insertInto:void 0};d(37)(h,p),h.locals&&(f.exports=h.locals)},function(f,c,d){(f.exports=d(36)(!1)).push([f.i,`.danmu{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.danmu>*{position:absolute;white-space:nowrap}.danmu-switch{width:32px;height:20px;border-radius:100px;background-color:#ccc;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;cursor:pointer;position:relative;text-align:center;margin:10px auto}.danmu-switch.danmu-switch-active{padding-left:12px;background-color:#f85959}.danmu-switch span.txt{width:20px;height:20px;line-height:20px;text-align:center;display:block;border-radius:100px;background-color:#ffffff;-webkit-box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);font-family:PingFangSC;font-size:10px;font-weight:500;color:#f44336}
`,""])},function(f,c){f.exports=function(d){var h=[];return h.toString=function(){return this.map(function(p){var g=function(v,b){var S=v[1]||"",C=v[3];if(!C)return S;if(b&&typeof btoa=="function"){var A=(w=C,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(w))))+" */"),_=C.sources.map(function(k){return"/*# sourceURL="+C.sourceRoot+k+" */"});return[S].concat(_).concat([A]).join(`
`)}var w;return[S].join(`
`)}(p,d);return p[2]?"@media "+p[2]+"{"+g+"}":g}).join("")},h.i=function(p,g){typeof p=="string"&&(p=[[null,p,""]]);for(var v={},b=0;b<this.length;b++){var S=this[b][0];typeof S=="number"&&(v[S]=!0)}for(b=0;b<p.length;b++){var C=p[b];typeof C[0]=="number"&&v[C[0]]||(g&&!C[2]?C[2]=g:g&&(C[2]="("+C[2]+") and ("+g+")"),h.push(C))}},h}},function(f,c,d){var h,p,g={},v=(h=function(){return window&&document&&document.all&&!window.atob},function(){return p===void 0&&(p=h.apply(this,arguments)),p}),b=function(Z){return document.querySelector(Z)},S=function(q){var Z={};return function(ae){if(typeof ae=="function")return ae();if(Z[ae]===void 0){var Y=b.call(this,ae);if(window.HTMLIFrameElement&&Y instanceof window.HTMLIFrameElement)try{Y=Y.contentDocument.head}catch{Y=null}Z[ae]=Y}return Z[ae]}}(),C=null,A=0,_=[],w=d(38);function k(q,Z){for(var ae=0;ae<q.length;ae++){var Y=q[ae],ie=g[Y.id];if(ie){ie.refs++;for(var he=0;he<ie.parts.length;he++)ie.parts[he](Y.parts[he]);for(;he<Y.parts.length;he++)ie.parts.push(I(Y.parts[he],Z))}else{var Te=[];for(he=0;he<Y.parts.length;he++)Te.push(I(Y.parts[he],Z));g[Y.id]={id:Y.id,refs:1,parts:Te}}}}function R(q,Z){for(var ae=[],Y={},ie=0;ie<q.length;ie++){var he=q[ie],Te=Z.base?he[0]+Z.base:he[0],Pe={css:he[1],media:he[2],sourceMap:he[3]};Y[Te]?Y[Te].parts.push(Pe):ae.push(Y[Te]={id:Te,parts:[Pe]})}return ae}function j(q,Z){var ae=S(q.insertInto);if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var Y=_[_.length-1];if(q.insertAt==="top")Y?Y.nextSibling?ae.insertBefore(Z,Y.nextSibling):ae.appendChild(Z):ae.insertBefore(Z,ae.firstChild),_.push(Z);else if(q.insertAt==="bottom")ae.appendChild(Z);else{if(u(q.insertAt)!="object"||!q.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var ie=S(q.insertInto+" "+q.insertAt.before);ae.insertBefore(Z,ie)}}function N(q){if(q.parentNode===null)return!1;q.parentNode.removeChild(q);var Z=_.indexOf(q);Z>=0&&_.splice(Z,1)}function M(q){var Z=document.createElement("style");return q.attrs.type===void 0&&(q.attrs.type="text/css"),z(Z,q.attrs),j(q,Z),Z}function z(q,Z){Object.keys(Z).forEach(function(ae){q.setAttribute(ae,Z[ae])})}function I(q,Z){var ae,Y,ie,he;if(Z.transform&&q.css){if(!(he=Z.transform(q.css)))return function(){};q.css=he}if(Z.singleton){var Te=A++;ae=C||(C=M(Z)),Y=te.bind(null,ae,Te,!1),ie=te.bind(null,ae,Te,!0)}else q.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(ae=function(Pe){var Ie=document.createElement("link");return Pe.attrs.type===void 0&&(Pe.attrs.type="text/css"),Pe.attrs.rel="stylesheet",z(Ie,Pe.attrs),j(Pe,Ie),Ie}(Z),Y=G.bind(null,ae,Z),ie=function(){N(ae),ae.href&&URL.revokeObjectURL(ae.href)}):(ae=M(Z),Y=oe.bind(null,ae),ie=function(){N(ae)});return Y(q),function(Pe){if(Pe){if(Pe.css===q.css&&Pe.media===q.media&&Pe.sourceMap===q.sourceMap)return;Y(q=Pe)}else ie()}}f.exports=function(q,Z){if(typeof DEBUG!="undefined"&&DEBUG&&(typeof document=="undefined"?"undefined":u(document))!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(Z=Z||{}).attrs=u(Z.attrs)=="object"?Z.attrs:{},Z.singleton||typeof Z.singleton=="boolean"||(Z.singleton=v()),Z.insertInto||(Z.insertInto="head"),Z.insertAt||(Z.insertAt="bottom");var ae=R(q,Z);return k(ae,Z),function(Y){for(var ie=[],he=0;he<ae.length;he++){var Te=ae[he];(Pe=g[Te.id]).refs--,ie.push(Pe)}for(Y&&k(R(Y,Z),Z),he=0;he<ie.length;he++){var Pe;if((Pe=ie[he]).refs===0){for(var Ie=0;Ie<Pe.parts.length;Ie++)Pe.parts[Ie]();delete g[Pe.id]}}}};var U,K=(U=[],function(q,Z){return U[q]=Z,U.filter(Boolean).join(`
`)});function te(q,Z,ae,Y){var ie=ae?"":Y.css;if(q.styleSheet)q.styleSheet.cssText=K(Z,ie);else{var he=document.createTextNode(ie),Te=q.childNodes;Te[Z]&&q.removeChild(Te[Z]),Te.length?q.insertBefore(he,Te[Z]):q.appendChild(he)}}function oe(q,Z){var ae=Z.css,Y=Z.media;if(Y&&q.setAttribute("media",Y),q.styleSheet)q.styleSheet.cssText=ae;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(ae))}}function G(q,Z,ae){var Y=ae.css,ie=ae.sourceMap,he=Z.convertToAbsoluteUrls===void 0&&ie;(Z.convertToAbsoluteUrls||he)&&(Y=w(Y)),ie&&(Y+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ie))))+" */");var Te=new Blob([Y],{type:"text/css"}),Pe=q.href;q.href=URL.createObjectURL(Te),Pe&&URL.revokeObjectURL(Pe)}},function(f,c){f.exports=function(d){var h=typeof window!="undefined"&&window.location;if(!h)throw new Error("fixUrls requires window.location");if(!d||typeof d!="string")return d;var p=h.protocol+"//"+h.host,g=p+h.pathname.replace(/\/[^\/]*$/,"/");return d.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(v,b){var S,C=b.trim().replace(/^"(.*)"$/,function(A,_){return _}).replace(/^'(.*)'$/,function(A,_){return _});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(C)?v:(S=C.indexOf("//")===0?C:C.indexOf("/")===0?p+C:g+C.replace(/^\.\//,""),"url("+JSON.stringify(S)+")")})}}])})}).call(this,e(135)(r))},function(r,i){r.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40">
  <path fill="#f85959" transform="scale(0.8 0.8)" d="M36.5,18.73a1.19,1.19,0,0,0,1-1.14V16.33a1.2,1.2,0,0,0-1-1.13l-.61-.08a1.75,1.75,0,0,1-1.3-.86l-.21-.36-.2-.36A1.72,1.72,0,0,1,34,12l.23-.58a1.18,1.18,0,0,0-.5-1.42l-1.1-.62a1.18,1.18,0,0,0-1.47.3l-.39.51a1.82,1.82,0,0,1-1.41.72c-.44,0-1.88-.27-2.22-.7l-.39-.49a1.18,1.18,0,0,0-1.48-.28l-1.09.64a1.19,1.19,0,0,0-.47,1.43l.25.59a1.87,1.87,0,0,1-.08,1.58c-.26.37-1.17,1.5-1.71,1.58l-.63.09a1.19,1.19,0,0,0-1,1.14l0,1.27a1.17,1.17,0,0,0,1,1.12l.61.08a1.74,1.74,0,0,1,1.3.87l.21.36.2.35A1.69,1.69,0,0,1,24,22.08l-.23.59a1.19,1.19,0,0,0,.5,1.42l1.1.62a1.19,1.19,0,0,0,1.48-.31l.38-.5a1.83,1.83,0,0,1,1.41-.72c.44,0,1.88.25,2.22.69l.39.49a1.18,1.18,0,0,0,1.48.28L33.86,24a1.19,1.19,0,0,0,.47-1.43L34.09,22a1.84,1.84,0,0,1,.07-1.58c.26-.37,1.17-1.5,1.72-1.58ZM31,18.94a2.76,2.76,0,0,1-4.65-1.2A2.71,2.71,0,0,1,27,15.13a2.76,2.76,0,0,1,4.64,1.2A2.7,2.7,0,0,1,31,18.94Z"/>
  <path fill="#f85959" transform="scale(0.8 0.8)" d="M32,0H3.59A3.59,3.59,0,0,0,0,3.59v17A3.59,3.59,0,0,0,3.59,24.2H19.72a12.59,12.59,0,0,1-.81-1.2A11.73,11.73,0,0,1,35.54,7.28V3.59A3.59,3.59,0,0,0,32,0ZM13,14.18H4.29a1.52,1.52,0,0,1,0-3H13a1.52,1.52,0,0,1,0,3ZM16.45,8H4.29a1.51,1.51,0,0,1,0-3H16.45a1.51,1.51,0,1,1,0,3Z"/>
</svg>
`},function(r,i,e){var n=e(138);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .danmu-switch{-webkit-order:6;-moz-box-ordinal-group:7;order:6;z-index:26}.xgplayer-skin-default .xgplayer-danmu{display:none;position:absolute;top:0;left:0;right:0;height:100%;overflow:hidden;z-index:9;outline:none}.xgplayer-skin-default .xgplayer-danmu>*{position:absolute;white-space:nowrap;z-index:9}.xgplayer-skin-default .xgplayer-danmu.xgplayer-has-danmu{display:block}.xgplayer-skin-default .xgplayer-panel{outline:none;-webkit-order:7;-moz-box-ordinal-group:8;order:7;width:40px;height:40px;display:inline-block;position:relative;font-family:PingFangSC-Regular;font-size:13px;color:hsla(0,0%,100%,.8);z-index:36}.xgplayer-skin-default .xgplayer-panel .xgplayer-panel-icon{cursor:pointer;position:absolute;margin-left:5px;top:10px}.xgplayer-skin-default .xgplayer-panel-active{display:block!important;bottom:30px}.xgplayer-skin-default .xgplayer-panel-slider{z-index:36;display:none;position:absolute;width:230px;height:230px;background:rgba(0,0,0,.54);border-radius:1px;padding:10px 20px;outline:none;left:-115px;bottom:40px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode{padding-bottom:10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode-radio li{display:inline;list-style:none;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode ul{display:-webkit-flex;display:-moz-box;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode li{margin:0 12px;font-size:11px;color:#aaa}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode-font{margin-bottom:10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency{display:block;margin-top:10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-line{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;outline:none;width:150px;height:4px;background:#aaa;border-radius:4px;border-style:none;margin-left:10px;margin-top:-2px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-line::-moz-focus-outer{border:0!important}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-webkit-slider-runnable-track{outline:none;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-moz-range-track{outline:none;background-color:#aaa;border-color:transparent;cursor:pointer;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-ms-track{outline:none;background-color:#aaa;color:transparent;border-color:transparent;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-webkit-slider-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;margin-top:-4px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-moz-range-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:0;width:0;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-ms-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-moz-range-progress{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:4px;border-radius:4px;background:linear-gradient(90deg,#f85959,#f85959 100%,#aaa)}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea{display:block;margin-top:8px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-name{display:inline-block;position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control{display:inline-block}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-up{width:150px;margin-left:10px;display:-moz-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between;color:#aaa}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-down{position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-down-dots{display:-webkit-flex;display:-moz-box;display:flex;width:150px;margin-left:10px;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-threequarters,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-twoquarters{margin-left:-6px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-full{margin-right:3px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-line{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;outline:none;width:150px;height:4px;background:#aaa;border-radius:4px;border-style:none;margin-left:10px;margin-top:-2px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-line::-moz-focus-outer{border:0!important}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-webkit-slider-runnable-track{outline:none;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-moz-range-track{outline:none;background-color:#aaa;border-color:transparent;cursor:pointer;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-ms-track{outline:none;background-color:#aaa;color:transparent;border-color:transparent;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-webkit-slider-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;margin-top:-4px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-moz-range-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:0;width:0;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-ms-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-full-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-onequarters-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-threequarters-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-twoquarters-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-zero-dot{width:3px;height:3px;border:3px solid #aaa;border-radius:50%;background-color:#aaa;position:relative;top:16px;z-index:-1}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed{display:block}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-name{display:inline-block;position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control{display:inline-block}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-up{width:150px;margin-left:10px;display:-moz-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between;color:#aaa}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-down{position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-down-dots{display:-webkit-flex;display:-moz-box;display:flex;width:150px;margin-left:10px;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-line{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;outline:none;width:150px;height:4px;background:#aaa;border-radius:4px;border-style:none;margin-left:10px;margin-top:-2px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-line::-moz-focus-outer{border:0!important}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-webkit-slider-runnable-track{outline:none;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-moz-range-track{outline:none;background-color:#aaa;border-color:transparent;cursor:pointer;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-ms-track{outline:none;background-color:#aaa;color:transparent;border-color:transparent;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-webkit-slider-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;margin-top:-4px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-moz-range-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:0;width:0;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-ms-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-large-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-middle-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-small-dot{width:3px;height:3px;border:3px solid #aaa;border-radius:50%;background-color:#aaa;position:relative;top:16px;z-index:-1}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont{display:block}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-name{display:inline-block;position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control{display:inline-block}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-up{width:150px;margin-left:10px;display:-moz-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between;color:#aaa}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-down{position:relative;top:-10px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-down-dots{display:-webkit-flex;display:-moz-box;display:flex;width:150px;margin-left:10px;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-line{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;outline:none;width:150px;height:4px;background:#aaa;border-radius:4px;border-style:none;margin-left:10px;margin-top:-2px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-line::-moz-focus-outer{border:0!important}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-webkit-slider-runnable-track{outline:none;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-moz-range-track{outline:none;background-color:#aaa;border-color:transparent;cursor:pointer;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-ms-track{outline:none;background-color:#aaa;color:transparent;border-color:transparent;width:150px;height:4px;border-radius:4px}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-webkit-slider-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;margin-top:-4px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-moz-range-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:0;width:0;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-ms-thumb{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:6px solid #f85959;height:6px;width:6px;border-radius:6px;cursor:pointer}.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-large-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-middle-dot,.xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-small-dot{width:3px;height:3px;border:3px solid #aaa;border-radius:50%;background-color:#aaa;position:relative;top:16px;z-index:-1}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(140);var s=function(){var l=this;if(!(!l.config.pip||typeof l.video.requestPictureInPicture!="function")){var u=l.lang.PIP,f=(0,n.createDom)("xg-pip",'<p class="name"><span>'+u+"</span></p>",{tabindex:9},"xgplayer-pip");l.once("ready",function(){l.controls.appendChild(f)}),["click","touchend"].forEach(function(c){f.addEventListener(c,function(d){d.preventDefault(),d.stopPropagation(),l.userGestureTrigEvent("pipBtnClick")})})}};i.default={name:"s_pip",method:s},r.exports=i.default},function(r,i,e){var n=e(141);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-pip{-webkit-order:9;-moz-box-ordinal-group:10;order:9;position:relative;outline:none;display:block;cursor:pointer;height:20px;top:10px}.xgplayer-skin-default .xgplayer-pip .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-skin-default .xgplayer-pip .name span{width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.lang-is-jp .xgplayer-pip .name span{width:70px;height:20px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(143);var s=function(){var l=this;if(!!l.config.miniplayer){var u=l.lang.MINIPLAYER,f=(0,n.createDom)("xg-miniplayer",'<p class="name"><span>'+u+"</span></p>",{tabindex:9},"xgplayer-miniplayer");l.once("ready",function(){l.controls.appendChild(f)}),["click","touchend"].forEach(function(c){f.addEventListener(c,function(d){d.preventDefault(),d.stopPropagation(),l.userGestureTrigEvent("miniplayerBtnClick")})})}};i.default={name:"s_miniplayer",method:s},r.exports=i.default},function(r,i,e){var n=e(144);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-miniplayer{-webkit-order:9;-moz-box-ordinal-group:10;order:9;position:relative;outline:none;display:block;cursor:pointer;height:20px;top:10px}.xgplayer-skin-default .xgplayer-miniplayer .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-skin-default .xgplayer-miniplayer .name span{width:80px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-skin-default .xgplayer-miniplayer-lay{position:absolute;top:26px;left:0;width:100%;height:100%;z-index:130;cursor:pointer;background-color:transparent;display:none}.xgplayer-skin-default .xgplayer-miniplayer-lay div{width:100%;height:100%}.xgplayer-skin-default .xgplayer-miniplayer-drag{cursor:move;position:absolute;top:0;left:0;width:100%;height:26px;line-height:26px;background-image:linear-gradient(rgba(0,0,0,.3),transparent);z-index:130;display:none}.xgplayer-skin-default .xgplayer-miniplayer-drag .drag-handle{width:100%}.xgplayer-skin-default.xgplayer-miniplayer-active{position:fixed;right:0;bottom:200px;width:320px;height:180px;z-index:110}.xgplayer-skin-default.xgplayer-miniplayer-active .xgplayer-controls,.xgplayer-skin-default.xgplayer-miniplayer-active .xgplayer-danmu{display:none}.xgplayer-skin-default.xgplayer-miniplayer-active .xgplayer-miniplayer-lay{display:block}.xgplayer-skin-default.xgplayer-miniplayer-active .xgplayer-miniplayer-drag{display:-webkit-flex;display:-moz-box;display:flex}.xgplayer-skin-default.xgplayer-inactive .xgplayer-miniplayer-drag{display:none}.lang-is-jp .xgplayer-miniplayer .name span{width:70px;height:20px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(146),o=l(s);e(147);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this,d=c.config.playNext;if(!d||!d.urlList)return;var h=(0,n.createDom)("xg-playnext",'<xg-icon class="xgplayer-icon">'+o.default+"</xg-icon>",{},"xgplayer-playnext"),p=c.lang.PLAYNEXT_TIPS,g=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-playnext">'+p+"</span>",{},"xgplayer-tips");h.appendChild(g),c.once("ready",function(){c.controls.appendChild(h)}),["click","touchend"].forEach(function(S){h.addEventListener(S,function(C){C.preventDefault(),C.stopPropagation(),(0,n.addClass)(c.root,"xgplayer-is-enter"),c.userGestureTrigEvent("playNextBtnClick")})});var v=function(){(0,n.addClass)(c.root,"xgplayer-playnext-inactive")};c.on("urlListEnd",v);function b(){c.off("urlListEnd",v),c.off("destroy",b)}c.once("destroy",b)};i.default={name:"s_playNext",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`},function(r,i,e){var n=e(148);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-playnext{position:relative;-webkit-order:1;-moz-box-ordinal-group:2;order:1;display:block;cursor:pointer;top:-2px}.xgplayer-skin-default .xgplayer-playnext .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext{display:block}.xgplayer-skin-default .xgplayer-playnext:hover{opacity:.85}.xgplayer-skin-default .xgplayer-playnext:hover .xgplayer-tips{display:block}.xgplayer-lang-is-en .xgplayer-playnext .xgplayer-tips{margin-left:-25px}.xgplayer-lang-is-jp .xgplayer-playnext .xgplayer-tips{margin-left:-38px}.xgplayer-skin-default.xgplayer-playnext-inactive .xgplayer-playnext{display:none}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(150),o=l(s);e(151);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this;if(!!c.config.rotate){var d=(0,n.createDom)("xg-rotate",'<xg-icon class="xgplayer-icon">'+o.default+"</xg-icon>",{},"xgplayer-rotate"),h=c.lang.ROTATE_TIPS,p=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-rotate">'+h+"</span>",{},"xgplayer-tips");d.appendChild(p),c.once("ready",function(){c.controls.appendChild(d)}),["click","touchend"].forEach(function(g){d.addEventListener(g,function(v){v.preventDefault(),v.stopPropagation(),c.userGestureTrigEvent("rotateBtnClick")})})}};i.default={name:"s_rotate",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 40 40" fill="none">
  <g clip-path="url(#clip0)">
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0">
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`},function(r,i,e){var n=e(152);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-rotate{position:relative;-webkit-order:10;-moz-box-ordinal-group:11;order:10;display:block;cursor:pointer}.xgplayer-skin-default .xgplayer-rotate .xgplayer-icon{margin-top:7px;width:26px}.xgplayer-skin-default .xgplayer-rotate .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-rotate .xgplayer-tips{margin-left:-22px}.xgplayer-skin-default .xgplayer-rotate .xgplayer-tips .xgplayer-tip-rotate{display:block}.xgplayer-skin-default .xgplayer-rotate:hover{opacity:.85}.xgplayer-skin-default .xgplayer-rotate:hover .xgplayer-tips{display:block}.xgplayer-lang-is-en .xgplayer-rotate .xgplayer-tips{margin-left:-26px}.xgplayer-lang-is-jp .xgplayer-rotate .xgplayer-tips{margin-left:-38px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(154),o=l(s);e(155);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this;if(!!c.config.reload){var d=(0,n.createDom)("xg-reload",'<xg-icon class="xgplayer-icon">'+o.default+"</xg-icon>",{},"xgplayer-reload"),h=c.lang.RELOAD_TIPS,p=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-reload">'+h+"</span>",{},"xgplayer-tips");d.appendChild(p),c.once("ready",function(){c.controls.appendChild(d)}),["click","touchend"].forEach(function(g){d.addEventListener(g,function(v){v.preventDefault(),v.stopPropagation(),c.userGestureTrigEvent("reloadBtnClick")})})}};i.default={name:"s_reload",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
    <path fill="#FFF" fill-opacity="1" fill-rule="nonzero" d="M18.17 19.988a7.182 7.182 0 0 1-4.256 1.318 7.806 7.806 0 0 1-.595-.03c-.08-.008-.16-.021-.242-.031a8.004 8.004 0 0 1-.458-.071c-.094-.018-.185-.042-.276-.063a7.743 7.743 0 0 1-.439-.113c-.068-.022-.136-.047-.205-.07a7.03 7.03 0 0 1-.492-.181c-.037-.015-.072-.032-.108-.049a7.295 7.295 0 0 1-.554-.269l-.025-.012a7.347 7.347 0 0 1-2.111-1.753c-.03-.036-.057-.074-.086-.11a7.305 7.305 0 0 1-1.594-4.557h1.686a.123.123 0 0 0 .108-.064.119.119 0 0 0-.006-.125L5.684 9.532a.123.123 0 0 0-.103-.056.123.123 0 0 0-.102.056l-2.834 4.276a.121.121 0 0 0-.005.125c.022.04.064.064.107.064h1.687c0 2.025.627 3.902 1.693 5.454.013.021.022.044.037.066.11.159.233.305.352.455.043.057.085.116.13.171.175.213.36.413.55.61.02.018.036.038.054.055a9.447 9.447 0 0 0 2.91 1.996c.058.026.115.054.175.079.202.084.41.158.619.228.098.034.196.069.296.1.183.054.37.1.558.145.125.029.249.06.376.085.052.01.102.027.155.035.177.032.355.05.533.071.064.007.128.018.19.026.32.03.639.052.956.052a9.46 9.46 0 0 0 5.47-1.746 1.16 1.16 0 0 0 .282-1.608 1.143 1.143 0 0 0-1.6-.283zm5.397-5.991a9.604 9.604 0 0 0-1.685-5.441c-.016-.027-.026-.054-.043-.078-.132-.19-.276-.366-.419-.543-.017-.022-.032-.044-.05-.065a9.467 9.467 0 0 0-3.571-2.7l-.114-.051a11.2 11.2 0 0 0-.673-.248c-.082-.027-.163-.057-.247-.082a9.188 9.188 0 0 0-.6-.156c-.113-.026-.224-.055-.337-.077-.057-.011-.109-.028-.164-.037-.151-.027-.304-.039-.455-.058-.104-.013-.208-.03-.313-.04a10.05 10.05 0 0 0-.759-.039c-.045 0-.09-.007-.136-.007l-.025.003a9.45 9.45 0 0 0-5.46 1.737 1.16 1.16 0 0 0-.284 1.608c.363.523 1.08.65 1.6.284a7.182 7.182 0 0 1 4.222-1.32c.217.002.429.013.639.033.065.007.129.017.193.025.173.021.344.046.513.08.075.014.149.033.221.05.166.037.331.077.494.127l.152.051c.185.061.366.127.545.201l.054.025a7.308 7.308 0 0 1 2.741 2.067l.013.018a7.302 7.302 0 0 1 1.652 4.633h-1.686a.123.123 0 0 0-.108.064.12.12 0 0 0 .006.124l2.834 4.277c.022.033.06.054.103.054.042 0 .08-.021.102-.054l2.833-4.277a.12.12 0 0 0 .005-.124.123.123 0 0 0-.108-.064h-1.685z"/>
</svg>
`},function(r,i,e){var n=e(156);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-reload{position:relative;-webkit-order:1;-moz-box-ordinal-group:2;order:1;display:block;width:40px;height:40px;cursor:pointer}.xgplayer-skin-default .xgplayer-reload .xgplayer-icon{margin-top:7px;width:26px}.xgplayer-skin-default .xgplayer-reload .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-reload .xgplayer-tips{margin-left:-22px}.xgplayer-skin-default .xgplayer-reload .xgplayer-tips .xgplayer-tip-reload{display:block}.xgplayer-skin-default .xgplayer-reload:hover{opacity:.85}.xgplayer-skin-default .xgplayer-reload:hover .xgplayer-tips{display:block}.xgplayer-lang-is-en .xgplayer-reload .xgplayer-tips{margin-left:-26px}.xgplayer-lang-is-jp .xgplayer-reload .xgplayer-tips{margin-left:-38px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(158);var s=function(){var l=this;if(!(!l.config.screenShot||l.config.screenShot.hideButton)){var u=l.lang.SCREENSHOT,f=(0,n.createDom)("xg-screenshot",'<p class="name"><span>'+(l.config.screenShot.iconText||u)+"</span></p>",{tabindex:11},"xgplayer-screenshot");l.once("ready",function(){l.controls.appendChild(f)}),["click","touchend"].forEach(function(c){f.addEventListener(c,function(d){d.preventDefault(),d.stopPropagation(),l.userGestureTrigEvent("screenShotBtnClick")})})}};i.default={name:"s_screenShot",method:s},r.exports=i.default},function(r,i,e){var n=e(159);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-screenshot{-webkit-order:11;-moz-box-ordinal-group:12;order:11;position:relative;outline:none;display:block;cursor:pointer;height:20px;top:10px}.xgplayer-skin-default .xgplayer-screenshot .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;color:hsla(0,0%,100%,.8)}.xgplayer-skin-default .xgplayer-screenshot .name span{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:0 10px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-lang-is-en .xgplayer-screenshot .name span,.xgplayer-lang-is-jp .xgplayer-screenshot .name span{width:75px;height:20px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(9),s=o(n);e(78);function o(u){return u&&u.__esModule?u:{default:u}}var l=function(){if(!!this.config.nativeTextTrack){var f=this,c=f.root,d=s.default.util,h=d.createDom("xg-texttrack","",{tabindex:7},"xgplayer-texttrack"),p=f.config.nativeTextTrack;p&&Array.isArray(p)&&p.length>0&&(d.addClass(f.root,"xgplayer-is-texttrack"),f.once("canplay",function(){var g=this,v=["<ul>"];v.push("<li class='"+(this.textTrackShowDefault?"":"selected")+"'}'>"+f.lang.OFF+"</li>"),p.forEach(function(_){v.push("<li class='"+(_.default&&g.textTrackShowDefault?"selected":"")+"'>"+_.label+"</li>")});var b=f.lang.TEXTTRACK;v.push('</ul><p class="name">'+b+"</p>");var S=c.querySelector(".xgplayer-texttrack");if(S){S.innerHTML=v.join("");var C=S.querySelector(".name");(!f.config.textTrackActive||f.config.textTrackActive==="hover")&&C.addEventListener("mouseenter",function(_){_.preventDefault(),_.stopPropagation(),d.addClass(c,"xgplayer-texttrack-active"),S.focus()})}else{h.innerHTML=v.join("");var A=h.querySelector(".name");(!f.config.textTrackActive||f.config.textTrackActive==="hover")&&A.addEventListener("mouseenter",function(_){_.preventDefault(),_.stopPropagation(),d.addClass(f.root,"xgplayer-texttrack-active"),h.focus()}),f.controls.appendChild(h)}})),["touchend","click"].forEach(function(g){h.addEventListener(g,function(v){v.preventDefault(),v.stopPropagation();var b=v.target||v.srcElement;if(b&&b.tagName.toLocaleLowerCase()==="li"){Array.prototype.forEach.call(b.parentNode.childNodes,function(C){d.removeClass(C,"selected")}),d.addClass(b,"selected");var S=f.root.getElementsByTagName("Track");b.innerHTML===f.lang.OFF?(S[0].track.mode="hidden",S[0].src="",d.removeClass(f.root,"xgplayer-texttrack-active")):(S[0].style.display="block",d.addClass(f.root,"xgplayer-texttrack-active"),S[0].track.mode="showing",p.some(function(C){if(C.label===b.innerHTML)return S[0].src=C.src,C.kind&&(S[0].kind=C.kind),S[0].label=C.label,C.srclang&&(S[0].srclang=C.srclang),!0}),f.emit("textTrackChange",b.innerHTML))}else f.config.textTrackActive==="click"&&b&&(b.tagName.toLocaleLowerCase()==="p"||b.tagName.toLocaleLowerCase()==="em")&&(d.addClass(f.root,"xgplayer-texttrack-active"),h.focus())},!1)}),f.on("play",function(){var g=c.querySelector(".xgplayer-texttrack ul"),v=c.getElementsByTagName("Track");!f.hls||!g||!v||(v[0].src="",Array.prototype.forEach.call(g.childNodes,function(b){d.hasClass(b,"selected")&&(b.innerHTML===f.lang.OFF?(v[0].track.mode="hidden",v[0].src=""):(v[0].track.mode="hidden",p.some(function(S){if(S.label!==b.innerHTML)return v[0].src=S.src,S.kind&&(v[0].kind=S.kind),v[0].label=S.label,S.srclang&&(v[0].srclang=S.srclang),!0}),p.some(function(S){if(S.label===b.innerHTML)return setTimeout(function(){v[0].src=S.src,S.kind&&(v[0].kind=S.kind),v[0].label=S.label,S.srclang&&(v[0].srclang=S.srclang),v[0].track.mode="showing"}),!0})))}),d.removeClass(f.root,"xgplayer-texttrack-active"))}),h.addEventListener("mouseleave",function(g){g.preventDefault(),g.stopPropagation(),d.removeClass(f.root,"xgplayer-texttrack-active")})}};i.default={name:"s_nativeTextTrack",method:l},r.exports=i.default},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-texttrack{-webkit-order:7;-moz-box-ordinal-group:8;order:7;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-top:-119px}.xgplayer-skin-default .xgplayer-texttrack ul{display:none;list-style:none;min-width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;text-align:center;white-space:nowrap;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-texttrack ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto;padding:6px 13px}.xgplayer-skin-default .xgplayer-texttrack ul li.selected,.xgplayer-skin-default .xgplayer-texttrack ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-texttrack .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-skin-default .xgplayer-texttrack.xgplayer-texttrack-hide{display:none}xg-text-track{transition:bottom .3s ease}.xgplayer-skin-default.xgplayer-is-texttrack .xgplayer-texttrack,.xgplayer-skin-default.xgplayer-texttrack-active .xgplayer-texttrack ul{display:block}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(78);function s(l,u,f,c){if(u.length===0){l.innerHTML="";return}var d=[];d.push('<li data-type="off" class="'+(c?"":"selected")+'">'+f+"</li>"),u.forEach(function(h){d.push("<li data-id="+h.id+" data-language="+h.language+' class="'+(h.isDefault&&c?"selected":"")+'">'+h.label+"</li>")}),l.innerHTML=d.join("")}var o=function(){var u=this;if(!this.config.textTrack)return;var f=this.config.textTrack,c=u.lang.TEXTTRACK,d=(0,n.createDom)("xg-texttrack",'<ul></ul><p class="name">'+c+"</p>",{tabindex:7},"xgplayer-texttrack");function h(){var g=u.root.querySelector(".xgplayer-texttrack");if(!g){u.controls.appendChild(d);var v=d.querySelector(".name");!u.config.textTrackActive||u.config.textTrackActive==="hover"?(v.addEventListener("mouseenter",function(S){S.preventDefault(),S.stopPropagation(),(0,n.addClass)(u.root,"xgplayer-texttrack-active"),d.focus()}),d.addEventListener("mouseleave",function(S){S.preventDefault(),S.stopPropagation(),(0,n.removeClass)(u.root,"xgplayer-texttrack-active")})):v.addEventListener("click",function(S){S.preventDefault(),S.stopPropagation(),(0,n.hasClass)(u.root,"xgplayer-texttrack-active")?(0,n.removeClass)(u.root,"xgplayer-texttrack-active"):(0,n.addClass)(u.root,"xgplayer-texttrack-active")})}["touchend","click"].forEach(function(S){d.addEventListener(S,function(C){C.preventDefault(),C.stopPropagation();var A=C.target||C.srcElement;if(A&&A.tagName.toLocaleLowerCase()==="li"){var _=A.getAttribute("data-id"),w=A.getAttribute("data-type"),k=A.getAttribute("data-language");Array.prototype.forEach.call(A.parentNode.childNodes,function(R){(0,n.removeClass)(R,"selected")}),(0,n.addClass)(A,"selected"),w==="off"?(u.switchOffSubtile(),(0,n.removeClass)(u.root,"xgplayer-texttrack-active")):(u.switchSubTitle({id:_,language:k}),(0,n.addClass)(u.root,"xgplayer-texttrack-active"))}})});var b=d.getElementsByTagName("ul")[0];s(b,f,u.lang.OFF,u.textTrackShowDefault),f.length===0?(0,n.addClass)(d,"xgplayer-texttrack-hide"):(0,n.removeClass)(d,"xgplayer-texttrack-hide")}var p=function(v){if(!!v.isListUpdate){var b=d.getElementsByTagName("ul")[0];f=v.list,s(b,v.list,u.lang.OFF,u.textTrackShowDefault),v.list.length>0?(0,n.addClass)(u.root,"xgplayer-is-texttrack"):(0,n.removeClass)(u.root,"xgplayer-is-texttrack"),v.list.length===0?(0,n.addClass)(d,"xgplayer-texttrack-hide"):(0,n.removeClass)(d,"xgplayer-texttrack-hide")}};f&&Array.isArray(f)&&(f.length>0&&(0,n.addClass)(u.root,"xgplayer-is-texttrack"),u.once("canplay",h),u.on("subtitle_change",p))};i.default={name:"s_textTrack",method:o},r.exports=i.default},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(164);var s=function(){var l=this,u=l.root,f=(0,n.createDom)("xg-error",'<span class="xgplayer-error-text">\u8BF7<span class="xgplayer-error-refresh">\u5237\u65B0</span>\u8BD5\u8BD5</span>',{},"xgplayer-error");l.once("ready",function(){u.appendChild(f)});var c=f.querySelector(".xgplayer-error-text");l.config.lang&&l.config.lang==="zh-cn"?c.innerHTML=l.config.errorTips||'\u8BF7<span class="xgplayer-error-refresh">\u5237\u65B0</span>\u8BD5\u8BD5':c.innerHTML=l.config.errorTips||'please try to <span class="xgplayer-error-refresh">refresh</span>';var d=null;function h(){(0,n.addClass)(l.root,"xgplayer-is-error"),d=f.querySelector(".xgplayer-error-refresh"),d&&["touchend","click"].forEach(function(g){d.addEventListener(g,function(v){v.preventDefault(),v.stopPropagation(),l.autoplay=!0;var b=l.currentTime;l.once("playing",function(){l.currentTime=b,(0,n.removeClass)(l.root,"xgplayer-is-error")}),l.src=l.config.url})})}l.on("error",h);function p(){l.off("error",h),l.off("destroy",p)}l.once("destroy",p)};i.default={name:"s_error",method:s},r.exports=i.default},function(r,i,e){var n=e(165);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-error{background:#000;display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:125;font-family:PingFangSC-Regular;font-size:14px;color:#fff;text-align:center;line-height:100%;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.xgplayer-skin-default .xgplayer-error .xgplayer-error-refresh{color:#fa1f41;padding:0 3px;cursor:pointer}.xgplayer-skin-default .xgplayer-error .xgplayer-error-text{line-height:18px;margin:auto 6px}.xgplayer-skin-default.xgplayer-is-error .xgplayer-error{display:-webkit-flex;display:-moz-box;display:flex}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0);e(167);var s=function(){var l=this,u=l.config.lastPlayTime||0,f=l.config.lastPlayTimeHideDelay||0,c=null;if(!(u<=0)){c=(0,n.createDom)("xg-memoryplay",'<div class="xgplayer-memoryplay-spot"><div class="xgplayer-progress-tip">\u60A8\u4E0A\u6B21\u89C2\u770B\u5230 <span class="xgplayer-lasttime">'+(0,n.format)(u)+'</span> \uFF0C\u4E3A\u60A8\u81EA\u52A8\u7EED\u64AD <span class="btn-close"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg></span></div></div>',{},"xgplayer-memoryplay"),c.addEventListener("mouseover",function(p){p.stopPropagation()});var d=function(){c&&c.parentNode&&c.parentNode.removeChild(c),c=null};c.querySelector(".xgplayer-progress-tip .btn-close").addEventListener("click",d);var h=function(){f>0&&l.root.appendChild(c),l.emit("memoryPlayStart",u),f>0&&setTimeout(function(){d()},f*1e3)};l.once("play",h),l.once("ended",d)}};i.default={name:"s_memoryPlay",method:s},r.exports=i.default},function(r,i,e){var n=e(168);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-memoryplay-spot{position:absolute;height:32px;left:10px;bottom:46px;background:rgba(0,0,0,.5);border-radius:32px;line-height:32px;color:#ddd;z-index:15;padding:0 32px 0 16px}.xgplayer-skin-default .xgplayer-memoryplay-spot .xgplayer-lasttime{color:red;font-weight:700}.xgplayer-skin-default .xgplayer-memoryplay-spot .btn-close{position:absolute;width:16px;height:16px;right:10px;top:2px;cursor:pointer;color:#fff;font-size:16px}",""])},function(r,i,e){Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e(170),o=l(s);e(171);function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){var c=this;if(!(!c.config.airplay||!window.WebKitPlaybackTargetAvailabilityEvent)){var d=(0,n.createDom)("xg-airplay",`<xg-icon class="xgplayer-icon">
    <div class="xgplayer-icon-airplay">`+o.default+`</div>
  </xg-icon>`,{},"xgplayer-airplay"),h=(0,n.createDom)("xg-tips",'<span class="xgplayer-tip-airplay">'+c.lang.AIRPLAY_TIPS+"</span>",{},"xgplayer-tips");d.appendChild(h),c.once("ready",function(){c.controls.appendChild(d),c.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(p){switch(p.availability){case"available":d.hidden=!1,d.disabled=!1;break;case"not-available":d.hidden=!0,d.disabled=!0;break}})}),["click","touchend"].forEach(function(p){d.addEventListener(p,function(g){g.preventDefault(),g.stopPropagation(),c.userGestureTrigEvent("airplayBtnClick")})})}};i.default={name:"s_airplay",method:u},r.exports=i.default},function(r,i,e){e.r(i),i.default='<svg t="1600422191774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3100" width="28" height="28"><path d="M256 938.666667h512L512 597.333333 256 938.666667z m170.666667-85.333334l85.333333-113.781333L597.333333 853.333333H426.666667zM853.333333 85.333333H170.666667C99.946667 85.333333 42.666667 142.613333 42.666667 213.333333v426.666667c0 70.72 57.28 128 128 128h106.666666l64-85.333333H170.666667c-23.573333 0-42.666667-19.093333-42.666667-42.666667V213.333333c0-23.573333 19.093333-42.666667 42.666667-42.666666h682.666666c23.573333 0 42.666667 19.093333 42.666667 42.666666v426.666667c0 23.573333-19.093333 42.666667-42.666667 42.666667H682.666667l64 85.333333h106.666666c70.72 0 128-57.28 128-128V213.333333c0-70.72-57.28-128-128-128z" p-id="3101" fill="#ffffff"></path></svg>'},function(r,i,e){var n=e(172);typeof n=="string"&&(n=[[r.i,n,""]]);var s,o={hmr:!0};o.transform=s,o.insertInto=void 0,e(2)(n,o),n.locals&&(r.exports=n.locals)},function(r,i,e){i=r.exports=e(1)(!1),i.push([r.i,".xgplayer-skin-default .xgplayer-airplay{position:relative;-webkit-order:11;-moz-box-ordinal-group:12;order:11;display:block;cursor:pointer;margin-left:5px;margin-right:3px}.xgplayer-skin-default .xgplayer-airplay .xgplayer-icon{margin-top:6px;margin-left:6px}.xgplayer-skin-default .xgplayer-airplay .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-airplay .xgplayer-icon .xgplayer-icon-airplay{display:block}.xgplayer-skin-default .xgplayer-airplay .xgplayer-tips{position:absolute;right:0;left:auto}.xgplayer-skin-default .xgplayer-airplay .xgplayer-tips .xgplayer-tip-airplay{display:block}.xgplayer-skin-default .xgplayer-airplay:hover{opacity:.85}.xgplayer-skin-default .xgplayer-airplay:hover .xgplayer-tips{display:block}",""])}])})})(Wy);var _k=E_(Wy.exports);function uk(a="div",t="",r={},i=""){let e=document.createElement(a);return e.className=i,e.innerHTML=t,Object.keys(r).forEach(n=>{let s=n,o=r[n];a==="video"||a==="audio"?o&&e.setAttribute(s,o):e.setAttribute(s,o)}),e}function Qd(a,t){return a?a.classList?Array.prototype.some.call(a.classList,r=>r===t):a.className?!!a.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1:!1}function ck(a,t){!a||(a.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(r=>{r&&a.classList.add(r)}):Qd(a,t)||(a.className+=" "+t))}function fk(a,t){!a||(a.classList?t.split(/\s+/g).forEach(r=>{a.classList.remove(r)}):Qd(a,t)&&t.split(/\s+/g).forEach(r=>{let i=new RegExp("(\\s|^)"+r+"(\\s|$)");a.className=a.className.replace(i," ")}))}function bk(a,t){!a||t.split(/\s+/g).forEach(r=>{Qd(a,r)?fk(a,r):ck(a,r)})}function Tk(a=document,t){let r;try{r=a.querySelector(t)}catch{t.indexOf("#")===0&&(r=a.getElementById(t.slice(1)))}return r}function Jd(a,t,r){let i=String(r),e=t>>0,n=Math.ceil(e/i.length),s=[],o=String(a);for(;n--;)s.push(i);return s.join("").substring(0,e-o.length)+o}function Sk(a){if(window.isNaN(a))return"";let t=Jd(Math.floor(a/3600),2,0),r=Jd(Math.floor((a-t*3600)/60),2,0),i=Jd(Math.floor(a-t*3600-r*60),2,0);return(t==="00"?[r,i]:[t,r,i]).join(":")}function Ek(a){if(a.touches){let t=a.touches[0]||a.changedTouches[0];a.clientX=t.clientX||0,a.clientY=t.clientY||0,a.offsetX=t.pageX-t.target.offsetLeft,a.offsetY=t.pageY-t.target.offsetTop}a._target=a.target||a.srcElement}function yo(a){return Object.prototype.toString.call(a).match(/([^\s.*]+)(?=]$)/g)[0]}function dk(a,t){if(yo(t)==="Object"&&yo(a)==="Object")return Object.keys(t).forEach(r=>{yo(t[r])==="Object"&&!(t[r]instanceof Node)?a[r]?dk(a[r],t[r]):a[r]=t[r]:yo(t[r])==="Array"?a[r]=yo(a[r])==="Array"?a[r].concat(t[r]):t[r]:a[r]=t[r]}),a}function Ck(a,t,r,i){let e=uk(`xg-${a}`,"",{},`xgplayer-${a}-img`);if(e.style.backgroundImage=`url("${t}")`,r&&i){let n,s,o;["px","rem","em","pt","dp","vw","vh","vm","%"].every(l=>r.indexOf(l)>-1&&i.indexOf(l)>-1?(n=Number(r.slice(0,r.indexOf(l)).trim()),s=Number(i.slice(0,i.indexOf(l)).trim()),o=l,!1):!0),e.style.width=`${n}${o}`,e.style.height=`${s}${o}`,e.style.backgroundSize=`${n}${o} ${s}${o}`,a==="start"?e.style.margin=`-${s/2}${o} auto auto -${n/2}${o}`:e.style.margin="auto 5px auto 5px"}return e}function kk(){return window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1}function wk(){return window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")>-1}let Au={};Object.defineProperty(Au,"device",{get:function(){return Au.os.isPc?"pc":"mobile"}});Object.defineProperty(Au,"browser",{get:function(){let a=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter(r=>t[r].test(a)))[0]||""}});Object.defineProperty(Au,"os",{get:function(){let a=navigator.userAgent,t=/(?:Windows Phone)/.test(a),r=/(?:SymbianOS)/.test(a)||t,i=/(?:Android)/.test(a),e=/(?:Firefox)/.test(a),n=/(?:iPad|PlayBook)/.test(a)||i&&!/(?:Mobile)/.test(a)||e&&/(?:Tablet)/.test(a),s=/(?:iPhone)/.test(a)&&!n;return{isTablet:n,isPhone:s,isAndroid:i,isPc:!s&&!i&&!r&&!n,isSymbian:r,isWindowsPhone:t,isFireFox:e}}});export{dn as A,j0 as B,pk as C,gk as D,xk as E,$r as F,_k as P,Xh as a,Fx as b,vk as c,mk as d,gp as e,yk as f,uk as g,Ck as h,ck as i,fk as j,kk as k,wk as l,Qd as m,q0 as n,Kh as o,bk as p,Ek as q,hk as r,Au as s,yo as t,Tk as u,se as v,Ac as w,Sk as x,dk as y,xc as z};
